(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{79742:function(A,S){"use strict";S.byteLength=L,S.toByteArray=B,S.fromByteArray=H;for(var T=[],M=[],R="undefined"!=typeof Uint8Array?Uint8Array:Array,O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=0,F=O.length;I<F;++I)T[I]=O[I],M[O.charCodeAt(I)]=I;function D(A){var S=A.length;if(S%4>0)throw Error("Invalid string. Length must be a multiple of 4");var T=A.indexOf("=");-1===T&&(T=S);var M=T===S?0:4-T%4;return[T,M]}function L(A){var S=D(A),T=S[0],M=S[1];return(T+M)*3/4-M}function N(A,S,T){return(S+T)*3/4-T}function B(A){var S,T,O=D(A),I=O[0],F=O[1],L=new R(N(A,I,F)),B=0,$=F>0?I-4:I;for(T=0;T<$;T+=4)S=M[A.charCodeAt(T)]<<18|M[A.charCodeAt(T+1)]<<12|M[A.charCodeAt(T+2)]<<6|M[A.charCodeAt(T+3)],L[B++]=S>>16&255,L[B++]=S>>8&255,L[B++]=255&S;return 2===F&&(S=M[A.charCodeAt(T)]<<2|M[A.charCodeAt(T+1)]>>4,L[B++]=255&S),1===F&&(S=M[A.charCodeAt(T)]<<10|M[A.charCodeAt(T+1)]<<4|M[A.charCodeAt(T+2)]>>2,L[B++]=S>>8&255,L[B++]=255&S),L}function $(A){return T[A>>18&63]+T[A>>12&63]+T[A>>6&63]+T[63&A]}function z(A,S,T){for(var M=[],R=S;R<T;R+=3)M.push($((A[R]<<16&16711680)+(A[R+1]<<8&65280)+(255&A[R+2])));return M.join("")}function H(A){for(var S,M=A.length,R=M%3,O=[],I=16383,F=0,D=M-R;F<D;F+=I)O.push(z(A,F,F+I>D?D:F+I));return 1===R?O.push(T[(S=A[M-1])>>2]+T[S<<4&63]+"=="):2===R&&O.push(T[(S=(A[M-2]<<8)+A[M-1])>>10]+T[S>>4&63]+T[S<<2&63]+"="),O.join("")}M["-".charCodeAt(0)]=62,M["_".charCodeAt(0)]=63},48764:function(A,S,T){"use strict";var M;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let R=T(79742),O=T(80645),I="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;S.lW=N,M=Q,S.h2=50;let F=2147483647;function D(){try{let A=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(A,S),42===A.foo()}catch(A){return!1}}function L(A){if(A>F)throw RangeError('The value "'+A+'" is invalid for option "size"');let S=new Uint8Array(A);return Object.setPrototypeOf(S,N.prototype),S}function N(A,S,T){if("number"==typeof A){if("string"==typeof S)throw TypeError('The "string" argument must be of type string. Received type number');return H(A)}return B(A,S,T)}function B(A,S,T){if("string"==typeof A)return V(A,S);if(ArrayBuffer.isView(A))return X(A);if(null==A)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(t$(A,ArrayBuffer)||A&&t$(A.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(t$(A,SharedArrayBuffer)||A&&t$(A.buffer,SharedArrayBuffer)))return K(A,S,T);if("number"==typeof A)throw TypeError('The "value" argument must not be of type number. Received type number');let M=A.valueOf&&A.valueOf();if(null!=M&&M!==A)return N.from(M,S,T);let R=Y(A);if(R)return R;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof A[Symbol.toPrimitive])return N.from(A[Symbol.toPrimitive]("string"),S,T);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function $(A){if("number"!=typeof A)throw TypeError('"size" argument must be of type number');if(A<0)throw RangeError('The value "'+A+'" is invalid for option "size"')}function z(A,S,T){return($(A),A<=0)?L(A):void 0!==S?"string"==typeof T?L(A).fill(S,T):L(A).fill(S):L(A)}function H(A){return $(A),L(A<0?0:0|J(A))}function V(A,S){if(("string"!=typeof S||""===S)&&(S="utf8"),!N.isEncoding(S))throw TypeError("Unknown encoding: "+S);let T=0|Z(A,S),M=L(T),R=M.write(A,S);return R!==T&&(M=M.slice(0,R)),M}function W(A){let S=A.length<0?0:0|J(A.length),T=L(S);for(let M=0;M<S;M+=1)T[M]=255&A[M];return T}function X(A){if(t$(A,Uint8Array)){let S=new Uint8Array(A);return K(S.buffer,S.byteOffset,S.byteLength)}return W(A)}function K(A,S,T){let M;if(S<0||A.byteLength<S)throw RangeError('"offset" is outside of buffer bounds');if(A.byteLength<S+(T||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(M=void 0===S&&void 0===T?new Uint8Array(A):void 0===T?new Uint8Array(A,S):new Uint8Array(A,S,T),N.prototype),M}function Y(A){if(N.isBuffer(A)){let S=0|J(A.length),T=L(S);return 0===T.length||A.copy(T,0,0,S),T}return void 0!==A.length?"number"!=typeof A.length||tz(A.length)?L(0):W(A):"Buffer"===A.type&&Array.isArray(A.data)?W(A.data):void 0}function J(A){if(A>=F)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");return 0|A}function Q(A){return+A!=A&&(A=0),N.alloc(+A)}function Z(A,S){if(N.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||t$(A,ArrayBuffer))return A.byteLength;if("string"!=typeof A)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);let T=A.length,M=arguments.length>2&&!0===arguments[2];if(!M&&0===T)return 0;let R=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return tL(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*T;case"hex":return T>>>1;case"base64":return tj(A).length;default:if(R)return M?-1:tL(A).length;S=(""+S).toLowerCase(),R=!0}}function tt(A,S,T){let M=!1;if((void 0===S||S<0)&&(S=0),S>this.length||((void 0===T||T>this.length)&&(T=this.length),T<=0||(T>>>=0)<=(S>>>=0)))return"";for(A||(A="utf8");;)switch(A){case"hex":return tm(this,S,T);case"utf8":case"utf-8":return tu(this,S,T);case"ascii":return tf(this,S,T);case"latin1":case"binary":return tg(this,S,T);case"base64":return td(this,S,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tb(this,S,T);default:if(M)throw TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),M=!0}}function te(A,S,T){let M=A[S];A[S]=A[T],A[T]=M}function ti(A,S,T,M,R){if(0===A.length)return -1;if("string"==typeof T?(M=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),tz(T=+T)&&(T=R?0:A.length-1),T<0&&(T=A.length+T),T>=A.length){if(R)return -1;T=A.length-1}else if(T<0){if(!R)return -1;T=0}if("string"==typeof S&&(S=N.from(S,M)),N.isBuffer(S))return 0===S.length?-1:tr(A,S,T,M,R);if("number"==typeof S)return(S&=255,"function"==typeof Uint8Array.prototype.indexOf)?R?Uint8Array.prototype.indexOf.call(A,S,T):Uint8Array.prototype.lastIndexOf.call(A,S,T):tr(A,[S],T,M,R);throw TypeError("val must be string, number or Buffer")}function tr(A,S,T,M,R){let O,I=1,F=A.length,D=S.length;if(void 0!==M&&("ucs2"===(M=String(M).toLowerCase())||"ucs-2"===M||"utf16le"===M||"utf-16le"===M)){if(A.length<2||S.length<2)return -1;I=2,F/=2,D/=2,T/=2}function L(A,S){return 1===I?A[S]:A.readUInt16BE(S*I)}if(R){let M=-1;for(O=T;O<F;O++)if(L(A,O)===L(S,-1===M?0:O-M)){if(-1===M&&(M=O),O-M+1===D)return M*I}else -1!==M&&(O-=O-M),M=-1}else for(T+D>F&&(T=F-D),O=T;O>=0;O--){let T=!0;for(let M=0;M<D;M++)if(L(A,O+M)!==L(S,M)){T=!1;break}if(T)return O}return -1}function tn(A,S,T,M){let R;T=Number(T)||0;let O=A.length-T;M?(M=Number(M))>O&&(M=O):M=O;let I=S.length;for(M>I/2&&(M=I/2),R=0;R<M;++R){let M=parseInt(S.substr(2*R,2),16);if(tz(M))break;A[T+R]=M}return R}function ts(A,S,T,M){return tU(tL(S,A.length-T),A,T,M)}function ta(A,S,T,M){return tU(tN(S),A,T,M)}function tl(A,S,T,M){return tU(tj(S),A,T,M)}function th(A,S,T,M){return tU(tB(S,A.length-T),A,T,M)}function td(A,S,T){return 0===S&&T===A.length?R.fromByteArray(A):R.fromByteArray(A.slice(S,T))}function tu(A,S,T){T=Math.min(A.length,T);let M=[],R=S;for(;R<T;){let S=A[R],O=null,I=S>239?4:S>223?3:S>191?2:1;if(R+I<=T){let T,M,F,D;switch(I){case 1:S<128&&(O=S);break;case 2:(192&(T=A[R+1]))==128&&(D=(31&S)<<6|63&T)>127&&(O=D);break;case 3:T=A[R+1],M=A[R+2],(192&T)==128&&(192&M)==128&&(D=(15&S)<<12|(63&T)<<6|63&M)>2047&&(D<55296||D>57343)&&(O=D);break;case 4:T=A[R+1],M=A[R+2],F=A[R+3],(192&T)==128&&(192&M)==128&&(192&F)==128&&(D=(15&S)<<18|(63&T)<<12|(63&M)<<6|63&F)>65535&&D<1114112&&(O=D)}}null===O?(O=65533,I=1):O>65535&&(O-=65536,M.push(O>>>10&1023|55296),O=56320|1023&O),M.push(O),R+=I}return tp(M)}M=F,N.TYPED_ARRAY_SUPPORT=D(),N.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(N.prototype,"parent",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.buffer}}),Object.defineProperty(N.prototype,"offset",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.byteOffset}}),N.poolSize=8192,N.from=function(A,S,T){return B(A,S,T)},Object.setPrototypeOf(N.prototype,Uint8Array.prototype),Object.setPrototypeOf(N,Uint8Array),N.alloc=function(A,S,T){return z(A,S,T)},N.allocUnsafe=function(A){return H(A)},N.allocUnsafeSlow=function(A){return H(A)},N.isBuffer=function(A){return null!=A&&!0===A._isBuffer&&A!==N.prototype},N.compare=function(A,S){if(t$(A,Uint8Array)&&(A=N.from(A,A.offset,A.byteLength)),t$(S,Uint8Array)&&(S=N.from(S,S.offset,S.byteLength)),!N.isBuffer(A)||!N.isBuffer(S))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===S)return 0;let T=A.length,M=S.length;for(let R=0,O=Math.min(T,M);R<O;++R)if(A[R]!==S[R]){T=A[R],M=S[R];break}return T<M?-1:M<T?1:0},N.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},N.concat=function(A,S){let T;if(!Array.isArray(A))throw TypeError('"list" argument must be an Array of Buffers');if(0===A.length)return N.alloc(0);if(void 0===S)for(T=0,S=0;T<A.length;++T)S+=A[T].length;let M=N.allocUnsafe(S),R=0;for(T=0;T<A.length;++T){let S=A[T];if(t$(S,Uint8Array))R+S.length>M.length?(N.isBuffer(S)||(S=N.from(S)),S.copy(M,R)):Uint8Array.prototype.set.call(M,S,R);else if(N.isBuffer(S))S.copy(M,R);else throw TypeError('"list" argument must be an Array of Buffers');R+=S.length}return M},N.byteLength=Z,N.prototype._isBuffer=!0,N.prototype.swap16=function(){let A=this.length;if(A%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<A;S+=2)te(this,S,S+1);return this},N.prototype.swap32=function(){let A=this.length;if(A%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<A;S+=4)te(this,S,S+3),te(this,S+1,S+2);return this},N.prototype.swap64=function(){let A=this.length;if(A%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<A;S+=8)te(this,S,S+7),te(this,S+1,S+6),te(this,S+2,S+5),te(this,S+3,S+4);return this},N.prototype.toString=function(){let A=this.length;return 0===A?"":0==arguments.length?tu(this,0,A):tt.apply(this,arguments)},N.prototype.toLocaleString=N.prototype.toString,N.prototype.equals=function(A){if(!N.isBuffer(A))throw TypeError("Argument must be a Buffer");return this===A||0===N.compare(this,A)},N.prototype.inspect=function(){let A="",T=S.h2;return A=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(A+=" ... "),"<Buffer "+A+">"},I&&(N.prototype[I]=N.prototype.inspect),N.prototype.compare=function(A,S,T,M,R){if(t$(A,Uint8Array)&&(A=N.from(A,A.offset,A.byteLength)),!N.isBuffer(A))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(void 0===S&&(S=0),void 0===T&&(T=A?A.length:0),void 0===M&&(M=0),void 0===R&&(R=this.length),S<0||T>A.length||M<0||R>this.length)throw RangeError("out of range index");if(M>=R&&S>=T)return 0;if(M>=R)return -1;if(S>=T)return 1;if(S>>>=0,T>>>=0,M>>>=0,R>>>=0,this===A)return 0;let O=R-M,I=T-S,F=Math.min(O,I),D=this.slice(M,R),L=A.slice(S,T);for(let A=0;A<F;++A)if(D[A]!==L[A]){O=D[A],I=L[A];break}return O<I?-1:I<O?1:0},N.prototype.includes=function(A,S,T){return -1!==this.indexOf(A,S,T)},N.prototype.indexOf=function(A,S,T){return ti(this,A,S,T,!0)},N.prototype.lastIndexOf=function(A,S,T){return ti(this,A,S,T,!1)},N.prototype.write=function(A,S,T,M){if(void 0===S)M="utf8",T=this.length,S=0;else if(void 0===T&&"string"==typeof S)M=S,T=this.length,S=0;else if(isFinite(S))S>>>=0,isFinite(T)?(T>>>=0,void 0===M&&(M="utf8")):(M=T,T=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let R=this.length-S;if((void 0===T||T>R)&&(T=R),A.length>0&&(T<0||S<0)||S>this.length)throw RangeError("Attempt to write outside buffer bounds");M||(M="utf8");let O=!1;for(;;)switch(M){case"hex":return tn(this,A,S,T);case"utf8":case"utf-8":return ts(this,A,S,T);case"ascii":case"latin1":case"binary":return ta(this,A,S,T);case"base64":return tl(this,A,S,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return th(this,A,S,T);default:if(O)throw TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),O=!0}},N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let tc=4096;function tp(A){let S=A.length;if(S<=tc)return String.fromCharCode.apply(String,A);let T="",M=0;for(;M<S;)T+=String.fromCharCode.apply(String,A.slice(M,M+=tc));return T}function tf(A,S,T){let M="";T=Math.min(A.length,T);for(let R=S;R<T;++R)M+=String.fromCharCode(127&A[R]);return M}function tg(A,S,T){let M="";T=Math.min(A.length,T);for(let R=S;R<T;++R)M+=String.fromCharCode(A[R]);return M}function tm(A,S,T){let M=A.length;(!S||S<0)&&(S=0),(!T||T<0||T>M)&&(T=M);let R="";for(let M=S;M<T;++M)R+=tG[A[M]];return R}function tb(A,S,T){let M=A.slice(S,T),R="";for(let A=0;A<M.length-1;A+=2)R+=String.fromCharCode(M[A]+256*M[A+1]);return R}function tv(A,S,T){if(A%1!=0||A<0)throw RangeError("offset is not uint");if(A+S>T)throw RangeError("Trying to access beyond buffer length")}function tA(A,S,T,M,R,O){if(!N.isBuffer(A))throw TypeError('"buffer" argument must be a Buffer instance');if(S>R||S<O)throw RangeError('"value" argument is out of bounds');if(T+M>A.length)throw RangeError("Index out of range")}function t_(A,S,T,M,R){tk(S,M,R,A,T,7);let O=Number(S&BigInt(4294967295));A[T++]=O,O>>=8,A[T++]=O,O>>=8,A[T++]=O,O>>=8,A[T++]=O;let I=Number(S>>BigInt(32)&BigInt(4294967295));return A[T++]=I,I>>=8,A[T++]=I,I>>=8,A[T++]=I,I>>=8,A[T++]=I,T}function tE(A,S,T,M,R){tk(S,M,R,A,T,7);let O=Number(S&BigInt(4294967295));A[T+7]=O,O>>=8,A[T+6]=O,O>>=8,A[T+5]=O,O>>=8,A[T+4]=O;let I=Number(S>>BigInt(32)&BigInt(4294967295));return A[T+3]=I,I>>=8,A[T+2]=I,I>>=8,A[T+1]=I,I>>=8,A[T]=I,T+8}function tS(A,S,T,M,R,O){if(T+M>A.length||T<0)throw RangeError("Index out of range")}function tw(A,S,T,M,R){return S=+S,T>>>=0,R||tS(A,S,T,4,34028234663852886e22,-34028234663852886e22),O.write(A,S,T,M,23,4),T+4}function tC(A,S,T,M,R){return S=+S,T>>>=0,R||tS(A,S,T,8,17976931348623157e292,-17976931348623157e292),O.write(A,S,T,M,52,8),T+8}N.prototype.slice=function(A,S){let T=this.length;A=~~A,S=void 0===S?T:~~S,A<0?(A+=T)<0&&(A=0):A>T&&(A=T),S<0?(S+=T)<0&&(S=0):S>T&&(S=T),S<A&&(S=A);let M=this.subarray(A,S);return Object.setPrototypeOf(M,N.prototype),M},N.prototype.readUintLE=N.prototype.readUIntLE=function(A,S,T){A>>>=0,S>>>=0,T||tv(A,S,this.length);let M=this[A],R=1,O=0;for(;++O<S&&(R*=256);)M+=this[A+O]*R;return M},N.prototype.readUintBE=N.prototype.readUIntBE=function(A,S,T){A>>>=0,S>>>=0,T||tv(A,S,this.length);let M=this[A+--S],R=1;for(;S>0&&(R*=256);)M+=this[A+--S]*R;return M},N.prototype.readUint8=N.prototype.readUInt8=function(A,S){return A>>>=0,S||tv(A,1,this.length),this[A]},N.prototype.readUint16LE=N.prototype.readUInt16LE=function(A,S){return A>>>=0,S||tv(A,2,this.length),this[A]|this[A+1]<<8},N.prototype.readUint16BE=N.prototype.readUInt16BE=function(A,S){return A>>>=0,S||tv(A,2,this.length),this[A]<<8|this[A+1]},N.prototype.readUint32LE=N.prototype.readUInt32LE=function(A,S){return A>>>=0,S||tv(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},N.prototype.readUint32BE=N.prototype.readUInt32BE=function(A,S){return A>>>=0,S||tv(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},N.prototype.readBigUInt64LE=tH(function(A){tO(A>>>=0,"offset");let S=this[A],T=this[A+7];(void 0===S||void 0===T)&&tI(A,this.length-8);let M=S+256*this[++A]+65536*this[++A]+16777216*this[++A],R=this[++A]+256*this[++A]+65536*this[++A]+16777216*T;return BigInt(M)+(BigInt(R)<<BigInt(32))}),N.prototype.readBigUInt64BE=tH(function(A){tO(A>>>=0,"offset");let S=this[A],T=this[A+7];(void 0===S||void 0===T)&&tI(A,this.length-8);let M=16777216*S+65536*this[++A]+256*this[++A]+this[++A],R=16777216*this[++A]+65536*this[++A]+256*this[++A]+T;return(BigInt(M)<<BigInt(32))+BigInt(R)}),N.prototype.readIntLE=function(A,S,T){A>>>=0,S>>>=0,T||tv(A,S,this.length);let M=this[A],R=1,O=0;for(;++O<S&&(R*=256);)M+=this[A+O]*R;return M>=(R*=128)&&(M-=Math.pow(2,8*S)),M},N.prototype.readIntBE=function(A,S,T){A>>>=0,S>>>=0,T||tv(A,S,this.length);let M=S,R=1,O=this[A+--M];for(;M>0&&(R*=256);)O+=this[A+--M]*R;return O>=(R*=128)&&(O-=Math.pow(2,8*S)),O},N.prototype.readInt8=function(A,S){return(A>>>=0,S||tv(A,1,this.length),128&this[A])?-((255-this[A]+1)*1):this[A]},N.prototype.readInt16LE=function(A,S){A>>>=0,S||tv(A,2,this.length);let T=this[A]|this[A+1]<<8;return 32768&T?4294901760|T:T},N.prototype.readInt16BE=function(A,S){A>>>=0,S||tv(A,2,this.length);let T=this[A+1]|this[A]<<8;return 32768&T?4294901760|T:T},N.prototype.readInt32LE=function(A,S){return A>>>=0,S||tv(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},N.prototype.readInt32BE=function(A,S){return A>>>=0,S||tv(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},N.prototype.readBigInt64LE=tH(function(A){tO(A>>>=0,"offset");let S=this[A],T=this[A+7];(void 0===S||void 0===T)&&tI(A,this.length-8);let M=this[A+4]+256*this[A+5]+65536*this[A+6]+(T<<24);return(BigInt(M)<<BigInt(32))+BigInt(S+256*this[++A]+65536*this[++A]+16777216*this[++A])}),N.prototype.readBigInt64BE=tH(function(A){tO(A>>>=0,"offset");let S=this[A],T=this[A+7];(void 0===S||void 0===T)&&tI(A,this.length-8);let M=(S<<24)+65536*this[++A]+256*this[++A]+this[++A];return(BigInt(M)<<BigInt(32))+BigInt(16777216*this[++A]+65536*this[++A]+256*this[++A]+T)}),N.prototype.readFloatLE=function(A,S){return A>>>=0,S||tv(A,4,this.length),O.read(this,A,!0,23,4)},N.prototype.readFloatBE=function(A,S){return A>>>=0,S||tv(A,4,this.length),O.read(this,A,!1,23,4)},N.prototype.readDoubleLE=function(A,S){return A>>>=0,S||tv(A,8,this.length),O.read(this,A,!0,52,8)},N.prototype.readDoubleBE=function(A,S){return A>>>=0,S||tv(A,8,this.length),O.read(this,A,!1,52,8)},N.prototype.writeUintLE=N.prototype.writeUIntLE=function(A,S,T,M){if(A=+A,S>>>=0,T>>>=0,!M){let M=Math.pow(2,8*T)-1;tA(this,A,S,T,M,0)}let R=1,O=0;for(this[S]=255&A;++O<T&&(R*=256);)this[S+O]=A/R&255;return S+T},N.prototype.writeUintBE=N.prototype.writeUIntBE=function(A,S,T,M){if(A=+A,S>>>=0,T>>>=0,!M){let M=Math.pow(2,8*T)-1;tA(this,A,S,T,M,0)}let R=T-1,O=1;for(this[S+R]=255&A;--R>=0&&(O*=256);)this[S+R]=A/O&255;return S+T},N.prototype.writeUint8=N.prototype.writeUInt8=function(A,S,T){return A=+A,S>>>=0,T||tA(this,A,S,1,255,0),this[S]=255&A,S+1},N.prototype.writeUint16LE=N.prototype.writeUInt16LE=function(A,S,T){return A=+A,S>>>=0,T||tA(this,A,S,2,65535,0),this[S]=255&A,this[S+1]=A>>>8,S+2},N.prototype.writeUint16BE=N.prototype.writeUInt16BE=function(A,S,T){return A=+A,S>>>=0,T||tA(this,A,S,2,65535,0),this[S]=A>>>8,this[S+1]=255&A,S+2},N.prototype.writeUint32LE=N.prototype.writeUInt32LE=function(A,S,T){return A=+A,S>>>=0,T||tA(this,A,S,4,4294967295,0),this[S+3]=A>>>24,this[S+2]=A>>>16,this[S+1]=A>>>8,this[S]=255&A,S+4},N.prototype.writeUint32BE=N.prototype.writeUInt32BE=function(A,S,T){return A=+A,S>>>=0,T||tA(this,A,S,4,4294967295,0),this[S]=A>>>24,this[S+1]=A>>>16,this[S+2]=A>>>8,this[S+3]=255&A,S+4},N.prototype.writeBigUInt64LE=tH(function(A,S=0){return t_(this,A,S,BigInt(0),BigInt("0xffffffffffffffff"))}),N.prototype.writeBigUInt64BE=tH(function(A,S=0){return tE(this,A,S,BigInt(0),BigInt("0xffffffffffffffff"))}),N.prototype.writeIntLE=function(A,S,T,M){if(A=+A,S>>>=0,!M){let M=Math.pow(2,8*T-1);tA(this,A,S,T,M-1,-M)}let R=0,O=1,I=0;for(this[S]=255&A;++R<T&&(O*=256);)A<0&&0===I&&0!==this[S+R-1]&&(I=1),this[S+R]=(A/O>>0)-I&255;return S+T},N.prototype.writeIntBE=function(A,S,T,M){if(A=+A,S>>>=0,!M){let M=Math.pow(2,8*T-1);tA(this,A,S,T,M-1,-M)}let R=T-1,O=1,I=0;for(this[S+R]=255&A;--R>=0&&(O*=256);)A<0&&0===I&&0!==this[S+R+1]&&(I=1),this[S+R]=(A/O>>0)-I&255;return S+T},N.prototype.writeInt8=function(A,S,T){return A=+A,S>>>=0,T||tA(this,A,S,1,127,-128),A<0&&(A=255+A+1),this[S]=255&A,S+1},N.prototype.writeInt16LE=function(A,S,T){return A=+A,S>>>=0,T||tA(this,A,S,2,32767,-32768),this[S]=255&A,this[S+1]=A>>>8,S+2},N.prototype.writeInt16BE=function(A,S,T){return A=+A,S>>>=0,T||tA(this,A,S,2,32767,-32768),this[S]=A>>>8,this[S+1]=255&A,S+2},N.prototype.writeInt32LE=function(A,S,T){return A=+A,S>>>=0,T||tA(this,A,S,4,2147483647,-2147483648),this[S]=255&A,this[S+1]=A>>>8,this[S+2]=A>>>16,this[S+3]=A>>>24,S+4},N.prototype.writeInt32BE=function(A,S,T){return A=+A,S>>>=0,T||tA(this,A,S,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[S]=A>>>24,this[S+1]=A>>>16,this[S+2]=A>>>8,this[S+3]=255&A,S+4},N.prototype.writeBigInt64LE=tH(function(A,S=0){return t_(this,A,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),N.prototype.writeBigInt64BE=tH(function(A,S=0){return tE(this,A,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),N.prototype.writeFloatLE=function(A,S,T){return tw(this,A,S,!0,T)},N.prototype.writeFloatBE=function(A,S,T){return tw(this,A,S,!1,T)},N.prototype.writeDoubleLE=function(A,S,T){return tC(this,A,S,!0,T)},N.prototype.writeDoubleBE=function(A,S,T){return tC(this,A,S,!1,T)},N.prototype.copy=function(A,S,T,M){if(!N.isBuffer(A))throw TypeError("argument should be a Buffer");if(T||(T=0),M||0===M||(M=this.length),S>=A.length&&(S=A.length),S||(S=0),M>0&&M<T&&(M=T),M===T||0===A.length||0===this.length)return 0;if(S<0)throw RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw RangeError("Index out of range");if(M<0)throw RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),A.length-S<M-T&&(M=A.length-S+T);let R=M-T;return this===A&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(S,T,M):Uint8Array.prototype.set.call(A,this.subarray(T,M),S),R},N.prototype.fill=function(A,S,T,M){let R;if("string"==typeof A){if("string"==typeof S?(M=S,S=0,T=this.length):"string"==typeof T&&(M=T,T=this.length),void 0!==M&&"string"!=typeof M)throw TypeError("encoding must be a string");if("string"==typeof M&&!N.isEncoding(M))throw TypeError("Unknown encoding: "+M);if(1===A.length){let S=A.charCodeAt(0);("utf8"===M&&S<128||"latin1"===M)&&(A=S)}}else"number"==typeof A?A&=255:"boolean"==typeof A&&(A=Number(A));if(S<0||this.length<S||this.length<T)throw RangeError("Out of range index");if(T<=S)return this;if(S>>>=0,T=void 0===T?this.length:T>>>0,A||(A=0),"number"==typeof A)for(R=S;R<T;++R)this[R]=A;else{let O=N.isBuffer(A)?A:N.from(A,M),I=O.length;if(0===I)throw TypeError('The value "'+A+'" is invalid for argument "value"');for(R=0;R<T-S;++R)this[R+S]=O[R%I]}return this};let tT={};function tP(A,S,T){tT[A]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}function tM(A){let S="",T=A.length,M="-"===A[0]?1:0;for(;T>=M+4;T-=3)S=`_${A.slice(T-3,T)}${S}`;return`${A.slice(0,T)}${S}`}function tR(A,S,T){tO(S,"offset"),(void 0===A[S]||void 0===A[S+T])&&tI(S,A.length-(T+1))}function tk(A,S,T,M,R,O){if(A>T||A<S){let M;let R="bigint"==typeof S?"n":"";throw M=O>3?0===S||S===BigInt(0)?`>= 0${R} and < 2${R} ** ${(O+1)*8}${R}`:`>= -(2${R} ** ${(O+1)*8-1}${R}) and < 2 ** ${(O+1)*8-1}${R}`:`>= ${S}${R} and <= ${T}${R}`,new tT.ERR_OUT_OF_RANGE("value",M,A)}tR(M,R,O)}function tO(A,S){if("number"!=typeof A)throw new tT.ERR_INVALID_ARG_TYPE(S,"number",A)}function tI(A,S,T){if(Math.floor(A)!==A)throw tO(A,T),new tT.ERR_OUT_OF_RANGE(T||"offset","an integer",A);if(S<0)throw new tT.ERR_BUFFER_OUT_OF_BOUNDS;throw new tT.ERR_OUT_OF_RANGE(T||"offset",`>= ${T?1:0} and <= ${S}`,A)}tP("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tP("ERR_INVALID_ARG_TYPE",function(A,S){return`The "${A}" argument must be of type number. Received type ${typeof S}`},TypeError),tP("ERR_OUT_OF_RANGE",function(A,S,T){let M=`The value of "${A}" is out of range.`,R=T;return Number.isInteger(T)&&Math.abs(T)>4294967296?R=tM(String(T)):"bigint"==typeof T&&(R=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(R=tM(R)),R+="n"),M+=` It must be ${S}. Received ${R}`},RangeError);let tF=/[^+/0-9A-Za-z-_]/g;function tD(A){if((A=(A=A.split("=")[0]).trim().replace(tF,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}function tL(A,S){let T;S=S||1/0;let M=A.length,R=null,O=[];for(let I=0;I<M;++I){if((T=A.charCodeAt(I))>55295&&T<57344){if(!R){if(T>56319||I+1===M){(S-=3)>-1&&O.push(239,191,189);continue}R=T;continue}if(T<56320){(S-=3)>-1&&O.push(239,191,189),R=T;continue}T=(R-55296<<10|T-56320)+65536}else R&&(S-=3)>-1&&O.push(239,191,189);if(R=null,T<128){if((S-=1)<0)break;O.push(T)}else if(T<2048){if((S-=2)<0)break;O.push(T>>6|192,63&T|128)}else if(T<65536){if((S-=3)<0)break;O.push(T>>12|224,T>>6&63|128,63&T|128)}else if(T<1114112){if((S-=4)<0)break;O.push(T>>18|240,T>>12&63|128,T>>6&63|128,63&T|128)}else throw Error("Invalid code point")}return O}function tN(A){let S=[];for(let T=0;T<A.length;++T)S.push(255&A.charCodeAt(T));return S}function tB(A,S){let T,M;let R=[];for(let O=0;O<A.length&&!((S-=2)<0);++O)M=(T=A.charCodeAt(O))>>8,R.push(T%256),R.push(M);return R}function tj(A){return R.toByteArray(tD(A))}function tU(A,S,T,M){let R;for(R=0;R<M&&!(R+T>=S.length)&&!(R>=A.length);++R)S[R+T]=A[R];return R}function t$(A,S){return A instanceof S||null!=A&&null!=A.constructor&&null!=A.constructor.name&&A.constructor.name===S.name}function tz(A){return A!=A}let tG=function(){let A="0123456789abcdef",S=Array(256);for(let T=0;T<16;++T){let M=16*T;for(let R=0;R<16;++R)S[M+R]=A[T]+A[R]}return S}();function tH(A){return"undefined"==typeof BigInt?tV:A}function tV(){throw Error("BigInt not supported")}},57966:function(A){function S(A){var T,M,R="";if("string"==typeof A||"number"==typeof A)R+=A;else if("object"==typeof A){if(Array.isArray(A)){var O=A.length;for(T=0;T<O;T++)A[T]&&(M=S(A[T]))&&(R&&(R+=" "),R+=M)}else for(M in A)A[M]&&(R&&(R+=" "),R+=M)}return R}function T(){for(var A,T,M=0,R="",O=arguments.length;M<O;M++)(A=arguments[M])&&(T=S(A))&&(R&&(R+=" "),R+=T);return R}A.exports=T,A.exports.clsx=T},55487:function(A,S){var T=Object.prototype.hasOwnProperty;function M(A,S,T){for(T of A.keys())if(R(T,S))return T}function R(A,S){var O,I,F;if(A===S)return!0;if(A&&S&&(O=A.constructor)===S.constructor){if(O===Date)return A.getTime()===S.getTime();if(O===RegExp)return A.toString()===S.toString();if(O===Array){if((I=A.length)===S.length)for(;I--&&R(A[I],S[I]););return -1===I}if(O===Set){if(A.size!==S.size)return!1;for(I of A)if((F=I)&&"object"==typeof F&&!(F=M(S,F))||!S.has(F))return!1;return!0}if(O===Map){if(A.size!==S.size)return!1;for(I of A)if((F=I[0])&&"object"==typeof F&&!(F=M(S,F))||!R(I[1],S.get(F)))return!1;return!0}if(O===ArrayBuffer)A=new Uint8Array(A),S=new Uint8Array(S);else if(O===DataView){if((I=A.byteLength)===S.byteLength)for(;I--&&A.getInt8(I)===S.getInt8(I););return -1===I}if(ArrayBuffer.isView(A)){if((I=A.byteLength)===S.byteLength)for(;I--&&A[I]===S[I];);return -1===I}if(!O||"object"==typeof A){for(O in I=0,A)if(T.call(A,O)&&++I&&!T.call(S,O)||!(O in S)||!R(A[O],S[O]))return!1;return Object.keys(S).length===I}}return A!=A&&S!=S}S.dequal=R},80645:function(A,S){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */S.read=function(A,S,T,M,R){var O,I,F=8*R-M-1,D=(1<<F)-1,L=D>>1,N=-7,B=T?R-1:0,$=T?-1:1,z=A[S+B];for(B+=$,O=z&(1<<-N)-1,z>>=-N,N+=F;N>0;O=256*O+A[S+B],B+=$,N-=8);for(I=O&(1<<-N)-1,O>>=-N,N+=M;N>0;I=256*I+A[S+B],B+=$,N-=8);if(0===O)O=1-L;else{if(O===D)return I?NaN:(z?-1:1)*(1/0);I+=Math.pow(2,M),O-=L}return(z?-1:1)*I*Math.pow(2,O-M)},S.write=function(A,S,T,M,R,O){var I,F,D,L=8*O-R-1,N=(1<<L)-1,B=N>>1,$=23===R?5960464477539062e-23:0,z=M?0:O-1,H=M?1:-1,V=S<0||0===S&&1/S<0?1:0;for(isNaN(S=Math.abs(S))||S===1/0?(F=isNaN(S)?1:0,I=N):(I=Math.floor(Math.log(S)/Math.LN2),S*(D=Math.pow(2,-I))<1&&(I--,D*=2),I+B>=1?S+=$/D:S+=$*Math.pow(2,1-B),S*D>=2&&(I++,D/=2),I+B>=N?(F=0,I=N):I+B>=1?(F=(S*D-1)*Math.pow(2,R),I+=B):(F=S*Math.pow(2,B-1)*Math.pow(2,R),I=0));R>=8;A[T+z]=255&F,z+=H,F/=256,R-=8);for(I=I<<R|F,L+=R;L>0;A[T+z]=255&I,z+=H,I/=256,L-=8);A[T+z-H]|=128*V}},83454:function(A,S,T){"use strict";var M,R;A.exports=(null==(M=T.g.process)?void 0:M.env)&&"object"==typeof(null==(R=T.g.process)?void 0:R.env)?T.g.process:T(77663)},91118:function(A,S,T){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return T(66004)}])},95677:function(A,S,T){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),function(A,S){for(var T in S)Object.defineProperty(A,T,{enumerable:!0,get:S[T]})}(S,{noSSR:function(){return D},default:function(){return L}});let M=T(38754),R=M._(T(67294)),O=M._(T(8976)),I=!1;function F(A){return{default:(null==A?void 0:A.default)||A}}function D(A,S){if(delete S.webpack,delete S.modules,!I)return A(S);let T=S.loading;return()=>R.default.createElement(T,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}function L(A,S){let T=O.default,M={loading:A=>{let{error:S,isLoading:T,pastDelay:M}=A;return null}};A instanceof Promise?M.loader=()=>A:"function"==typeof A?M.loader=A:"object"==typeof A&&(M={...M,...A}),M={...M,...S};let R=M.loader,I=()=>null!=R?R().then(F):Promise.resolve(F(()=>null));return(M.loadableGenerated&&(M={...M,...M.loadableGenerated},delete M.loadableGenerated),"boolean"!=typeof M.ssr||M.ssr)?T({...M,loader:I}):(delete M.webpack,delete M.modules,D(T,M))}("function"==typeof S.default||"object"==typeof S.default&&null!==S.default)&&void 0===S.default.__esModule&&(Object.defineProperty(S.default,"__esModule",{value:!0}),Object.assign(S.default,S),A.exports=S.default)},92254:function(A,S,T){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"LoadableContext",{enumerable:!0,get:function(){return O}});let M=T(38754),R=M._(T(67294)),O=R.default.createContext(null)},8976:function(A,S,T){"use strict";/**
@copyright (c) 2017-present James Kyle <me@thejameskyle.com>
 MIT License
 Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:
 The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE
*/Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"default",{enumerable:!0,get:function(){return V}});let M=T(38754),R=M._(T(67294)),O=T(92254);function I(A){return A&&A.default?A.default:A}let F=[],D=[],L=!1;function N(A){let S=A(),T={loading:!0,loaded:null,error:null};return T.promise=S.then(A=>(T.loading=!1,T.loaded=A,A)).catch(A=>{throw T.loading=!1,T.error=A,A}),T}function B(A,S){let T=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},S),M=null;function F(){if(!M){let S=new $(A,T);M={getCurrentValue:S.getCurrentValue.bind(S),subscribe:S.subscribe.bind(S),retry:S.retry.bind(S),promise:S.promise.bind(S)}}return M.promise()}if(!L){let A=T.webpack?T.webpack():T.modules;A&&D.push(S=>{for(let T of A)if(S.includes(T))return F()})}function N(){F();let A=R.default.useContext(O.LoadableContext);A&&Array.isArray(T.modules)&&T.modules.forEach(S=>{A(S)})}function B(A,S){N();let O=R.default.useSyncExternalStore(M.subscribe,M.getCurrentValue,M.getCurrentValue);return R.default.useImperativeHandle(S,()=>({retry:M.retry}),[]),R.default.useMemo(()=>O.loading||O.error?R.default.createElement(T.loading,{isLoading:O.loading,pastDelay:O.pastDelay,timedOut:O.timedOut,error:O.error,retry:M.retry}):O.loaded?R.default.createElement(I(O.loaded),A):null,[A,O])}return B.preload=()=>F(),B.displayName="LoadableComponent",R.default.forwardRef(B)}class ${promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:A,_opts:S}=this;A.loading&&("number"==typeof S.delay&&(0===S.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},S.delay)),"number"==typeof S.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},S.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(A=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(A){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...A},this._callbacks.forEach(A=>A())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(A){return this._callbacks.add(A),()=>{this._callbacks.delete(A)}}constructor(A,S){this._loadFn=A,this._opts=S,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function z(A){return B(N,A)}function H(A,S){let T=[];for(;A.length;){let M=A.pop();T.push(M(S))}return Promise.all(T).then(()=>{if(A.length)return H(A,S)})}z.preloadAll=()=>new Promise((A,S)=>{H(F).then(A,S)}),z.preloadReady=A=>(void 0===A&&(A=[]),new Promise(S=>{let T=()=>(L=!0,S());H(D,A).then(T,T)})),window.__NEXT_PRELOADREADY=z.preloadReady;let V=z},66004:function(A,S,T){"use strict";T.r(S);var M=T(85893);T(93814);var R=T(67294);function O(A){let{Component:S,pageProps:O}=A;return(0,R.useEffect)(()=>{try{let A=T(31822);A.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(A.pdfjs.version,"/pdf.worker.js")}catch(A){console.error("Error setting up PDF.js worker:",A)}},[]),(0,M.jsx)(S,{...O})}T(5152),S.default=O},93814:function(){},11987:function(A,S,T){var M="/";!function(){var S={452:function(A){"use strict";A.exports=T(97334)}},R={};function O(A){var T=R[A];if(void 0!==T)return T.exports;var M=R[A]={exports:{}},I=!0;try{S[A](M,M.exports,O),I=!1}finally{I&&delete R[A]}return M.exports}O.ab=M+"/";var I={};!function(){var A,S=I,T=(A=O(452))&&"object"==typeof A&&"default"in A?A.default:A,M=/https?|ftp|gopher|file/;function R(A){"string"==typeof A&&(A=Y(A));var S=function(A,S,T){var M=A.auth,R=A.hostname,O=A.protocol||"",I=A.pathname||"",F=A.hash||"",D=A.query||"",L=!1;M=M?encodeURIComponent(M).replace(/%3A/i,":")+"@":"",A.host?L=M+A.host:R&&(L=M+(~R.indexOf(":")?"["+R+"]":R),A.port&&(L+=":"+A.port)),D&&"object"==typeof D&&(D=S.encode(D));var N=A.search||D&&"?"+D||"";return O&&":"!==O.substr(-1)&&(O+=":"),A.slashes||(!O||T.test(O))&&!1!==L?(L="//"+(L||""),I&&"/"!==I[0]&&(I="/"+I)):L||(L=""),F&&"#"!==F[0]&&(F="#"+F),N&&"?"!==N[0]&&(N="?"+N),{protocol:O,host:L,pathname:I=I.replace(/[?#]/g,encodeURIComponent),search:N=N.replace("#","%23"),hash:F}}(A,T,M);return""+S.protocol+S.host+S.pathname+S.search+S.hash}var F="http://",D="w.w",L=F+D,N=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,B=/https?|ftp|gopher|file/;function $(A,S){var T="string"==typeof A?Y(A):A;A="object"==typeof A?R(A):A;var M=Y(S),O="";T.protocol&&!T.slashes&&(O=T.protocol,A=A.replace(T.protocol,""),O+="/"===S[0]||"/"===A[0]?"/":""),O&&M.protocol&&(O="",M.slashes||(O=M.protocol,S=S.replace(M.protocol,"")));var I=A.match(N);I&&!M.protocol&&(A=A.substr((O=I[1]+(I[2]||"")).length),/^\/\/[^/]/.test(S)&&(O=O.slice(0,-1)));var D=new URL(A,L+"/"),$=new URL(S,D).toString().replace(L,""),z=M.protocol||T.protocol;return z+=T.slashes||M.slashes?"//":"",!O&&z?$=$.replace(F,z):O&&($=$.replace(F,"")),B.test($)||~S.indexOf(".")||"/"===A.slice(-1)||"/"===S.slice(-1)||"/"!==$.slice(-1)||($=$.slice(0,-1)),O&&($=O+("/"===$[0]?$.substr(1):$)),$}function z(){}z.prototype.parse=Y,z.prototype.format=R,z.prototype.resolve=$,z.prototype.resolveObject=$;var H=/^https?|ftp|gopher|file/,V=/^(.*?)([#?].*)/,W=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,X=/^([a-z0-9.+-]*:)?\/\/\/*/i,K=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function Y(A,S,M){if(void 0===S&&(S=!1),void 0===M&&(M=!1),A&&"object"==typeof A&&A instanceof z)return A;var O=(A=A.trim()).match(V);A=O?O[1].replace(/\\/g,"/")+O[2]:A.replace(/\\/g,"/"),K.test(A)&&"/"!==A.slice(-1)&&(A+="/");var I=!/(^javascript)/.test(A)&&A.match(W),F=X.test(A),N="";I&&(H.test(I[1])||(N=I[1].toLowerCase(),A=""+I[2]+I[3]),I[2]||(F=!1,H.test(I[1])?(N=I[1],A=""+I[3]):A="//"+I[3]),3!==I[2].length&&1!==I[2].length||(N=I[1],A="/"+I[3]));var B,$=(O?O[1]:A).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),Y=$&&$[1],J=new z,Q="",Z="";try{B=new URL(A)}catch(S){Q=S,N||M||!/^\/\//.test(A)||/^\/\/.+[@.]/.test(A)||(Z="/",A=A.substr(1));try{B=new URL(A,L)}catch(A){return J.protocol=N,J.href=N,J}}J.slashes=F&&!Z,J.host=B.host===D?"":B.host,J.hostname=B.hostname===D?"":B.hostname.replace(/(\[|\])/g,""),J.protocol=Q?N||null:B.protocol,J.search=B.search.replace(/\\/g,"%5C"),J.hash=B.hash.replace(/\\/g,"%5C");var tt=A.split("#");!J.search&&~tt[0].indexOf("?")&&(J.search="?"),J.hash||""!==tt[1]||(J.hash="#"),J.query=S?T.decode(B.search.substr(1)):J.search.substr(1),J.pathname=Z+(I?function(A){return A.replace(/['^|`]/g,function(A){return"%"+A.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(A,S){try{return decodeURIComponent(S).split("").map(function(A){var S=A.charCodeAt();return S>256||/^[a-z0-9]$/i.test(A)?A:"%"+S.toString(16).toUpperCase()}).join("")}catch(A){return S}})}(B.pathname):B.pathname),"about:"===J.protocol&&"blank"===J.pathname&&(J.protocol="",J.pathname=""),Q&&"/"!==A[0]&&(J.pathname=J.pathname.substr(1)),N&&!H.test(N)&&"/"!==A.slice(-1)&&"/"===J.pathname&&(J.pathname=""),J.path=J.pathname+J.search,J.auth=[B.username,B.password].map(decodeURIComponent).filter(Boolean).join(":"),J.port=B.port,Y&&!J.host.endsWith(Y)&&(J.host+=Y,J.port=Y.slice(1)),J.href=Z?""+J.pathname+J.search+J.hash:R(J);var te=/^(file)/.test(J.href)?["host","hostname"]:[];return Object.keys(J).forEach(function(A){~te.indexOf(A)||(J[A]=J[A]||null)}),J}S.parse=Y,S.format=R,S.resolve=$,S.resolveObject=function(A,S){return Y($(A,S))},S.Url=z}(),A.exports=I}()},77663:function(A){var S="/";!function(){var T={229:function(A){var S,T,M,R=A.exports={};function O(){throw Error("setTimeout has not been defined")}function I(){throw Error("clearTimeout has not been defined")}function F(A){if(S===setTimeout)return setTimeout(A,0);if((S===O||!S)&&setTimeout)return S=setTimeout,setTimeout(A,0);try{return S(A,0)}catch(T){try{return S.call(null,A,0)}catch(T){return S.call(this,A,0)}}}function D(A){if(T===clearTimeout)return clearTimeout(A);if((T===I||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(A);try{return T(A)}catch(S){try{return T.call(null,A)}catch(S){return T.call(this,A)}}}!function(){try{S="function"==typeof setTimeout?setTimeout:O}catch(A){S=O}try{T="function"==typeof clearTimeout?clearTimeout:I}catch(A){T=I}}();var L=[],N=!1,B=-1;function $(){N&&M&&(N=!1,M.length?L=M.concat(L):B=-1,L.length&&z())}function z(){if(!N){var A=F($);N=!0;for(var S=L.length;S;){for(M=L,L=[];++B<S;)M&&M[B].run();B=-1,S=L.length}M=null,N=!1,D(A)}}function H(A,S){this.fun=A,this.array=S}function V(){}R.nextTick=function(A){var S=Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)S[T-1]=arguments[T];L.push(new H(A,S)),1!==L.length||N||F(z)},H.prototype.run=function(){this.fun.apply(null,this.array)},R.title="browser",R.browser=!0,R.env={},R.argv=[],R.version="",R.versions={},R.on=V,R.addListener=V,R.once=V,R.off=V,R.removeListener=V,R.removeAllListeners=V,R.emit=V,R.prependListener=V,R.prependOnceListener=V,R.listeners=function(A){return[]},R.binding=function(A){throw Error("process.binding is not supported")},R.cwd=function(){return"/"},R.chdir=function(A){throw Error("process.chdir is not supported")},R.umask=function(){return 0}}},M={};function R(A){var S=M[A];if(void 0!==S)return S.exports;var O=M[A]={exports:{}},I=!0;try{T[A](O,O.exports,R),I=!1}finally{I&&delete M[A]}return O.exports}R.ab=S+"/";var O=R(229);A.exports=O}()},97334:function(A){var S="/";!function(){"use strict";var T={815:function(A){function S(A,S){return Object.prototype.hasOwnProperty.call(A,S)}A.exports=function(A,M,R,O){M=M||"&",R=R||"=";var I={};if("string"!=typeof A||0===A.length)return I;var F=/\+/g;A=A.split(M);var D=1e3;O&&"number"==typeof O.maxKeys&&(D=O.maxKeys);var L=A.length;D>0&&L>D&&(L=D);for(var N=0;N<L;++N){var B,$,z,H,V=A[N].replace(F,"%20"),W=V.indexOf(R);W>=0?(B=V.substr(0,W),$=V.substr(W+1)):(B=V,$=""),z=decodeURIComponent(B),H=decodeURIComponent($),S(I,z)?T(I[z])?I[z].push(H):I[z]=[I[z],H]:I[z]=H}return I};var T=Array.isArray||function(A){return"[object Array]"===Object.prototype.toString.call(A)}},577:function(A){var S=function(A){switch(typeof A){case"string":return A;case"boolean":return A?"true":"false";case"number":return isFinite(A)?A:"";default:return""}};A.exports=function(A,O,I,F){return(O=O||"&",I=I||"=",null===A&&(A=void 0),"object"==typeof A)?M(R(A),function(R){var F=encodeURIComponent(S(R))+I;return T(A[R])?M(A[R],function(A){return F+encodeURIComponent(S(A))}).join(O):F+encodeURIComponent(S(A[R]))}).join(O):F?encodeURIComponent(S(F))+I+encodeURIComponent(S(A)):""};var T=Array.isArray||function(A){return"[object Array]"===Object.prototype.toString.call(A)};function M(A,S){if(A.map)return A.map(S);for(var T=[],M=0;M<A.length;M++)T.push(S(A[M],M));return T}var R=Object.keys||function(A){var S=[];for(var T in A)Object.prototype.hasOwnProperty.call(A,T)&&S.push(T);return S}}},M={};function R(A){var S=M[A];if(void 0!==S)return S.exports;var O=M[A]={exports:{}},I=!0;try{T[A](O,O.exports,R),I=!1}finally{I&&delete M[A]}return O.exports}R.ab=S+"/";var O={};!function(){var A=O;A.decode=A.parse=R(815),A.encode=A.stringify=R(577)}(),A.exports=O}()},5152:function(A,S,T){A.exports=T(95677)},99299:function(module,__unused_webpack_exports,__webpack_require__){var process=__webpack_require__(83454),Buffer=__webpack_require__(48764).lW;!/**
 * @licstart The following is the entire license notice for the
 * JavaScript code in this page
 *
 * Copyright 2023 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * JavaScript code in this page
 */function(A,S){module.exports=A.pdfjsLib=S()}(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(A,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.VerbosityLevel=S.Util=S.UnknownErrorException=S.UnexpectedResponseException=S.TextRenderingMode=S.RenderingIntentFlag=S.PromiseCapability=S.PermissionFlag=S.PasswordResponses=S.PasswordException=S.PageActionEventType=S.OPS=S.MissingPDFException=S.MAX_IMAGE_SIZE_TO_CACHE=S.LINE_FACTOR=S.LINE_DESCENT_FACTOR=S.InvalidPDFException=S.ImageKind=S.IDENTITY_MATRIX=S.FormatError=S.FeatureTest=S.FONT_IDENTITY_MATRIX=S.DocumentActionEventType=S.CMapCompressionType=S.BaseException=S.BASELINE_FACTOR=S.AnnotationType=S.AnnotationReplyType=S.AnnotationPrefix=S.AnnotationMode=S.AnnotationFlag=S.AnnotationFieldFlag=S.AnnotationEditorType=S.AnnotationEditorPrefix=S.AnnotationEditorParamsType=S.AnnotationBorderStyleType=S.AnnotationActionEventType=S.AbortException=void 0,S.assert=tp,S.bytesToString=tT,S.createValidAbsoluteUrl=tg,S.getModificationDate=tG,S.getUuid=tX,S.getVerbosityLevel=th,S.info=td,S.isArrayBuffer=t$,S.isArrayEqual=tz,S.isNodeJS=void 0,S.normalizeUnicode=tq,S.objectFromMap=tk,S.objectSize=tR,S.setVerbosityLevel=tl,S.shadow=tm,S.string32=tM,S.stringToBytes=tP,S.stringToPDFString=tB,S.stringToUTF8String=tj,S.unreachable=tc,S.utf8StringToString=tU,S.warn=tu;let T="object"==typeof process&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);S.isNodeJS=T;let M=[1,0,0,1,0,0];S.IDENTITY_MATRIX=M;let R=[.001,0,0,.001,0,0];S.FONT_IDENTITY_MATRIX=R;let O=1e7;S.MAX_IMAGE_SIZE_TO_CACHE=O;let I=1.35;S.LINE_FACTOR=I;let F=.35;S.LINE_DESCENT_FACTOR=F;let D=F/I;S.BASELINE_FACTOR=D;let L={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};S.RenderingIntentFlag=L;let N={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};S.AnnotationMode=N;let B="pdfjs_internal_editor_";S.AnnotationEditorPrefix=B;let $={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};S.AnnotationEditorType=$;let z={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};S.AnnotationEditorParamsType=z;let H={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};S.PermissionFlag=H;let V={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};S.TextRenderingMode=V;let W={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};S.ImageKind=W;let X={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};S.AnnotationType=X;let K={GROUP:"Group",REPLY:"R"};S.AnnotationReplyType=K;let Y={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};S.AnnotationFlag=Y;let J={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};S.AnnotationFieldFlag=J;let Q={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};S.AnnotationBorderStyleType=Q;let Z={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};S.AnnotationActionEventType=Z;let tt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};S.DocumentActionEventType=tt;let te={O:"PageOpen",C:"PageClose"};S.PageActionEventType=te;let ti={ERRORS:0,WARNINGS:1,INFOS:5};S.VerbosityLevel=ti;let tr={NONE:0,BINARY:1};S.CMapCompressionType=tr;let tn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};S.OPS=tn;let ts={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};S.PasswordResponses=ts;let ta=ti.WARNINGS;function tl(A){Number.isInteger(A)&&(ta=A)}function th(){return ta}function td(A){ta>=ti.INFOS&&console.log(`Info: ${A}`)}function tu(A){ta>=ti.WARNINGS&&console.log(`Warning: ${A}`)}function tc(A){throw Error(A)}function tp(A,S){A||tc(S)}function tf(A){switch(A?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function tg(A,S=null,T=null){if(!A)return null;try{if(T&&"string"==typeof A){if(T.addDefaultProtocol&&A.startsWith("www.")){let S=A.match(/\./g);S?.length>=2&&(A=`http://${A}`)}if(T.tryConvertEncoding)try{A=tj(A)}catch{}}let M=S?new URL(A,S):new URL(A);if(tf(M))return M}catch{}return null}function tm(A,S,T,M=!1){return Object.defineProperty(A,S,{value:T,enumerable:!M,configurable:!0,writable:!1}),T}let tb=function(){function A(S,T){this.constructor===A&&tc("Cannot initialize BaseException."),this.message=S,this.name=T}return A.prototype=Error(),A.constructor=A,A}();S.BaseException=tb;class tv extends tb{constructor(A,S){super(A,"PasswordException"),this.code=S}}S.PasswordException=tv;class tA extends tb{constructor(A,S){super(A,"UnknownErrorException"),this.details=S}}S.UnknownErrorException=tA;class t_ extends tb{constructor(A){super(A,"InvalidPDFException")}}S.InvalidPDFException=t_;class tE extends tb{constructor(A){super(A,"MissingPDFException")}}S.MissingPDFException=tE;class tS extends tb{constructor(A,S){super(A,"UnexpectedResponseException"),this.status=S}}S.UnexpectedResponseException=tS;class tw extends tb{constructor(A){super(A,"FormatError")}}S.FormatError=tw;class tC extends tb{constructor(A){super(A,"AbortException")}}function tT(A){("object"!=typeof A||A?.length===void 0)&&tc("Invalid argument for bytesToString");let S=A.length,T=8192;if(S<T)return String.fromCharCode.apply(null,A);let M=[];for(let R=0;R<S;R+=T){let O=Math.min(R+T,S),I=A.subarray(R,O);M.push(String.fromCharCode.apply(null,I))}return M.join("")}function tP(A){"string"!=typeof A&&tc("Invalid argument for stringToBytes");let S=A.length,T=new Uint8Array(S);for(let M=0;M<S;++M)T[M]=255&A.charCodeAt(M);return T}function tM(A){return String.fromCharCode(A>>24&255,A>>16&255,A>>8&255,255&A)}function tR(A){return Object.keys(A).length}function tk(A){let S=Object.create(null);for(let[T,M]of A)S[T]=M;return S}function tO(){let A=new Uint8Array(4);A[0]=1;let S=new Uint32Array(A.buffer,0,1);return 1===S[0]}function tI(){try{return Function(""),!0}catch{return!1}}S.AbortException=tC;class tF{static get isLittleEndian(){return tm(this,"isLittleEndian",tO())}static get isEvalSupported(){return tm(this,"isEvalSupported",tI())}static get isOffscreenCanvasSupported(){return tm(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get platform(){return"undefined"==typeof navigator?tm(this,"platform",{isWin:!1,isMac:!1}):tm(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return tm(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}S.FeatureTest=tF;let tD=[...Array(256).keys()].map(A=>A.toString(16).padStart(2,"0"));class tL{static makeHexColor(A,S,T){return`#${tD[A]}${tD[S]}${tD[T]}`}static scaleMinMax(A,S){let T;A[0]?(A[0]<0&&(T=S[0],S[0]=S[1],S[1]=T),S[0]*=A[0],S[1]*=A[0],A[3]<0&&(T=S[2],S[2]=S[3],S[3]=T),S[2]*=A[3],S[3]*=A[3]):(T=S[0],S[0]=S[2],S[2]=T,T=S[1],S[1]=S[3],S[3]=T,A[1]<0&&(T=S[2],S[2]=S[3],S[3]=T),S[2]*=A[1],S[3]*=A[1],A[2]<0&&(T=S[0],S[0]=S[1],S[1]=T),S[0]*=A[2],S[1]*=A[2]),S[0]+=A[4],S[1]+=A[4],S[2]+=A[5],S[3]+=A[5]}static transform(A,S){return[A[0]*S[0]+A[2]*S[1],A[1]*S[0]+A[3]*S[1],A[0]*S[2]+A[2]*S[3],A[1]*S[2]+A[3]*S[3],A[0]*S[4]+A[2]*S[5]+A[4],A[1]*S[4]+A[3]*S[5]+A[5]]}static applyTransform(A,S){let T=A[0]*S[0]+A[1]*S[2]+S[4],M=A[0]*S[1]+A[1]*S[3]+S[5];return[T,M]}static applyInverseTransform(A,S){let T=S[0]*S[3]-S[1]*S[2],M=(A[0]*S[3]-A[1]*S[2]+S[2]*S[5]-S[4]*S[3])/T,R=(-A[0]*S[1]+A[1]*S[0]+S[4]*S[1]-S[5]*S[0])/T;return[M,R]}static getAxialAlignedBoundingBox(A,S){let T=this.applyTransform(A,S),M=this.applyTransform(A.slice(2,4),S),R=this.applyTransform([A[0],A[3]],S),O=this.applyTransform([A[2],A[1]],S);return[Math.min(T[0],M[0],R[0],O[0]),Math.min(T[1],M[1],R[1],O[1]),Math.max(T[0],M[0],R[0],O[0]),Math.max(T[1],M[1],R[1],O[1])]}static inverseTransform(A){let S=A[0]*A[3]-A[1]*A[2];return[A[3]/S,-A[1]/S,-A[2]/S,A[0]/S,(A[2]*A[5]-A[4]*A[3])/S,(A[4]*A[1]-A[5]*A[0])/S]}static singularValueDecompose2dScale(A){let S=[A[0],A[2],A[1],A[3]],T=A[0]*S[0]+A[1]*S[2],M=A[0]*S[1]+A[1]*S[3],R=A[2]*S[0]+A[3]*S[2],O=A[2]*S[1]+A[3]*S[3],I=(T+O)/2,F=Math.sqrt((T+O)**2-4*(T*O-R*M))/2,D=I+F||1,L=I-F||1;return[Math.sqrt(D),Math.sqrt(L)]}static normalizeRect(A){let S=A.slice(0);return A[0]>A[2]&&(S[0]=A[2],S[2]=A[0]),A[1]>A[3]&&(S[1]=A[3],S[3]=A[1]),S}static intersect(A,S){let T=Math.max(Math.min(A[0],A[2]),Math.min(S[0],S[2])),M=Math.min(Math.max(A[0],A[2]),Math.max(S[0],S[2]));if(T>M)return null;let R=Math.max(Math.min(A[1],A[3]),Math.min(S[1],S[3])),O=Math.min(Math.max(A[1],A[3]),Math.max(S[1],S[3]));return R>O?null:[T,R,M,O]}static bezierBoundingBox(A,S,T,M,R,O,I,F){let D,L,N,B,$,z,H,V;let W=[],X=[[],[]];for(let X=0;X<2;++X){if(0===X?(L=6*A-12*T+6*R,D=-3*A+9*T-9*R+3*I,N=3*T-3*A):(L=6*S-12*M+6*O,D=-3*S+9*M-9*O+3*F,N=3*M-3*S),1e-12>Math.abs(D)){if(1e-12>Math.abs(L))continue;0<(B=-N/L)&&B<1&&W.push(B);continue}V=Math.sqrt(H=L*L-4*N*D),!(H<0)&&(0<($=(-L+V)/(2*D))&&$<1&&W.push($),0<(z=(-L-V)/(2*D))&&z<1&&W.push(z))}let K=W.length,Y,J=K;for(;K--;)Y=1-(B=W[K]),X[0][K]=Y*Y*Y*A+3*Y*Y*B*T+3*Y*B*B*R+B*B*B*I,X[1][K]=Y*Y*Y*S+3*Y*Y*B*M+3*Y*B*B*O+B*B*B*F;return X[0][J]=A,X[1][J]=S,X[0][J+1]=I,X[1][J+1]=F,X[0].length=X[1].length=J+2,[Math.min(...X[0]),Math.min(...X[1]),Math.max(...X[0]),Math.max(...X[1])]}}S.Util=tL;let tN=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function tB(A){if(A[0]>="\xef"){let S;if("\xfe"===A[0]&&"\xff"===A[1]?S="utf-16be":"\xff"===A[0]&&"\xfe"===A[1]?S="utf-16le":"\xef"===A[0]&&"\xbb"===A[1]&&"\xbf"===A[2]&&(S="utf-8"),S)try{let T=new TextDecoder(S,{fatal:!0}),M=tP(A);return T.decode(M)}catch(A){tu(`stringToPDFString: "${A}".`)}}let S=[];for(let T=0,M=A.length;T<M;T++){let M=tN[A.charCodeAt(T)];S.push(M?String.fromCharCode(M):A.charAt(T))}return S.join("")}function tj(A){return decodeURIComponent(escape(A))}function tU(A){return unescape(encodeURIComponent(A))}function t$(A){return"object"==typeof A&&A?.byteLength!==void 0}function tz(A,S){if(A.length!==S.length)return!1;for(let T=0,M=A.length;T<M;T++)if(A[T]!==S[T])return!1;return!0}function tG(A=new Date){let S=[A.getUTCFullYear().toString(),(A.getUTCMonth()+1).toString().padStart(2,"0"),A.getUTCDate().toString().padStart(2,"0"),A.getUTCHours().toString().padStart(2,"0"),A.getUTCMinutes().toString().padStart(2,"0"),A.getUTCSeconds().toString().padStart(2,"0")];return S.join("")}class tH{#t=!1;constructor(){this.promise=new Promise((A,S)=>{this.resolve=S=>{this.#t=!0,A(S)},this.reject=A=>{this.#t=!0,S(A)}})}get settled(){return this.#t}}S.PromiseCapability=tH;let tV=null,tW=null;function tq(A){return tV||(tV=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,tW=new Map([["ﬅ","ſt"]])),A.replaceAll(tV,(A,S,T)=>S?S.normalize("NFKC"):tW.get(T))}function tX(){if("undefined"!=typeof crypto&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();let A=new Uint8Array(32);if("undefined"!=typeof crypto&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(A);else for(let S=0;S<32;S++)A[S]=Math.floor(255*Math.random());return tT(A)}let tK="pdfjs_internal_id_";S.AnnotationPrefix=tK},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function getDocument(A){if("string"==typeof A||A instanceof URL?A={url:A}:(0,_util.isArrayBuffer)(A)&&(A={data:A}),"object"!=typeof A)throw Error("Invalid parameter in getDocument, need parameter object.");if(!A.url&&!A.data&&!A.range)throw Error("Invalid parameter object: need either .data, .range or .url");let S=new PDFDocumentLoadingTask,{docId:T}=S,M=A.url?getUrlProp(A.url):null,R=A.data?getDataProp(A.data):null,O=A.httpHeaders||null,I=!0===A.withCredentials,F=A.password??null,D=A.range instanceof PDFDataRangeTransport?A.range:null,L=Number.isInteger(A.rangeChunkSize)&&A.rangeChunkSize>0?A.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,N=A.worker instanceof PDFWorker?A.worker:null,B=A.verbosity,$="string"!=typeof A.docBaseUrl||(0,_display_utils.isDataScheme)(A.docBaseUrl)?null:A.docBaseUrl,z="string"==typeof A.cMapUrl?A.cMapUrl:null,H=!1!==A.cMapPacked,V=A.CMapReaderFactory||DefaultCMapReaderFactory,W="string"==typeof A.standardFontDataUrl?A.standardFontDataUrl:null,X=A.StandardFontDataFactory||DefaultStandardFontDataFactory,K=!0!==A.stopAtErrors,Y=Number.isInteger(A.maxImageSize)&&A.maxImageSize>-1?A.maxImageSize:-1,J=!1!==A.isEvalSupported,Q="boolean"==typeof A.isOffscreenCanvasSupported?A.isOffscreenCanvasSupported:!_util.isNodeJS,Z=Number.isInteger(A.canvasMaxAreaInBytes)?A.canvasMaxAreaInBytes:-1,tt="boolean"==typeof A.disableFontFace?A.disableFontFace:_util.isNodeJS,te=!0===A.fontExtraProperties,ti=!0===A.enableXfa,tr=A.ownerDocument||globalThis.document,tn=!0===A.disableRange,ts=!0===A.disableStream,ta=!0===A.disableAutoFetch,tl=!0===A.pdfBug,th=D?D.length:A.length??NaN,td="boolean"==typeof A.useSystemFonts?A.useSystemFonts:!_util.isNodeJS&&!tt,tu="boolean"==typeof A.useWorkerFetch?A.useWorkerFetch:V===_display_utils.DOMCMapReaderFactory&&X===_display_utils.DOMStandardFontDataFactory&&z&&W&&(0,_display_utils.isValidFetchUrl)(z,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(W,document.baseURI),tc=A.canvasFactory||new DefaultCanvasFactory({ownerDocument:tr}),tp=A.filterFactory||new DefaultFilterFactory({docId:T,ownerDocument:tr}),tf=null;(0,_util.setVerbosityLevel)(B);let tg={canvasFactory:tc,filterFactory:tp};if(tu||(tg.cMapReaderFactory=new V({baseUrl:z,isCompressed:H}),tg.standardFontDataFactory=new X({baseUrl:W})),!N){let A={verbosity:B,port:_worker_options.GlobalWorkerOptions.workerPort};N=A.port?PDFWorker.fromPort(A):new PDFWorker(A),S._worker=N}let tm={docId:T,apiVersion:"3.11.174",data:R,password:F,disableAutoFetch:ta,rangeChunkSize:L,length:th,docBaseUrl:$,enableXfa:ti,evaluatorOptions:{maxImageSize:Y,disableFontFace:tt,ignoreErrors:K,isEvalSupported:J,isOffscreenCanvasSupported:Q,canvasMaxAreaInBytes:Z,fontExtraProperties:te,useSystemFonts:td,cMapUrl:tu?z:null,standardFontDataUrl:tu?W:null}},tb={ignoreErrors:K,isEvalSupported:J,disableFontFace:tt,fontExtraProperties:te,enableXfa:ti,ownerDocument:tr,disableAutoFetch:ta,pdfBug:tl,styleElement:tf};return N.promise.then(function(){if(S.destroyed)throw Error("Loading aborted");let A=_fetchDocument(N,tm),F=new Promise(function(A){let S;if(D)S=new _transport_stream.PDFDataTransportStream({length:th,initialData:D.initialData,progressiveDone:D.progressiveDone,contentDispositionFilename:D.contentDispositionFilename,disableRange:tn,disableStream:ts},D);else if(!R){let A=A=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(A):(0,_display_utils.isValidFetchUrl)(A.url)?new _displayFetch_stream.PDFFetchStream(A):new _displayNetwork.PDFNetworkStream(A);S=A({url:M,length:th,httpHeaders:O,withCredentials:I,rangeChunkSize:L,disableRange:tn,disableStream:ts})}A(S)});return Promise.all([A,F]).then(function([A,M]){if(S.destroyed)throw Error("Loading aborted");let R=new _message_handler.MessageHandler(T,A,N.port),O=new WorkerTransport(R,S,M,tb,tg);S._transport=O,R.send("Ready",null)})}).catch(S._capability.reject),S}async function _fetchDocument(A,S){if(A.destroyed)throw Error("Worker was destroyed");let T=await A.messageHandler.sendWithPromise("GetDocRequest",S,S.data?[S.data.buffer]:null);if(A.destroyed)throw Error("Worker was destroyed");return T}function getUrlProp(A){if(A instanceof URL)return A.href;try{return new URL(A,window.location).href}catch{if(_util.isNodeJS&&"string"==typeof A)return A}throw Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(A){if(_util.isNodeJS&&void 0!==Buffer&&A instanceof Buffer)throw Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(A instanceof Uint8Array&&A.byteLength===A.buffer.byteLength)return A;if("string"==typeof A)return(0,_util.stringToBytes)(A);if("object"==typeof A&&!isNaN(A?.length)||(0,_util.isArrayBuffer)(A))return new Uint8Array(A);throw Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static #e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(A){throw this._worker?.port&&delete this._worker._pendingDestroy,A}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(A,S,T=!1,M=null){this.length=A,this.initialData=S,this.progressiveDone=T,this.contentDispositionFilename=M,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(A){this._rangeListeners.push(A)}addProgressListener(A){this._progressListeners.push(A)}addProgressiveReadListener(A){this._progressiveReadListeners.push(A)}addProgressiveDoneListener(A){this._progressiveDoneListeners.push(A)}onDataRange(A,S){for(let T of this._rangeListeners)T(A,S)}onDataProgress(A,S){this._readyCapability.promise.then(()=>{for(let T of this._progressListeners)T(A,S)})}onDataProgressiveRead(A){this._readyCapability.promise.then(()=>{for(let S of this._progressiveReadListeners)S(A)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let A of this._progressiveDoneListeners)A()})}transportReady(){this._readyCapability.resolve()}requestDataRange(A,S){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(A,S){this._pdfInfo=A,this._transport=S,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(A=>{if(!A)return A;let S=[];for(let T in A)S.push(...A[T]);return S}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(A){return this._transport.getPage(A)}getPageIndex(A){return this._transport.getPageIndex(A)}getDestinations(){return this._transport.getDestinations()}getDestination(A){return this._transport.getDestination(A)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(A=!1){return this._transport.startCleanup(A||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#i=null;#r=!1;constructor(A,S,T,M=!1){this._pageIndex=A,this._pageInfo=S,this._transport=T,this._stats=M?new _display_utils.StatTimer:null,this._pdfBug=M,this.commonObjs=T.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:A,rotation:S=this.rotate,offsetX:T=0,offsetY:M=0,dontFlip:R=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:A,rotation:S,offsetX:T,offsetY:M,dontFlip:R})}getAnnotations({intent:A="display"}={}){let S=this._transport.getRenderingIntent(A);return this._transport.getAnnotations(this._pageIndex,S.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:A,viewport:S,intent:T="display",annotationMode:M=_util.AnnotationMode.ENABLE,transform:R=null,background:O=null,optionalContentConfigPromise:I=null,annotationCanvasMap:F=null,pageColors:D=null,printAnnotationStorage:L=null}){this._stats?.time("Overall");let N=this._transport.getRenderingIntent(T,M,L);this.#r=!1,this.#n(),I||(I=this._transport.getOptionalContentConfig());let B=this._intentStates.get(N.cacheKey);B||(B=Object.create(null),this._intentStates.set(N.cacheKey,B)),B.streamReaderCancelTimeout&&(clearTimeout(B.streamReaderCancelTimeout),B.streamReaderCancelTimeout=null);let $=!!(N.renderingIntent&_util.RenderingIntentFlag.PRINT);B.displayReadyCapability||(B.displayReadyCapability=new _util.PromiseCapability,B.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(N));let z=A=>{B.renderTasks.delete(H),(this._maybeCleanupAfterRender||$)&&(this.#r=!0),this.#s(!$),A?(H.capability.reject(A),this._abortOperatorList({intentState:B,reason:A instanceof Error?A:Error(A)})):H.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},H=new InternalRenderTask({callback:z,params:{canvasContext:A,viewport:S,transform:R,background:O},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:F,operatorList:B.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!$,pdfBug:this._pdfBug,pageColors:D});(B.renderTasks||=new Set).add(H);let V=H.task;return Promise.all([B.displayReadyCapability.promise,I]).then(([A,S])=>{if(this.destroyed){z();return}this._stats?.time("Rendering"),H.initializeGraphics({transparency:A,optionalContentConfig:S}),H.operatorListChanged()}).catch(z),V}getOperatorList({intent:A="display",annotationMode:S=_util.AnnotationMode.ENABLE,printAnnotationStorage:T=null}={}){let M;function R(){I.operatorList.lastChunk&&(I.opListReadCapability.resolve(I.operatorList),I.renderTasks.delete(M))}let O=this._transport.getRenderingIntent(A,S,T,!0),I=this._intentStates.get(O.cacheKey);return I||(I=Object.create(null),this._intentStates.set(O.cacheKey,I)),I.opListReadCapability||((M=Object.create(null)).operatorListChanged=R,I.opListReadCapability=new _util.PromiseCapability,(I.renderTasks||=new Set).add(M),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(O)),I.opListReadCapability.promise}streamTextContent({includeMarkedContent:A=!1,disableNormalization:S=!1}={}){let T=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===A,disableNormalization:!0===S},{highWaterMark:T,size:A=>A.items.length})}getTextContent(A={}){if(this._transport._htmlForXfa)return this.getXfa().then(A=>_xfa_text.XfaText.textContent(A));let S=this.streamTextContent(A);return new Promise(function(A,T){function M(){R.read().then(function({value:S,done:T}){if(T){A(O);return}Object.assign(O.styles,S.styles),O.items.push(...S.items),M()},T)}let R=S.getReader(),O={items:[],styles:Object.create(null)};M()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let A=[];for(let S of this._intentStates.values())if(this._abortOperatorList({intentState:S,reason:Error("Page was destroyed."),force:!0}),!S.opListReadCapability)for(let T of S.renderTasks)A.push(T.completed),T.cancel();return this.objs.clear(),this.#r=!1,this.#n(),Promise.all(A)}cleanup(A=!1){this.#r=!0;let S=this.#s(!1);return A&&S&&(this._stats&&=new _display_utils.StatTimer),S}#s(A=!1){if(this.#n(),!this.#r||this.destroyed)return!1;if(A)return this.#i=setTimeout(()=>{this.#i=null,this.#s(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(let{renderTasks:A,operatorList:S}of this._intentStates.values())if(A.size>0||!S.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#r=!1,!0}#n(){this.#i&&(clearTimeout(this.#i),this.#i=null)}_startRenderPage(A,S){let T=this._intentStates.get(S);T&&(this._stats?.timeEnd("Page Request"),T.displayReadyCapability?.resolve(A))}_renderPageChunk(A,S){for(let T=0,M=A.length;T<M;T++)S.operatorList.fnArray.push(A.fnArray[T]),S.operatorList.argsArray.push(A.argsArray[T]);for(let T of(S.operatorList.lastChunk=A.lastChunk,S.operatorList.separateAnnots=A.separateAnnots,S.renderTasks))T.operatorListChanged();A.lastChunk&&this.#s(!0)}_pumpOperatorList({renderingIntent:A,cacheKey:S,annotationStorageSerializable:T}){let{map:M,transfers:R}=T,O=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:A,cacheKey:S,annotationStorage:M},R),I=O.getReader(),F=this._intentStates.get(S);F.streamReader=I;let D=()=>{I.read().then(({value:A,done:S})=>{if(S){F.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(A,F),D())},A=>{if(F.streamReader=null,!this._transport.destroyed){if(F.operatorList){for(let A of(F.operatorList.lastChunk=!0,F.renderTasks))A.operatorListChanged();this.#s(!0)}if(F.displayReadyCapability)F.displayReadyCapability.reject(A);else if(F.opListReadCapability)F.opListReadCapability.reject(A);else throw A}})};D()}_abortOperatorList({intentState:A,reason:S,force:T=!1}){if(A.streamReader){if(A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null),!T){if(A.renderTasks.size>0)return;if(S instanceof _display_utils.RenderingCancelledException){let T=RENDERING_CANCELLED_TIMEOUT;S.extraDelay>0&&S.extraDelay<1e3&&(T+=S.extraDelay),A.streamReaderCancelTimeout=setTimeout(()=>{A.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:A,reason:S,force:!0})},T);return}}if(A.streamReader.cancel(new _util.AbortException(S.message)).catch(()=>{}),A.streamReader=null,!this._transport.destroyed){for(let[S,T]of this._intentStates)if(T===A){this._intentStates.delete(S);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#a=new Set;#o=Promise.resolve();postMessage(A,S){let T={data:structuredClone(A,S?{transfer:S}:null)};this.#o.then(()=>{for(let A of this.#a)A.call(this,T)})}addEventListener(A,S){this.#a.add(S)}removeEventListener(A,S){this.#a.delete(S)}terminate(){this.#a.clear()}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_util.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){let pdfjsFilePath=document?.currentScript?.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(A,S){let T;try{if(!(T=new URL(A)).origin||"null"===T.origin)return!1}catch{return!1}let M=new URL(S,T);return T.origin===M.origin},PDFWorkerUtil.createCDNWrapper=function(A){let S=`importScripts("${A}");`;return URL.createObjectURL(new Blob([S]))};class PDFWorker{static #l;constructor({name:A=null,port:S=null,verbosity:T=(0,_util.getVerbosityLevel)()}={}){if(this.name=A,this.destroyed=!1,this.verbosity=T,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,S){if(PDFWorker.#l?.has(S))throw Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#l||=new WeakMap).set(S,this),this._initializeFromPort(S);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(A){this._port=A,this._messageHandler=new _message_handler.MessageHandler("main","worker",A),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:A}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,A)||(A=PDFWorkerUtil.createCDNWrapper(new URL(A,window.location).href));let S=new Worker(A),T=new _message_handler.MessageHandler("main","worker",S),M=()=>{S.removeEventListener("error",R),T.destroy(),S.terminate(),this.destroyed?this._readyCapability.reject(Error("Worker was destroyed")):this._setupFakeWorker()},R=()=>{this._webWorker||M()};S.addEventListener("error",R),T.on("test",A=>{if(S.removeEventListener("error",R),this.destroyed){M();return}A?(this._messageHandler=T,this._port=S,this._webWorker=S,this._readyCapability.resolve(),T.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),T.destroy(),S.terminate())}),T.on("ready",A=>{if(S.removeEventListener("error",R),this.destroyed){M();return}try{O()}catch{this._setupFakeWorker()}});let O=()=>{let A=new Uint8Array;T.send("test",A,[A.buffer])};O();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(A=>{if(this.destroyed){this._readyCapability.reject(Error("Worker was destroyed"));return}let S=new LoopbackPort;this._port=S;let T=`fake${PDFWorkerUtil.fakeWorkerId++}`,M=new _message_handler.MessageHandler(T+"_worker",T,S);A.setup(M,S);let R=new _message_handler.MessageHandler(T,T+"_worker",S);this._messageHandler=R,this._readyCapability.resolve(),R.send("configure",{verbosity:this.verbosity})}).catch(A=>{this._readyCapability.reject(Error(`Setting up fake worker failed: "${A.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#l?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(A){if(!A?.port)throw Error("PDFWorker.fromPort - invalid method signature.");let S=this.#l?.get(A.port);if(S){if(S._pendingDestroy)throw Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return S}return new PDFWorker(A)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=async()=>{let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await (0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#h=new Map;#d=new Map;#u=new Map;#c=null;constructor(A,S,T,M,R){this.messageHandler=A,this.loadingTask=S,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:M.ownerDocument,styleElement:M.styleElement}),this._params=M,this.canvasFactory=R.canvasFactory,this.filterFactory=R.filterFactory,this.cMapReaderFactory=R.cMapReaderFactory,this.standardFontDataFactory=R.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=T,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#p(A,S=null){let T=this.#h.get(A);if(T)return T;let M=this.messageHandler.sendWithPromise(A,S);return this.#h.set(A,M),M}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(A,S=_util.AnnotationMode.ENABLE,T=null,M=!1){let R=_util.RenderingIntentFlag.DISPLAY,O=_annotation_storage.SerializableEmpty;switch(A){case"any":R=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":R=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${A}`)}switch(S){case _util.AnnotationMode.DISABLE:R+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:R+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:R+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE;let I=R&_util.RenderingIntentFlag.PRINT&&T instanceof _annotation_storage.PrintAnnotationStorage?T:this.annotationStorage;O=I.serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${S}`)}return M&&(R+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:R,cacheKey:`${R}_${O.hash}`,annotationStorageSerializable:O}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#c?.reject(Error("Worker was destroyed during onPassword callback"));let A=[];for(let S of this.#d.values())A.push(S._destroy());this.#d.clear(),this.#u.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let S=this.messageHandler.sendWithPromise("Terminate",null);return A.push(S),Promise.all(A).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#h.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:A,loadingTask:S}=this;A.on("GetReader",(A,S)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=A=>{this._lastProgress={loaded:A.loaded,total:A.total}},S.onPull=()=>{this._fullReader.read().then(function({value:A,done:T}){if(T){S.close();return}(0,_util.assert)(A instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),S.enqueue(new Uint8Array(A),1,[A])}).catch(A=>{S.error(A)})},S.onCancel=A=>{this._fullReader.cancel(A),S.ready.catch(A=>{if(!this.destroyed)throw A})}}),A.on("ReaderHeadersReady",A=>{let T=new _util.PromiseCapability,M=this._fullReader;return M.headersReady.then(()=>{M.isStreamingSupported&&M.isRangeSupported||(this._lastProgress&&S.onProgress?.(this._lastProgress),M.onProgress=A=>{S.onProgress?.({loaded:A.loaded,total:A.total})}),T.resolve({isStreamingSupported:M.isStreamingSupported,isRangeSupported:M.isRangeSupported,contentLength:M.contentLength})},T.reject),T.promise}),A.on("GetRangeReader",(A,S)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let T=this._networkStream.getRangeReader(A.begin,A.end);if(!T){S.close();return}S.onPull=()=>{T.read().then(function({value:A,done:T}){if(T){S.close();return}(0,_util.assert)(A instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),S.enqueue(new Uint8Array(A),1,[A])}).catch(A=>{S.error(A)})},S.onCancel=A=>{T.cancel(A),S.ready.catch(A=>{if(!this.destroyed)throw A})}}),A.on("GetDoc",({pdfInfo:A})=>{this._numPages=A.numPages,this._htmlForXfa=A.htmlForXfa,delete A.htmlForXfa,S._capability.resolve(new PDFDocumentProxy(A,this))}),A.on("DocException",function(A){let T;switch(A.name){case"PasswordException":T=new _util.PasswordException(A.message,A.code);break;case"InvalidPDFException":T=new _util.InvalidPDFException(A.message);break;case"MissingPDFException":T=new _util.MissingPDFException(A.message);break;case"UnexpectedResponseException":T=new _util.UnexpectedResponseException(A.message,A.status);break;case"UnknownErrorException":T=new _util.UnknownErrorException(A.message,A.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}S._capability.reject(T)}),A.on("PasswordRequest",A=>{if(this.#c=new _util.PromiseCapability,S.onPassword){let T=A=>{A instanceof Error?this.#c.reject(A):this.#c.resolve({password:A})};try{S.onPassword(T,A.code)}catch(A){this.#c.reject(A)}}else this.#c.reject(new _util.PasswordException(A.message,A.code));return this.#c.promise}),A.on("DataLoaded",A=>{S.onProgress?.({loaded:A.length,total:A.length}),this.downloadInfoCapability.resolve(A)}),A.on("StartRenderPage",A=>{if(this.destroyed)return;let S=this.#d.get(A.pageIndex);S._startRenderPage(A.transparency,A.cacheKey)}),A.on("commonobj",([S,T,M])=>{if(!(this.destroyed||this.commonObjs.has(S)))switch(T){case"Font":let R=this._params;if("error"in M){let A=M.error;(0,_util.warn)(`Error during font loading: ${A}`),this.commonObjs.resolve(S,A);break}let O=R.pdfBug&&globalThis.FontInspector?.enabled?(A,S)=>globalThis.FontInspector.fontAdded(A,S):null,I=new _font_loader.FontFaceObject(M,{isEvalSupported:R.isEvalSupported,disableFontFace:R.disableFontFace,ignoreErrors:R.ignoreErrors,inspectFont:O});this.fontLoader.bind(I).catch(T=>A.sendWithPromise("FontFallback",{id:S})).finally(()=>{!R.fontExtraProperties&&I.data&&(I.data=null),this.commonObjs.resolve(S,I)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(S,M);break;default:throw Error(`Got unknown common object type ${T}`)}}),A.on("obj",([A,S,T,M])=>{if(this.destroyed)return;let R=this.#d.get(S);if(!R.objs.has(A))switch(T){case"Image":if(R.objs.resolve(A,M),M){let A;if(M.bitmap){let{width:S,height:T}=M;A=S*T*4}else A=M.data?.length||0;A>_util.MAX_IMAGE_SIZE_TO_CACHE&&(R._maybeCleanupAfterRender=!0)}break;case"Pattern":R.objs.resolve(A,M);break;default:throw Error(`Got unknown object type ${T}`)}}),A.on("DocProgress",A=>{this.destroyed||S.onProgress?.({loaded:A.loaded,total:A.total})}),A.on("FetchBuiltInCMap",A=>this.destroyed?Promise.reject(Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(A):Promise.reject(Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),A.on("FetchStandardFontData",A=>this.destroyed?Promise.reject(Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(A):Promise.reject(Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:A,transfers:S}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:A,filename:this._fullReader?.filename??null},S).finally(()=>{this.annotationStorage.resetModified()})}getPage(A){if(!Number.isInteger(A)||A<=0||A>this._numPages)return Promise.reject(Error("Invalid page request."));let S=A-1,T=this.#u.get(S);if(T)return T;let M=this.messageHandler.sendWithPromise("GetPage",{pageIndex:S}).then(A=>{if(this.destroyed)throw Error("Transport destroyed");let T=new PDFPageProxy(S,A,this,this._params.pdfBug);return this.#d.set(S,T),T});return this.#u.set(S,M),M}getPageIndex(A){return"object"!=typeof A||null===A||!Number.isInteger(A.num)||A.num<0||!Number.isInteger(A.gen)||A.gen<0?Promise.reject(Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:A.num,gen:A.gen})}getAnnotations(A,S){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:A,intent:S})}getFieldObjects(){return this.#p("GetFieldObjects")}hasJSActions(){return this.#p("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(A){return"string"!=typeof A?Promise.reject(Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:A})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#p("GetDocJSActions")}getPageJSActions(A){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:A})}getStructTree(A){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:A})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(A=>new _optional_content_config.OptionalContentConfig(A))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let A="GetMetadata",S=this.#h.get(A);if(S)return S;let T=this.messageHandler.sendWithPromise(A,null).then(A=>({info:A[0],metadata:A[1]?new _metadata.Metadata(A[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#h.set(A,T),T}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(A=!1){if(!this.destroyed){for(let A of(await this.messageHandler.sendWithPromise("Cleanup",null),this.#d.values())){let S=A.cleanup();if(!S)throw Error(`startCleanup: Page ${A.pageNumber} is currently rendering.`)}this.commonObjs.clear(),A||this.fontLoader.clear(),this.#h.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){let{disableAutoFetch:A,enableXfa:S}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:A,enableXfa:S})}}class PDFObjects{#f=Object.create(null);#g(A){return this.#f[A]||={capability:new _util.PromiseCapability,data:null}}get(A,S=null){if(S){let T=this.#g(A);return T.capability.promise.then(()=>S(T.data)),null}let T=this.#f[A];if(!T?.capability.settled)throw Error(`Requesting object that isn't resolved yet ${A}.`);return T.data}has(A){let S=this.#f[A];return S?.capability.settled||!1}resolve(A,S=null){let T=this.#g(A);T.data=S,T.capability.resolve()}clear(){for(let A in this.#f){let{data:S}=this.#f[A];S?.bitmap?.close()}this.#f=Object.create(null)}}class RenderTask{#m=null;constructor(A){this.#m=A,this.onContinue=null}get promise(){return this.#m.capability.promise}cancel(A=0){this.#m.cancel(null,A)}get separateAnnots(){let{separateAnnots:A}=this.#m.operatorList;if(!A)return!1;let{annotationCanvasMap:S}=this.#m;return A.form||A.canvas&&S?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static #b=new WeakSet;constructor({callback:A,params:S,objs:T,commonObjs:M,annotationCanvasMap:R,operatorList:O,pageIndex:I,canvasFactory:F,filterFactory:D,useRequestAnimationFrame:L=!1,pdfBug:N=!1,pageColors:B=null}){this.callback=A,this.params=S,this.objs=T,this.commonObjs=M,this.annotationCanvasMap=R,this.operatorListIdx=null,this.operatorList=O,this._pageIndex=I,this.canvasFactory=F,this.filterFactory=D,this._pdfBug=N,this.pageColors=B,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===L&&"undefined"!=typeof window,this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=S.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:A=!1,optionalContentConfig:S}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#b.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#b.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:T,viewport:M,transform:R,background:O}=this.params;this.gfx=new _canvas.CanvasGraphics(T,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:S},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:R,viewport:M,transparency:A,background:O}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(A=null,S=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#b.delete(this._canvas),this.callback(A||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,S))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){!this.cancelled&&(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#b.delete(this._canvas),this.callback())))}}let version="3.11.174";exports.version=version;let build="ce8716743";exports.build=build},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.SerializableEmpty=S.PrintAnnotationStorage=S.AnnotationStorage=void 0;var M=T(1),R=T(4),O=T(8);let I=Object.freeze({map:null,hash:"",transfers:void 0});S.SerializableEmpty=I;class F{#y=!1;#v=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(A,S){let T=this.#v.get(A);return void 0===T?S:Object.assign(S,T)}getRawValue(A){return this.#v.get(A)}remove(A){if(this.#v.delete(A),0===this.#v.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(let A of this.#v.values())if(A instanceof R.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(A,S){let T=this.#v.get(A),M=!1;if(void 0!==T)for(let[A,R]of Object.entries(S))T[A]!==R&&(M=!0,T[A]=R);else M=!0,this.#v.set(A,S);M&&this.#A(),S instanceof R.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(S.constructor._type)}has(A){return this.#v.has(A)}getAll(){return this.#v.size>0?(0,M.objectFromMap)(this.#v):null}setAll(A){for(let[S,T]of Object.entries(A))this.setValue(S,T)}get size(){return this.#v.size}#A(){this.#y||(this.#y=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#y&&(this.#y=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new D(this)}get serializable(){if(0===this.#v.size)return I;let A=new Map,S=new O.MurmurHash3_64,T=[],M=Object.create(null),F=!1;for(let[T,O]of this.#v){let I=O instanceof R.AnnotationEditor?O.serialize(!1,M):O;I&&(A.set(T,I),S.update(`${T}:${JSON.stringify(I)}`),F||=!!I.bitmap)}if(F)for(let S of A.values())S.bitmap&&T.push(S.bitmap);return A.size>0?{map:A,hash:S.hexdigest(),transfers:T}:I}}S.AnnotationStorage=F;class D extends F{#_;constructor(A){super();let{map:S,hash:T,transfers:M}=A.serializable,R=structuredClone(S,M?{transfer:M}:null);this.#_={map:R,hash:T,transfers:M}}get print(){(0,M.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#_}}S.PrintAnnotationStorage=D},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.AnnotationEditor=void 0;var M=T(5),R=T(1),O=T(6);class I{#E="";#S=!1;#x=null;#w=null;#C=null;#T=!1;#P=null;#M=this.focusin.bind(this);#R=this.focusout.bind(this);#k=!1;#O=!1;#I=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#F=!1;#D=I._zIndex++;static _borderLineWidth=-1;static _colorManager=new M.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(A){this.constructor===I&&(0,R.unreachable)("Cannot initialize AnnotationEditor."),this.parent=A.parent,this.id=A.id,this.width=this.height=null,this.pageIndex=A.parent.pageIndex,this.name=A.name,this.div=null,this._uiManager=A.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=A.isCentered,this._structTreeParentId=null;let{rotation:S,rawDims:{pageWidth:T,pageHeight:M,pageX:O,pageY:F}}=this.parent.viewport;this.rotation=S,this.pageRotation=(360+S-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[T,M],this.pageTranslation=[O,F];let[D,L]=this.parentDimensions;this.x=A.x/D,this.y=A.y/L,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,R.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(A){let S=new F({id:A.parent.getNextId(),parent:A.parent,uiManager:A._uiManager});S.annotationElementId=A.annotationElementId,S.deleted=!0,S._uiManager.addToAnnotationStorage(S)}static initialize(A,S=null){if(I._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(S=>[S,A.get(S)])),S?.strings)for(let T of S.strings)I._l10nPromise.set(T,A.get(T));if(-1!==I._borderLineWidth)return;let T=getComputedStyle(document.documentElement);I._borderLineWidth=parseFloat(T.getPropertyValue("--outline-width"))||0}static updateDefaultParams(A,S){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(A){return!1}static paste(A,S){(0,R.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#F}set _isDraggable(A){this.#F=A,this.div?.classList.toggle("draggable",A)}center(){let[A,S]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*S/(2*A),this.y+=this.width*A/(2*S);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*S/(2*A),this.y-=this.width*A/(2*S);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(A){this._uiManager.addCommands(A)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#D}setParent(A){null!==A&&(this.pageIndex=A.pageIndex,this.pageDimensions=A.pageDimensions),this.parent=A}focusin(A){this._focusEventsAllowed&&(this.#k?this.#k=!1:this.parent.setSelected(this))}focusout(A){if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;let S=A.relatedTarget;!S?.closest(`#${this.id}`)&&(A.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(A,S,T,M){let[R,O]=this.parentDimensions;[T,M]=this.screenToPageTranslation(T,M),this.x=(A+T)/R,this.y=(S+M)/O,this.fixAndSetPosition()}#L([A,S],T,M){[T,M]=this.screenToPageTranslation(T,M),this.x+=T/A,this.y+=M/S,this.fixAndSetPosition()}translate(A,S){this.#L(this.parentDimensions,A,S)}translateInPage(A,S){this.#L(this.pageDimensions,A,S),this.div.scrollIntoView({block:"nearest"})}drag(A,S){let[T,M]=this.parentDimensions;if(this.x+=A/T,this.y+=S/M,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:A,y:S}=this.div.getBoundingClientRect();this.parent.findNewParent(this,A,S)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:R,y:O}=this,[I,F]=this.#N();R+=I,O+=F,this.div.style.left=`${(100*R).toFixed(2)}%`,this.div.style.top=`${(100*O).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#N(){let[A,S]=this.parentDimensions,{_borderLineWidth:T}=I,M=T/A,R=T/S;switch(this.rotation){case 90:return[-M,R];case 180:return[M,R];case 270:return[M,-R];default:return[-M,-R]}}fixAndSetPosition(){let[A,S]=this.pageDimensions,{x:T,y:M,width:R,height:O}=this;switch(R*=A,O*=S,T*=A,M*=S,this.rotation){case 0:T=Math.max(0,Math.min(A-R,T)),M=Math.max(0,Math.min(S-O,M));break;case 90:T=Math.max(0,Math.min(A-O,T)),M=Math.min(S,Math.max(R,M));break;case 180:T=Math.min(A,Math.max(R,T)),M=Math.min(S,Math.max(O,M));break;case 270:T=Math.min(A,Math.max(O,T)),M=Math.max(0,Math.min(S-R,M))}this.x=T/=A,this.y=M/=S;let[I,F]=this.#N();T+=I,M+=F;let{style:D}=this.div;D.left=`${(100*T).toFixed(2)}%`,D.top=`${(100*M).toFixed(2)}%`,this.moveInDOM()}static #B(A,S,T){switch(T){case 90:return[S,-A];case 180:return[-A,-S];case 270:return[-S,A];default:return[A,S]}}screenToPageTranslation(A,S){return I.#B(A,S,this.parentRotation)}pageTranslationToScreen(A,S){return I.#B(A,S,360-this.parentRotation)}#j(A){switch(A){case 90:{let[A,S]=this.pageDimensions;return[0,-A/S,S/A,0]}case 180:return[-1,0,0,-1];case 270:{let[A,S]=this.pageDimensions;return[0,A/S,-S/A,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:A,pageDimensions:[S,T]}=this,M=S*A,O=T*A;return R.FeatureTest.isCSSRoundSupported?[Math.round(M),Math.round(O)]:[M,O]}setDims(A,S){let[T,M]=this.parentDimensions;this.div.style.width=`${(100*A/T).toFixed(2)}%`,this.#T||(this.div.style.height=`${(100*S/M).toFixed(2)}%`),this.#x?.classList.toggle("small",A<I.SMALL_EDITOR_SIZE||S<I.SMALL_EDITOR_SIZE)}fixDims(){let{style:A}=this.div,{height:S,width:T}=A,M=T.endsWith("%"),R=!this.#T&&S.endsWith("%");if(M&&R)return;let[O,I]=this.parentDimensions;M||(A.width=`${(100*parseFloat(T)/O).toFixed(2)}%`),this.#T||R||(A.height=`${(100*parseFloat(S)/I).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#U(){if(this.#P)return;this.#P=document.createElement("div"),this.#P.classList.add("resizers");let A=["topLeft","topRight","bottomRight","bottomLeft"];for(let S of(this._willKeepAspectRatio||A.push("topMiddle","middleRight","bottomMiddle","middleLeft"),A)){let A=document.createElement("div");this.#P.append(A),A.classList.add("resizer",S),A.addEventListener("pointerdown",this.#$.bind(this,S)),A.addEventListener("contextmenu",O.noContextMenu)}this.div.prepend(this.#P)}#$(A,S){S.preventDefault();let{isMac:T}=R.FeatureTest.platform;if(0!==S.button||S.ctrlKey&&T)return;let M=this.#z.bind(this,A),O=this._isDraggable;this._isDraggable=!1;let I={passive:!0,capture:!0};window.addEventListener("pointermove",M,I);let F=this.x,D=this.y,L=this.width,N=this.height,B=this.parent.div.style.cursor,$=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(S.target).cursor;let z=()=>{this._isDraggable=O,window.removeEventListener("pointerup",z),window.removeEventListener("blur",z),window.removeEventListener("pointermove",M,I),this.parent.div.style.cursor=B,this.div.style.cursor=$;let A=this.x,S=this.y,T=this.width,R=this.height;(A!==F||S!==D||T!==L||R!==N)&&this.addCommands({cmd:()=>{this.width=T,this.height=R,this.x=A,this.y=S;let[M,O]=this.parentDimensions;this.setDims(M*T,O*R),this.fixAndSetPosition()},undo:()=>{this.width=L,this.height=N,this.x=F,this.y=D;let[A,S]=this.parentDimensions;this.setDims(A*L,S*N),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",z),window.addEventListener("blur",z)}#z(A,S){let T,M;let[R,O]=this.parentDimensions,F=this.x,D=this.y,L=this.width,N=this.height,B=I.MIN_SIZE/R,$=I.MIN_SIZE/O,z=A=>Math.round(1e4*A)/1e4,H=this.#j(this.rotation),V=(A,S)=>[H[0]*A+H[2]*S,H[1]*A+H[3]*S],W=this.#j(360-this.rotation),X=(A,S)=>[W[0]*A+W[2]*S,W[1]*A+W[3]*S],K=!1,Y=!1;switch(A){case"topLeft":K=!0,T=(A,S)=>[0,0],M=(A,S)=>[A,S];break;case"topMiddle":T=(A,S)=>[A/2,0],M=(A,S)=>[A/2,S];break;case"topRight":K=!0,T=(A,S)=>[A,0],M=(A,S)=>[0,S];break;case"middleRight":Y=!0,T=(A,S)=>[A,S/2],M=(A,S)=>[0,S/2];break;case"bottomRight":K=!0,T=(A,S)=>[A,S],M=(A,S)=>[0,0];break;case"bottomMiddle":T=(A,S)=>[A/2,S],M=(A,S)=>[A/2,0];break;case"bottomLeft":K=!0,T=(A,S)=>[0,S],M=(A,S)=>[A,0];break;case"middleLeft":Y=!0,T=(A,S)=>[0,S/2],M=(A,S)=>[A,S/2]}let J=T(L,N),Q=M(L,N),Z=V(...Q),tt=z(F+Z[0]),te=z(D+Z[1]),ti=1,tr=1,[tn,ts]=this.screenToPageTranslation(S.movementX,S.movementY);if([tn,ts]=X(tn/R,ts/O),K){let A=Math.hypot(L,N);ti=tr=Math.max(Math.min(Math.hypot(Q[0]-J[0]-tn,Q[1]-J[1]-ts)/A,1/L,1/N),B/L,$/N)}else Y?ti=Math.max(B,Math.min(1,Math.abs(Q[0]-J[0]-tn)))/L:tr=Math.max($,Math.min(1,Math.abs(Q[1]-J[1]-ts)))/N;let ta=z(L*ti),tl=z(N*tr);Z=V(...M(ta,tl));let th=tt-Z[0],td=te-Z[1];this.width=ta,this.height=tl,this.x=th,this.y=td,this.setDims(R*ta,O*tl),this.fixAndSetPosition()}async addAltTextButton(){if(this.#x)return;let A=this.#x=document.createElement("button");A.className="altText";let S=await I._l10nPromise.get("editor_alt_text_button_label");if(A.textContent=S,A.setAttribute("aria-label",S),A.tabIndex="0",A.addEventListener("contextmenu",O.noContextMenu),A.addEventListener("pointerdown",A=>A.stopPropagation()),A.addEventListener("click",A=>{A.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),A.addEventListener("keydown",S=>{S.target===A&&"Enter"===S.key&&(S.preventDefault(),this._uiManager.editAltText(this))}),this.#G(),this.div.append(A),!I.SMALL_EDITOR_SIZE){let S=40;I.SMALL_EDITOR_SIZE=Math.min(128,Math.round(A.getBoundingClientRect().width*(1+S/100)))}}async #G(){let A=this.#x;if(!A)return;if(!this.#E&&!this.#S){A.classList.remove("done"),this.#w?.remove();return}I._l10nPromise.get("editor_alt_text_edit_button_label").then(S=>{A.setAttribute("aria-label",S)});let S=this.#w;if(!S){this.#w=S=document.createElement("span"),S.className="tooltip",S.setAttribute("role","tooltip");let T=S.id=`alt-text-tooltip-${this.id}`;A.setAttribute("aria-describedby",T);let M=100;A.addEventListener("mouseenter",()=>{this.#C=setTimeout(()=>{this.#C=null,this.#w.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},M)}),A.addEventListener("mouseleave",()=>{clearTimeout(this.#C),this.#C=null,this.#w?.classList.remove("show")})}A.classList.add("done"),S.innerText=this.#S?await I._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#E,S.parentNode||A.append(S)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#E,decorative:this.#S}}set altTextData({altText:A,decorative:S}){(this.#E!==A||this.#S!==S)&&(this.#E=A,this.#S=S,this.#G())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#M),this.div.addEventListener("focusout",this.#R);let[A,S]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*S/A).toFixed(2)}%`,this.div.style.maxHeight=`${(100*A/S).toFixed(2)}%`);let[T,R]=this.getInitialTranslation();return this.translate(T,R),(0,M.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(A){let{isMac:S}=R.FeatureTest.platform;if(0!==A.button||A.ctrlKey&&S){A.preventDefault();return}this.#k=!0,this.#H(A)}#H(A){let S,T;if(!this._isDraggable)return;let M=this._uiManager.isSelected(this);this._uiManager.setUpDragSession(),M&&(S={passive:!0,capture:!0},T=A=>{let[S,T]=this.screenToPageTranslation(A.movementX,A.movementY);this._uiManager.dragSelectedEditors(S,T)},window.addEventListener("pointermove",T,S));let O=()=>{if(window.removeEventListener("pointerup",O),window.removeEventListener("blur",O),M&&window.removeEventListener("pointermove",T,S),this.#k=!1,!this._uiManager.endDragSession()){let{isMac:S}=R.FeatureTest.platform;A.ctrlKey&&!S||A.shiftKey||A.metaKey&&S?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",O),window.addEventListener("blur",O)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(A,S,T){A.changeParent(this),this.x=S,this.y=T,this.fixAndSetPosition()}getRect(A,S){let T=this.parentScale,[M,R]=this.pageDimensions,[O,I]=this.pageTranslation,F=A/T,D=S/T,L=this.x*M,N=this.y*R,B=this.width*M,$=this.height*R;switch(this.rotation){case 0:return[L+F+O,R-N-D-$+I,L+F+B+O,R-N-D+I];case 90:return[L+D+O,R-N+F+I,L+D+$+O,R-N+F+B+I];case 180:return[L-F-B+O,R-N+D+I,L-F+O,R-N+D+$+I];case 270:return[L-D-$+O,R-N-F-B+I,L-D+O,R-N-F+I];default:throw Error("Invalid rotation")}}getRectInCurrentCoords(A,S){let[T,M,R,O]=A,I=R-T,F=O-M;switch(this.rotation){case 0:return[T,S-O,I,F];case 90:return[T,S-M,F,I];case 180:return[R,S-M,I,F];case 270:return[R,S-O,F,I];default:throw Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#I=!0}disableEditMode(){this.#I=!1}isInEditMode(){return this.#I}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#M),this.div?.addEventListener("focusout",this.#R)}serialize(A=!1,S=null){(0,R.unreachable)("An editor must be serializable")}static deserialize(A,S,T){let M=new this.prototype.constructor({parent:S,id:S.getNextId(),uiManager:T});M.rotation=A.rotation;let[R,O]=M.pageDimensions,[I,F,D,L]=M.getRectInCurrentCoords(A.rect,O);return M.x=I/R,M.y=F/O,M.width=D/R,M.height=L/O,M}remove(){this.div.removeEventListener("focusin",this.#M),this.div.removeEventListener("focusout",this.#R),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#x?.remove(),this.#x=null,this.#w=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#U(),this.#P.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#P?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(A,S){}disableEditing(){this.#x&&(this.#x.hidden=!0)}enableEditing(){this.#x&&(this.#x.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#O}set isEditing(A){this.#O=A,this.parent&&(A?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(A,S){this.#T=!0;let T=A/S,{style:M}=this.div;M.aspectRatio=T,M.height="auto"}static get MIN_SIZE(){return 16}}S.AnnotationEditor=I;class F extends I{constructor(A){super(A),this.annotationElementId=A.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.KeyboardManager=S.CommandManager=S.ColorManager=S.AnnotationEditorUIManager=void 0,S.bindEvents=O,S.opacityToHex=I;var M=T(1),R=T(6);function O(A,S,T){for(let M of T)S.addEventListener(M,A[M].bind(A))}function I(A){return Math.round(Math.min(255,Math.max(1,255*A))).toString(16).padStart(2,"0")}class F{#V=0;getId(){return`${M.AnnotationEditorPrefix}${this.#V++}`}}class D{#W=(0,M.getUuid)();#V=0;#q=null;static get _isSVGFittingCanvas(){let A='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',S=new OffscreenCanvas(1,3),T=S.getContext("2d"),R=new Image;R.src=A;let O=R.decode().then(()=>(T.drawImage(R,0,0,1,1,0,0,1,3),0===new Uint32Array(T.getImageData(0,0,1,1).data.buffer)[0]));return(0,M.shadow)(this,"_isSVGFittingCanvas",O)}async #X(A,S){this.#q||=new Map;let T=this.#q.get(A);if(null===T)return null;if(T?.bitmap)return T.refCounter+=1,T;try{let A;if(T||={bitmap:null,id:`image_${this.#W}_${this.#V++}`,refCounter:0,isSvg:!1},"string"==typeof S){T.url=S;let M=await fetch(S);if(!M.ok)throw Error(M.statusText);A=await M.blob()}else A=T.file=S;if("image/svg+xml"===A.type){let S=D._isSVGFittingCanvas,M=new FileReader,R=new Image,O=new Promise((A,O)=>{R.onload=()=>{T.bitmap=R,T.isSvg=!0,A()},M.onload=async()=>{let A=T.svgUrl=M.result;R.src=await S?`${A}#svgView(preserveAspectRatio(none))`:A},R.onerror=M.onerror=O});M.readAsDataURL(A),await O}else T.bitmap=await createImageBitmap(A);T.refCounter=1}catch(A){console.error(A),T=null}return this.#q.set(A,T),T&&this.#q.set(T.id,T),T}async getFromFile(A){let{lastModified:S,name:T,size:M,type:R}=A;return this.#X(`${S}_${T}_${M}_${R}`,A)}async getFromUrl(A){return this.#X(A,A)}async getFromId(A){this.#q||=new Map;let S=this.#q.get(A);return S?S.bitmap?(S.refCounter+=1,S):S.file?this.getFromFile(S.file):this.getFromUrl(S.url):null}getSvgUrl(A){let S=this.#q.get(A);return S?.isSvg?S.svgUrl:null}deleteId(A){this.#q||=new Map;let S=this.#q.get(A);S&&(S.refCounter-=1,0===S.refCounter&&(S.bitmap=null))}isValidId(A){return A.startsWith(`image_${this.#W}_`)}}class L{#K=[];#Y=!1;#J;#Q=-1;constructor(A=128){this.#J=A}add({cmd:A,undo:S,mustExec:T,type:M=NaN,overwriteIfSameType:R=!1,keepUndo:O=!1}){if(T&&A(),this.#Y)return;let I={cmd:A,undo:S,type:M};if(-1===this.#Q){this.#K.length>0&&(this.#K.length=0),this.#Q=0,this.#K.push(I);return}if(R&&this.#K[this.#Q].type===M){O&&(I.undo=this.#K[this.#Q].undo),this.#K[this.#Q]=I;return}let F=this.#Q+1;F===this.#J?this.#K.splice(0,1):(this.#Q=F,F<this.#K.length&&this.#K.splice(F)),this.#K.push(I)}undo(){-1!==this.#Q&&(this.#Y=!0,this.#K[this.#Q].undo(),this.#Y=!1,this.#Q-=1)}redo(){this.#Q<this.#K.length-1&&(this.#Q+=1,this.#Y=!0,this.#K[this.#Q].cmd(),this.#Y=!1)}hasSomethingToUndo(){return -1!==this.#Q}hasSomethingToRedo(){return this.#Q<this.#K.length-1}destroy(){this.#K=null}}S.CommandManager=L;class N{constructor(A){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:S}=M.FeatureTest.platform;for(let[T,M,R={}]of A)for(let A of T){let T=A.startsWith("mac+");S&&T?(this.callbacks.set(A.slice(4),{callback:M,options:R}),this.allKeys.add(A.split("+").at(-1))):S||T||(this.callbacks.set(A,{callback:M,options:R}),this.allKeys.add(A.split("+").at(-1)))}}#Z(A){A.altKey&&this.buffer.push("alt"),A.ctrlKey&&this.buffer.push("ctrl"),A.metaKey&&this.buffer.push("meta"),A.shiftKey&&this.buffer.push("shift"),this.buffer.push(A.key);let S=this.buffer.join("+");return this.buffer.length=0,S}exec(A,S){if(!this.allKeys.has(S.key))return;let T=this.callbacks.get(this.#Z(S));if(!T)return;let{callback:M,options:{bubbles:R=!1,args:O=[],checker:I=null}}=T;(!I||I(A,S))&&(M.bind(A,...O)(),R||(S.stopPropagation(),S.preventDefault()))}}S.KeyboardManager=N;class B{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let A=new Map([["CanvasText",null],["Canvas",null]]);return(0,R.getColorValues)(A),(0,M.shadow)(this,"_colors",A)}convert(A){let S=(0,R.getRGB)(A);if(!window.matchMedia("(forced-colors: active)").matches)return S;for(let[A,T]of this._colors)if(T.every((A,T)=>A===S[T]))return B._colorsMapping.get(A);return S}getHexCode(A){let S=this._colors.get(A);return S?M.Util.makeHexColor(...S):A}}S.ColorManager=B;class ${#tt=null;#te=new Map;#ti=new Map;#tr=null;#tn=null;#ts=new L;#ta=0;#to=new Set;#tl=null;#th=null;#td=new Set;#tu=null;#tc=new F;#tp=!1;#tf=!1;#tg=null;#tm=M.AnnotationEditorType.NONE;#tb=new Set;#ty=null;#tv=this.blur.bind(this);#tA=this.focus.bind(this);#t_=this.copy.bind(this);#tE=this.cut.bind(this);#tS=this.paste.bind(this);#tx=this.keydown.bind(this);#tw=this.onEditingAction.bind(this);#tC=this.onPageChanging.bind(this);#tT=this.onScaleChanging.bind(this);#tP=this.onRotationChanging.bind(this);#tM={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#tR=[0,0];#tk=null;#tO=null;#tI=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let A=$.prototype,S=A=>{let{activeElement:S}=document;return S&&A.#tO.contains(S)&&A.hasSomethingToControl()},T=this.TRANSLATE_SMALL,R=this.TRANSLATE_BIG;return(0,M.shadow)(this,"_keyboardManager",new N([[["ctrl+a","mac+meta+a"],A.selectAll],[["ctrl+z","mac+meta+z"],A.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],A.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],A.delete],[["Escape","mac+Escape"],A.unselectAll],[["ArrowLeft","mac+ArrowLeft"],A.translateSelectedEditors,{args:[-T,0],checker:S}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],A.translateSelectedEditors,{args:[-R,0],checker:S}],[["ArrowRight","mac+ArrowRight"],A.translateSelectedEditors,{args:[T,0],checker:S}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],A.translateSelectedEditors,{args:[R,0],checker:S}],[["ArrowUp","mac+ArrowUp"],A.translateSelectedEditors,{args:[0,-T],checker:S}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],A.translateSelectedEditors,{args:[0,-R],checker:S}],[["ArrowDown","mac+ArrowDown"],A.translateSelectedEditors,{args:[0,T],checker:S}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],A.translateSelectedEditors,{args:[0,R],checker:S}]]))}constructor(A,S,T,M,O,I){this.#tO=A,this.#tI=S,this.#tr=T,this._eventBus=M,this._eventBus._on("editingaction",this.#tw),this._eventBus._on("pagechanging",this.#tC),this._eventBus._on("scalechanging",this.#tT),this._eventBus._on("rotationchanging",this.#tP),this.#tn=O.annotationStorage,this.#tu=O.filterFactory,this.#ty=I,this.viewParameters={realScale:R.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){for(let A of(this.#tF(),this.#tD(),this._eventBus._off("editingaction",this.#tw),this._eventBus._off("pagechanging",this.#tC),this._eventBus._off("scalechanging",this.#tT),this._eventBus._off("rotationchanging",this.#tP),this.#ti.values()))A.destroy();this.#ti.clear(),this.#te.clear(),this.#td.clear(),this.#tt=null,this.#tb.clear(),this.#ts.destroy(),this.#tr.destroy()}get hcmFilter(){return(0,M.shadow)(this,"hcmFilter",this.#ty?this.#tu.addHCMFilter(this.#ty.foreground,this.#ty.background):"none")}get direction(){return(0,M.shadow)(this,"direction",getComputedStyle(this.#tO).direction)}editAltText(A){this.#tr?.editAltText(this,A)}onPageChanging({pageNumber:A}){this.#ta=A-1}focusMainContainer(){this.#tO.focus()}findParent(A,S){for(let T of this.#ti.values()){let{x:M,y:R,width:O,height:I}=T.div.getBoundingClientRect();if(A>=M&&A<=M+O&&S>=R&&S<=R+I)return T}return null}disableUserSelect(A=!1){this.#tI.classList.toggle("noUserSelect",A)}addShouldRescale(A){this.#td.add(A)}removeShouldRescale(A){this.#td.delete(A)}onScaleChanging({scale:A}){for(let S of(this.commitOrRemove(),this.viewParameters.realScale=A*R.PixelsPerInch.PDF_TO_CSS_UNITS,this.#td))S.onScaleChanging()}onRotationChanging({pagesRotation:A}){this.commitOrRemove(),this.viewParameters.rotation=A}addToAnnotationStorage(A){A.isEmpty()||!this.#tn||this.#tn.has(A.id)||this.#tn.setValue(A.id,A)}#tL(){window.addEventListener("focus",this.#tA),window.addEventListener("blur",this.#tv)}#tD(){window.removeEventListener("focus",this.#tA),window.removeEventListener("blur",this.#tv)}blur(){if(!this.hasSelection)return;let{activeElement:A}=document;for(let S of this.#tb)if(S.div.contains(A)){this.#tg=[S,A],S._focusEventsAllowed=!1;break}}focus(){if(!this.#tg)return;let[A,S]=this.#tg;this.#tg=null,S.addEventListener("focusin",()=>{A._focusEventsAllowed=!0},{once:!0}),S.focus()}#tN(){window.addEventListener("keydown",this.#tx,{capture:!0})}#tF(){window.removeEventListener("keydown",this.#tx,{capture:!0})}#tB(){document.addEventListener("copy",this.#t_),document.addEventListener("cut",this.#tE),document.addEventListener("paste",this.#tS)}#tj(){document.removeEventListener("copy",this.#t_),document.removeEventListener("cut",this.#tE),document.removeEventListener("paste",this.#tS)}addEditListeners(){this.#tN(),this.#tB()}removeEditListeners(){this.#tF(),this.#tj()}copy(A){if(A.preventDefault(),this.#tt?.commitOrRemove(),!this.hasSelection)return;let S=[];for(let A of this.#tb){let T=A.serialize(!0);T&&S.push(T)}0!==S.length&&A.clipboardData.setData("application/pdfjs",JSON.stringify(S))}cut(A){this.copy(A),this.delete()}paste(A){A.preventDefault();let{clipboardData:S}=A;for(let A of S.items)for(let S of this.#th)if(S.isHandlingMimeForPasting(A.type)){S.paste(A,this.currentLayer);return}let T=S.getData("application/pdfjs");if(!T)return;try{T=JSON.parse(T)}catch(A){(0,M.warn)(`paste: "${A.message}".`);return}if(!Array.isArray(T))return;this.unselectAll();let R=this.currentLayer;try{let A=[];for(let S of T){let T=R.deserialize(S);if(!T)return;A.push(T)}let S=()=>{for(let S of A)this.#tU(S);this.#t$(A)},M=()=>{for(let S of A)S.remove()};this.addCommands({cmd:S,undo:M,mustExec:!0})}catch(A){(0,M.warn)(`paste: "${A.message}".`)}}keydown(A){this.getActive()?.shouldGetKeyboardEvents()||$._keyboardManager.exec(this,A)}onEditingAction(A){["undo","redo","delete","selectAll"].includes(A.name)&&this[A.name]()}#tz(A){let S=Object.entries(A).some(([A,S])=>this.#tM[A]!==S);S&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#tM,A)})}#tG(A){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:A})}setEditingState(A){A?(this.#tL(),this.#tN(),this.#tB(),this.#tz({isEditing:this.#tm!==M.AnnotationEditorType.NONE,isEmpty:this.#tH(),hasSomethingToUndo:this.#ts.hasSomethingToUndo(),hasSomethingToRedo:this.#ts.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#tD(),this.#tF(),this.#tj(),this.#tz({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(A){if(!this.#th)for(let S of(this.#th=A,this.#th))this.#tG(S.defaultPropertiesToUpdate)}getId(){return this.#tc.getId()}get currentLayer(){return this.#ti.get(this.#ta)}getLayer(A){return this.#ti.get(A)}get currentPageIndex(){return this.#ta}addLayer(A){this.#ti.set(A.pageIndex,A),this.#tp?A.enable():A.disable()}removeLayer(A){this.#ti.delete(A.pageIndex)}updateMode(A,S=null){if(this.#tm!==A){if(this.#tm=A,A===M.AnnotationEditorType.NONE){this.setEditingState(!1),this.#tV();return}for(let S of(this.setEditingState(!0),this.#tW(),this.unselectAll(),this.#ti.values()))S.updateMode(A);if(S){for(let A of this.#te.values())if(A.annotationElementId===S){this.setSelected(A),A.enterInEditMode();break}}}}updateToolbar(A){A!==this.#tm&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:A})}updateParams(A,S){if(this.#th){if(A===M.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(A);return}for(let T of this.#tb)T.updateParams(A,S);for(let T of this.#th)T.updateDefaultParams(A,S)}}enableWaiting(A=!1){if(this.#tf!==A)for(let S of(this.#tf=A,this.#ti.values()))A?S.disableClick():S.enableClick(),S.div.classList.toggle("waiting",A)}#tW(){if(!this.#tp)for(let A of(this.#tp=!0,this.#ti.values()))A.enable()}#tV(){if(this.unselectAll(),this.#tp)for(let A of(this.#tp=!1,this.#ti.values()))A.disable()}getEditors(A){let S=[];for(let T of this.#te.values())T.pageIndex===A&&S.push(T);return S}getEditor(A){return this.#te.get(A)}addEditor(A){this.#te.set(A.id,A)}removeEditor(A){this.#te.delete(A.id),this.unselect(A),A.annotationElementId&&this.#to.has(A.annotationElementId)||this.#tn?.remove(A.id)}addDeletedAnnotationElement(A){this.#to.add(A.annotationElementId),A.deleted=!0}isDeletedAnnotationElement(A){return this.#to.has(A)}removeDeletedAnnotationElement(A){this.#to.delete(A.annotationElementId),A.deleted=!1}#tU(A){let S=this.#ti.get(A.pageIndex);S?S.addOrRebuild(A):this.addEditor(A)}setActiveEditor(A){this.#tt!==A&&(this.#tt=A,A&&this.#tG(A.propertiesToUpdate))}toggleSelected(A){if(this.#tb.has(A)){this.#tb.delete(A),A.unselect(),this.#tz({hasSelectedEditor:this.hasSelection});return}this.#tb.add(A),A.select(),this.#tG(A.propertiesToUpdate),this.#tz({hasSelectedEditor:!0})}setSelected(A){for(let S of this.#tb)S!==A&&S.unselect();this.#tb.clear(),this.#tb.add(A),A.select(),this.#tG(A.propertiesToUpdate),this.#tz({hasSelectedEditor:!0})}isSelected(A){return this.#tb.has(A)}unselect(A){A.unselect(),this.#tb.delete(A),this.#tz({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#tb.size}undo(){this.#ts.undo(),this.#tz({hasSomethingToUndo:this.#ts.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#tH()})}redo(){this.#ts.redo(),this.#tz({hasSomethingToUndo:!0,hasSomethingToRedo:this.#ts.hasSomethingToRedo(),isEmpty:this.#tH()})}addCommands(A){this.#ts.add(A),this.#tz({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#tH()})}#tH(){if(0===this.#te.size)return!0;if(1===this.#te.size)for(let A of this.#te.values())return A.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let A=[...this.#tb],S=()=>{for(let S of A)S.remove()},T=()=>{for(let S of A)this.#tU(S)};this.addCommands({cmd:S,undo:T,mustExec:!0})}commitOrRemove(){this.#tt?.commitOrRemove()}hasSomethingToControl(){return this.#tt||this.hasSelection}#t$(A){for(let S of(this.#tb.clear(),A))S.isEmpty()||(this.#tb.add(S),S.select());this.#tz({hasSelectedEditor:!0})}selectAll(){for(let A of this.#tb)A.commit();this.#t$(this.#te.values())}unselectAll(){if(this.#tt){this.#tt.commitOrRemove();return}if(this.hasSelection){for(let A of this.#tb)A.unselect();this.#tb.clear(),this.#tz({hasSelectedEditor:!1})}}translateSelectedEditors(A,S,T=!1){if(T||this.commitOrRemove(),!this.hasSelection)return;this.#tR[0]+=A,this.#tR[1]+=S;let[M,R]=this.#tR,O=[...this.#tb],I=1e3;for(let T of(this.#tk&&clearTimeout(this.#tk),this.#tk=setTimeout(()=>{this.#tk=null,this.#tR[0]=this.#tR[1]=0,this.addCommands({cmd:()=>{for(let A of O)this.#te.has(A.id)&&A.translateInPage(M,R)},undo:()=>{for(let A of O)this.#te.has(A.id)&&A.translateInPage(-M,-R)},mustExec:!1})},I),O))T.translateInPage(A,S)}setUpDragSession(){if(this.hasSelection)for(let A of(this.disableUserSelect(!0),this.#tl=new Map,this.#tb))this.#tl.set(A,{savedX:A.x,savedY:A.y,savedPageIndex:A.pageIndex,newX:0,newY:0,newPageIndex:-1})}endDragSession(){if(!this.#tl)return!1;this.disableUserSelect(!1);let A=this.#tl;this.#tl=null;let S=!1;for(let[{x:T,y:M,pageIndex:R},O]of A)O.newX=T,O.newY=M,O.newPageIndex=R,S||=T!==O.savedX||M!==O.savedY||R!==O.savedPageIndex;if(!S)return!1;let T=(A,S,T,M)=>{if(this.#te.has(A.id)){let R=this.#ti.get(M);R?A._setParentAndPosition(R,S,T):(A.pageIndex=M,A.x=S,A.y=T)}};return this.addCommands({cmd:()=>{for(let[S,{newX:M,newY:R,newPageIndex:O}]of A)T(S,M,R,O)},undo:()=>{for(let[S,{savedX:M,savedY:R,savedPageIndex:O}]of A)T(S,M,R,O)},mustExec:!0}),!0}dragSelectedEditors(A,S){if(this.#tl)for(let T of this.#tl.keys())T.drag(A,S)}rebuild(A){if(null===A.parent){let S=this.getLayer(A.pageIndex);S?(S.changeParent(A),S.addOrRebuild(A)):(this.addEditor(A),this.addToAnnotationStorage(A),A.rebuild())}else A.parent.addOrRebuild(A)}isActive(A){return this.#tt===A}getActive(){return this.#tt}getMode(){return this.#tm}get imageManager(){return(0,M.shadow)(this,"imageManager",new D)}}S.AnnotationEditorUIManager=$},(A,S,T)=>{let M;Object.defineProperty(S,"__esModule",{value:!0}),S.StatTimer=S.RenderingCancelledException=S.PixelsPerInch=S.PageViewport=S.PDFDateString=S.DOMStandardFontDataFactory=S.DOMSVGFactory=S.DOMFilterFactory=S.DOMCanvasFactory=S.DOMCMapReaderFactory=void 0,S.deprecated=te,S.getColorValues=ts,S.getCurrentTransform=ta,S.getCurrentTransformInverse=tl,S.getFilenameFromUrl=K,S.getPdfFilenameFromUrl=Y,S.getRGB=tn,S.getXfaPageViewport=tr,S.isDataScheme=W,S.isPdfFile=X,S.isValidFetchUrl=Q,S.loadScript=tt,S.noContextMenu=Z,S.setLayerDimensions=th;var R=T(7),O=T(1);let I="http://www.w3.org/2000/svg";class F{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}S.PixelsPerInch=F;class D extends R.BaseFilterFactory{#tq;#tX;#e;#tK;#tY;#tJ;#tQ;#tZ;#t0;#t1;#V=0;constructor({docId:A,ownerDocument:S=globalThis.document}={}){super(),this.#e=A,this.#tK=S}get #q(){return this.#tq||=new Map}get #t2(){if(!this.#tX){let A=this.#tK.createElement("div"),{style:S}=A;S.visibility="hidden",S.contain="strict",S.width=S.height=0,S.position="absolute",S.top=S.left=0,S.zIndex=-1;let T=this.#tK.createElementNS(I,"svg");T.setAttribute("width",0),T.setAttribute("height",0),this.#tX=this.#tK.createElementNS(I,"defs"),A.append(T),T.append(this.#tX),this.#tK.body.append(A)}return this.#tX}addFilter(A){let S,T,M,R;if(!A)return"none";let O=this.#q.get(A);if(O)return O;if(1===A.length){let O=A[0],I=Array(256);for(let A=0;A<256;A++)I[A]=O[A]/255;R=S=T=M=I.join(",")}else{let[O,I,F]=A,D=Array(256),L=Array(256),N=Array(256);for(let A=0;A<256;A++)D[A]=O[A]/255,L[A]=I[A]/255,N[A]=F[A]/255;R=`${S=D.join(",")}${T=L.join(",")}${M=N.join(",")}`}if(O=this.#q.get(R))return this.#q.set(A,O),O;let I=`g_${this.#e}_transfer_map_${this.#V++}`,F=`url(#${I})`;this.#q.set(A,F),this.#q.set(R,F);let D=this.#t3(I);return this.#t5(S,T,M,D),F}addHCMFilter(A,S){let T=`${A}-${S}`;if(this.#tJ===T||(this.#tJ=T,this.#tQ="none",this.#tY?.remove(),!A||!S))return this.#tQ;let M=this.#t6(A);A=O.Util.makeHexColor(...M);let R=this.#t6(S);if(S=O.Util.makeHexColor(...R),this.#t2.style.color="","#000000"===A&&"#ffffff"===S||A===S)return this.#tQ;let I=Array(256);for(let A=0;A<=255;A++){let S=A/255;I[A]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}let F=I.join(","),D=`g_${this.#e}_hcm_filter`,L=this.#tZ=this.#t3(D);this.#t5(F,F,F,L),this.#t8(L);let N=(A,S)=>{let T=M[A]/255,O=R[A]/255,I=Array(S+1);for(let A=0;A<=S;A++)I[A]=T+A/S*(O-T);return I.join(",")};return this.#t5(N(0,5),N(1,5),N(2,5),L),this.#tQ=`url(#${D})`,this.#tQ}addHighlightHCMFilter(A,S,T,M){let R=`${A}-${S}-${T}-${M}`;if(this.#t0===R||(this.#t0=R,this.#t1="none",this.#tZ?.remove(),!A||!S))return this.#t1;let[O,I]=[A,S].map(this.#t6.bind(this)),F=Math.round(.2126*O[0]+.7152*O[1]+.0722*O[2]),D=Math.round(.2126*I[0]+.7152*I[1]+.0722*I[2]),[L,N]=[T,M].map(this.#t6.bind(this));D<F&&([F,D,L,N]=[D,F,N,L]),this.#t2.style.color="";let B=(A,S,T)=>{let M=Array(256),R=(D-F)/T,O=A/255,I=(S-A)/(255*T),L=0;for(let A=0;A<=T;A++){let S=Math.round(F+A*R),T=O+A*I;for(let A=L;A<=S;A++)M[A]=T;L=S+1}for(let A=L;A<256;A++)M[A]=M[L-1];return M.join(",")},$=`g_${this.#e}_hcm_highlight_filter`,z=this.#tZ=this.#t3($);return this.#t8(z),this.#t5(B(L[0],N[0],5),B(L[1],N[1],5),B(L[2],N[2],5),z),this.#t1=`url(#${$})`,this.#t1}destroy(A=!1){A&&(this.#tQ||this.#t1)||(this.#tX&&(this.#tX.parentNode.parentNode.remove(),this.#tX=null),this.#tq&&(this.#tq.clear(),this.#tq=null),this.#V=0)}#t8(A){let S=this.#tK.createElementNS(I,"feColorMatrix");S.setAttribute("type","matrix"),S.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),A.append(S)}#t3(A){let S=this.#tK.createElementNS(I,"filter");return S.setAttribute("color-interpolation-filters","sRGB"),S.setAttribute("id",A),this.#t2.append(S),S}#t4(A,S,T){let M=this.#tK.createElementNS(I,S);M.setAttribute("type","discrete"),M.setAttribute("tableValues",T),A.append(M)}#t5(A,S,T,M){let R=this.#tK.createElementNS(I,"feComponentTransfer");M.append(R),this.#t4(R,"feFuncR",A),this.#t4(R,"feFuncG",S),this.#t4(R,"feFuncB",T)}#t6(A){return this.#t2.style.color=A,tn(getComputedStyle(this.#t2).getPropertyValue("color"))}}S.DOMFilterFactory=D;class L extends R.BaseCanvasFactory{constructor({ownerDocument:A=globalThis.document}={}){super(),this._document=A}_createCanvas(A,S){let T=this._document.createElement("canvas");return T.width=A,T.height=S,T}}async function N(A,S=!1){if(Q(A,document.baseURI)){let T=await fetch(A);if(!T.ok)throw Error(T.statusText);return S?new Uint8Array(await T.arrayBuffer()):(0,O.stringToBytes)(await T.text())}return new Promise((T,M)=>{let R=new XMLHttpRequest;R.open("GET",A,!0),S&&(R.responseType="arraybuffer"),R.onreadystatechange=()=>{if(R.readyState===XMLHttpRequest.DONE){if(200===R.status||0===R.status){let A;if(S&&R.response?A=new Uint8Array(R.response):!S&&R.responseText&&(A=(0,O.stringToBytes)(R.responseText)),A){T(A);return}}M(Error(R.statusText))}},R.send(null)})}S.DOMCanvasFactory=L;class B extends R.BaseCMapReaderFactory{_fetchData(A,S){return N(A,this.isCompressed).then(A=>({cMapData:A,compressionType:S}))}}S.DOMCMapReaderFactory=B;class $ extends R.BaseStandardFontDataFactory{_fetchData(A){return N(A,!0)}}S.DOMStandardFontDataFactory=$;class z extends R.BaseSVGFactory{_createSVG(A){return document.createElementNS(I,A)}}S.DOMSVGFactory=z;class H{constructor({viewBox:A,scale:S,rotation:T,offsetX:M=0,offsetY:R=0,dontFlip:O=!1}){let I,F,D,L,N,B,$,z;this.viewBox=A,this.scale=S,this.rotation=T,this.offsetX=M,this.offsetY=R;let H=(A[2]+A[0])/2,V=(A[3]+A[1])/2;switch((T%=360)<0&&(T+=360),T){case 180:I=-1,F=0,D=0,L=1;break;case 90:I=0,F=1,D=1,L=0;break;case 270:I=0,F=-1,D=-1,L=0;break;case 0:I=1,F=0,D=0,L=-1;break;default:throw Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}O&&(D=-D,L=-L),0===I?(N=Math.abs(V-A[1])*S+M,B=Math.abs(H-A[0])*S+R,$=(A[3]-A[1])*S,z=(A[2]-A[0])*S):(N=Math.abs(H-A[0])*S+M,B=Math.abs(V-A[1])*S+R,$=(A[2]-A[0])*S,z=(A[3]-A[1])*S),this.transform=[I*S,F*S,D*S,L*S,N-I*S*H-D*S*V,B-F*S*H-L*S*V],this.width=$,this.height=z}get rawDims(){let{viewBox:A}=this;return(0,O.shadow)(this,"rawDims",{pageWidth:A[2]-A[0],pageHeight:A[3]-A[1],pageX:A[0],pageY:A[1]})}clone({scale:A=this.scale,rotation:S=this.rotation,offsetX:T=this.offsetX,offsetY:M=this.offsetY,dontFlip:R=!1}={}){return new H({viewBox:this.viewBox.slice(),scale:A,rotation:S,offsetX:T,offsetY:M,dontFlip:R})}convertToViewportPoint(A,S){return O.Util.applyTransform([A,S],this.transform)}convertToViewportRectangle(A){let S=O.Util.applyTransform([A[0],A[1]],this.transform),T=O.Util.applyTransform([A[2],A[3]],this.transform);return[S[0],S[1],T[0],T[1]]}convertToPdfPoint(A,S){return O.Util.applyInverseTransform([A,S],this.transform)}}S.PageViewport=H;class V extends O.BaseException{constructor(A,S=0){super(A,"RenderingCancelledException"),this.extraDelay=S}}function W(A){let S=A.length,T=0;for(;T<S&&""===A[T].trim();)T++;return"data:"===A.substring(T,T+5).toLowerCase()}function X(A){return"string"==typeof A&&/\.pdf$/i.test(A)}function K(A,S=!1){return S||([A]=A.split(/[#?]/,1)),A.substring(A.lastIndexOf("/")+1)}function Y(A,S="document.pdf"){if("string"!=typeof A)return S;if(W(A))return(0,O.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),S;let T=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,M=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,R=T.exec(A),I=M.exec(R[1])||M.exec(R[2])||M.exec(R[3]);if(I&&(I=I[0]).includes("%"))try{I=M.exec(decodeURIComponent(I))[0]}catch{}return I||S}S.RenderingCancelledException=V;class J{started=Object.create(null);times=[];time(A){A in this.started&&(0,O.warn)(`Timer is already running for ${A}`),this.started[A]=Date.now()}timeEnd(A){A in this.started||(0,O.warn)(`Timer has not been started for ${A}`),this.times.push({name:A,start:this.started[A],end:Date.now()}),delete this.started[A]}toString(){let A=[],S=0;for(let{name:A}of this.times)S=Math.max(A.length,S);for(let{name:T,start:M,end:R}of this.times)A.push(`${T.padEnd(S)} ${R-M}ms
`);return A.join("")}}function Q(A,S){try{let{protocol:T}=S?new URL(A,S):new URL(A);return"http:"===T||"https:"===T}catch{return!1}}function Z(A){A.preventDefault()}function tt(A,S=!1){return new Promise((T,M)=>{let R=document.createElement("script");R.src=A,R.onload=function(A){S&&R.remove(),T(A)},R.onerror=function(){M(Error(`Cannot load script at: ${R.src}`))},(document.head||document.documentElement).append(R)})}function te(A){console.log("Deprecated API usage: "+A)}S.StatTimer=J;class ti{static toDateObject(A){if(!A||"string"!=typeof A)return null;M||=RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let S=M.exec(A);if(!S)return null;let T=parseInt(S[1],10),R=parseInt(S[2],10);R=R>=1&&R<=12?R-1:0;let O=parseInt(S[3],10);O=O>=1&&O<=31?O:1;let I=parseInt(S[4],10);I=I>=0&&I<=23?I:0;let F=parseInt(S[5],10);F=F>=0&&F<=59?F:0;let D=parseInt(S[6],10);D=D>=0&&D<=59?D:0;let L=S[7]||"Z",N=parseInt(S[8],10);N=N>=0&&N<=23?N:0;let B=parseInt(S[9],10)||0;return B=B>=0&&B<=59?B:0,"-"===L?(I+=N,F+=B):"+"===L&&(I-=N,F-=B),new Date(Date.UTC(T,R,O,I,F,D))}}function tr(A,{scale:S=1,rotation:T=0}){let{width:M,height:R}=A.attributes.style,O=[0,0,parseInt(M),parseInt(R)];return new H({viewBox:O,scale:S,rotation:T})}function tn(A){if(A.startsWith("#")){let S=parseInt(A.slice(1),16);return[(16711680&S)>>16,(65280&S)>>8,255&S]}return A.startsWith("rgb(")?A.slice(4,-1).split(",").map(A=>parseInt(A)):A.startsWith("rgba(")?A.slice(5,-1).split(",").map(A=>parseInt(A)).slice(0,3):((0,O.warn)(`Not a valid color format: "${A}"`),[0,0,0])}function ts(A){let S=document.createElement("span");for(let T of(S.style.visibility="hidden",document.body.append(S),A.keys())){S.style.color=T;let M=window.getComputedStyle(S).color;A.set(T,tn(M))}S.remove()}function ta(A){let{a:S,b:T,c:M,d:R,e:O,f:I}=A.getTransform();return[S,T,M,R,O,I]}function tl(A){let{a:S,b:T,c:M,d:R,e:O,f:I}=A.getTransform().invertSelf();return[S,T,M,R,O,I]}function th(A,S,T=!1,M=!0){if(S instanceof H){let{pageWidth:M,pageHeight:R}=S.rawDims,{style:I}=A,F=O.FeatureTest.isCSSRoundSupported,D=`var(--scale-factor) * ${M}px`,L=`var(--scale-factor) * ${R}px`,N=F?`round(${D}, 1px)`:`calc(${D})`,B=F?`round(${L}, 1px)`:`calc(${L})`;T&&S.rotation%180!=0?(I.width=B,I.height=N):(I.width=N,I.height=B)}M&&A.setAttribute("data-main-rotation",S.rotation)}S.PDFDateString=ti},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.BaseStandardFontDataFactory=S.BaseSVGFactory=S.BaseFilterFactory=S.BaseCanvasFactory=S.BaseCMapReaderFactory=void 0;var M=T(1);class R{constructor(){this.constructor===R&&(0,M.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(A){return"none"}addHCMFilter(A,S){return"none"}addHighlightHCMFilter(A,S,T,M){return"none"}destroy(A=!1){}}S.BaseFilterFactory=R;class O{constructor(){this.constructor===O&&(0,M.unreachable)("Cannot initialize BaseCanvasFactory.")}create(A,S){if(A<=0||S<=0)throw Error("Invalid canvas size");let T=this._createCanvas(A,S);return{canvas:T,context:T.getContext("2d")}}reset(A,S,T){if(!A.canvas)throw Error("Canvas is not specified");if(S<=0||T<=0)throw Error("Invalid canvas size");A.canvas.width=S,A.canvas.height=T}destroy(A){if(!A.canvas)throw Error("Canvas is not specified");A.canvas.width=0,A.canvas.height=0,A.canvas=null,A.context=null}_createCanvas(A,S){(0,M.unreachable)("Abstract method `_createCanvas` called.")}}S.BaseCanvasFactory=O;class I{constructor({baseUrl:A=null,isCompressed:S=!0}){this.constructor===I&&(0,M.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=A,this.isCompressed=S}async fetch({name:A}){if(!this.baseUrl)throw Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!A)throw Error("CMap name must be specified.");let S=this.baseUrl+A+(this.isCompressed?".bcmap":""),T=this.isCompressed?M.CMapCompressionType.BINARY:M.CMapCompressionType.NONE;return this._fetchData(S,T).catch(A=>{throw Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${S}`)})}_fetchData(A,S){(0,M.unreachable)("Abstract method `_fetchData` called.")}}S.BaseCMapReaderFactory=I;class F{constructor({baseUrl:A=null}){this.constructor===F&&(0,M.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=A}async fetch({filename:A}){if(!this.baseUrl)throw Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!A)throw Error("Font filename must be specified.");let S=`${this.baseUrl}${A}`;return this._fetchData(S).catch(A=>{throw Error(`Unable to load font data at: ${S}`)})}_fetchData(A){(0,M.unreachable)("Abstract method `_fetchData` called.")}}S.BaseStandardFontDataFactory=F;class D{constructor(){this.constructor===D&&(0,M.unreachable)("Cannot initialize BaseSVGFactory.")}create(A,S,T=!1){if(A<=0||S<=0)throw Error("Invalid SVG dimensions");let M=this._createSVG("svg:svg");return M.setAttribute("version","1.1"),T||(M.setAttribute("width",`${A}px`),M.setAttribute("height",`${S}px`)),M.setAttribute("preserveAspectRatio","none"),M.setAttribute("viewBox",`0 0 ${A} ${S}`),M}createElement(A){if("string"!=typeof A)throw Error("Invalid SVG element type");return this._createSVG(A)}_createSVG(A){(0,M.unreachable)("Abstract method `_createSVG` called.")}}S.BaseSVGFactory=D},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.MurmurHash3_64=void 0;var M=T(1);let R=3285377520,O=4294901760,I=65535;class F{constructor(A){this.h1=A?4294967295&A:R,this.h2=A?4294967295&A:R}update(A){let S,T;if("string"==typeof A){S=new Uint8Array(2*A.length),T=0;for(let M=0,R=A.length;M<R;M++){let R=A.charCodeAt(M);R<=255?S[T++]=R:(S[T++]=R>>>8,S[T++]=255&R)}}else if((0,M.isArrayBuffer)(A))T=(S=A.slice()).byteLength;else throw Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let R=T>>2,F=T-4*R,D=new Uint32Array(S.buffer,0,R),L=0,N=0,B=this.h1,$=this.h2,z=3432918353,H=461845907,V=z&I,W=H&I;for(let A=0;A<R;A++)1&A?(B^=L=(L=(L=(L=D[A])*z&O|L*V&I)<<15|L>>>17)*H&O|L*W&I,B=5*(B=B<<13|B>>>19)+3864292196):($^=N=(N=(N=(N=D[A])*z&O|N*V&I)<<15|N>>>17)*H&O|N*W&I,$=5*($=$<<13|$>>>19)+3864292196);switch(L=0,F){case 3:L^=S[4*R+2]<<16;case 2:L^=S[4*R+1]<<8;case 1:L^=S[4*R],L=(L=(L=L*z&O|L*V&I)<<15|L>>>17)*H&O|L*W&I,1&R?B^=L:$^=L}this.h1=B,this.h2=$}hexdigest(){let A=this.h1,S=this.h2;return A^=S>>>1,A=3981806797*A&O|36045*A&I,S=4283543511*S&O|((S<<16|A>>>16)*2950163797&O)>>>16,A^=S>>>1,A=444984403*A&O|60499*A&I,S=3301882366*S&O|((S<<16|A>>>16)*3120437893&O)>>>16,((A^=S>>>1)>>>0).toString(16).padStart(8,"0")+(S>>>0).toString(16).padStart(8,"0")}}S.MurmurHash3_64=F},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.FontLoader=S.FontFaceObject=void 0;var M=T(1);class R{#t7=new Set;constructor({ownerDocument:A=globalThis.document,styleElement:S=null}){this._document=A,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(A){this.nativeFontFaces.add(A),this._document.fonts.add(A)}removeNativeFontFace(A){this.nativeFontFaces.delete(A),this._document.fonts.delete(A)}insertRule(A){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let S=this.styleElement.sheet;S.insertRule(A,S.cssRules.length)}clear(){for(let A of this.nativeFontFaces)this._document.fonts.delete(A);this.nativeFontFaces.clear(),this.#t7.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(A){if(!(!A||this.#t7.has(A.loadedName))){if((0,M.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:S,src:T,style:R}=A,O=new FontFace(S,T,R);this.addNativeFontFace(O);try{await O.load(),this.#t7.add(S)}catch{(0,M.warn)(`Cannot load system font: ${A.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(O)}return}(0,M.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(A){if(A.attached||A.missingFile&&!A.systemFontInfo)return;if(A.attached=!0,A.systemFontInfo){await this.loadSystemFont(A.systemFontInfo);return}if(this.isFontLoadingAPISupported){let S=A.createNativeFontFace();if(S){this.addNativeFontFace(S);try{await S.loaded}catch(T){throw(0,M.warn)(`Failed to load font '${S.family}': '${T}'.`),A.disableFontFace=!0,T}}return}let S=A.createFontFaceRule();if(S){if(this.insertRule(S),this.isSyncFontLoadingSupported)return;await new Promise(S=>{let T=this._queueLoadingCallback(S);this._prepareFontLoadEvent(A,T)})}}get isFontLoadingAPISupported(){let A=!!this._document?.fonts;return(0,M.shadow)(this,"isFontLoadingAPISupported",A)}get isSyncFontLoadingSupported(){let A=!1;return M.isNodeJS?A=!0:"undefined"!=typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent)&&(A=!0),(0,M.shadow)(this,"isSyncFontLoadingSupported",A)}_queueLoadingCallback(A){function S(){for((0,M.assert)(!R.done,"completeRequest() cannot be called twice."),R.done=!0;T.length>0&&T[0].done;){let A=T.shift();setTimeout(A.callback,0)}}let{loadingRequests:T}=this,R={done:!1,complete:S,callback:A};return T.push(R),R}get _loadTestFont(){let A=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,M.shadow)(this,"_loadTestFont",A)}_prepareFontLoadEvent(A,S){let T,R;function O(A,S){return A.charCodeAt(S)<<24|A.charCodeAt(S+1)<<16|A.charCodeAt(S+2)<<8|255&A.charCodeAt(S+3)}function I(A,S,T,M){let R=A.substring(0,S),O=A.substring(S+T);return R+M+O}let F=this._document.createElement("canvas");F.width=1,F.height=1;let D=F.getContext("2d"),L=0;function N(A,S){if(++L>30){(0,M.warn)("Load test font never loaded."),S();return}D.font="30px "+A,D.fillText(".",0,20);let T=D.getImageData(0,0,1,1);if(T.data[3]>0){S();return}setTimeout(N.bind(null,A,S))}let B=`lt${Date.now()}${this.loadTestFontId++}`,$=this._loadTestFont,z=976;$=I($,z,B.length,B);let H=16,V=1482184792,W=O($,H);for(T=0,R=B.length-3;T<R;T+=4)W=W-V+O(B,T)|0;T<B.length&&(W=W-V+O(B+"XXX",T)|0),$=I($,H,4,(0,M.string32)(W));let X=`url(data:font/opentype;base64,${btoa($)});`,K=`@font-face {font-family:"${B}";src:${X}}`;this.insertRule(K);let Y=this._document.createElement("div");for(let S of(Y.style.visibility="hidden",Y.style.width=Y.style.height="10px",Y.style.position="absolute",Y.style.top=Y.style.left="0px",[A.loadedName,B])){let A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=S,Y.append(A)}this._document.body.append(Y),N(B,()=>{Y.remove(),S.complete()})}}S.FontLoader=R;class O{constructor(A,{isEvalSupported:S=!0,disableFontFace:T=!1,ignoreErrors:M=!1,inspectFont:R=null}){for(let S in this.compiledGlyphs=Object.create(null),A)this[S]=A[S];this.isEvalSupported=!1!==S,this.disableFontFace=!0===T,this.ignoreErrors=!0===M,this._inspectFont=R}createNativeFontFace(){let A;if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){let S={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(S.style=`oblique ${this.cssFontInfo.italicAngle}deg`),A=new FontFace(this.cssFontInfo.fontFamily,this.data,S)}else A=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),A}createFontFaceRule(){let A;if(!this.data||this.disableFontFace)return null;let S=(0,M.bytesToString)(this.data),T=`url(data:${this.mimetype};base64,${btoa(S)});`;if(this.cssFontInfo){let S=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(S+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),A=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${S}src:${T}}`}else A=`@font-face {font-family:"${this.loadedName}";src:${T}}`;return this._inspectFont?.(this,T),A}getPathGenerator(A,S){let T;if(void 0!==this.compiledGlyphs[S])return this.compiledGlyphs[S];try{T=A.get(this.loadedName+"_path_"+S)}catch(A){if(!this.ignoreErrors)throw A;return(0,M.warn)(`getPathGenerator - ignoring character: "${A}".`),this.compiledGlyphs[S]=function(A,S){}}if(this.isEvalSupported&&M.FeatureTest.isEvalSupported){let A=[];for(let S of T){let T=void 0!==S.args?S.args.join(","):"";A.push("c.",S.cmd,"(",T,");\n")}return this.compiledGlyphs[S]=Function("c","size",A.join(""))}return this.compiledGlyphs[S]=function(A,S){for(let M of T)"scale"===M.cmd&&(M.args=[S,-S]),A[M.cmd].apply(A,M.args)}}}S.FontFaceObject=O},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.NodeStandardFontDataFactory=S.NodeFilterFactory=S.NodeCanvasFactory=S.NodeCMapReaderFactory=void 0;var M=T(7);T(1);let R=function(A){return new Promise((S,T)=>{let M=__webpack_require__(70172);M.readFile(A,(A,M)=>{if(A||!M){T(Error(A));return}S(new Uint8Array(M))})})};class O extends M.BaseFilterFactory{}S.NodeFilterFactory=O;class I extends M.BaseCanvasFactory{_createCanvas(A,S){let T=__webpack_require__(93414);return T.createCanvas(A,S)}}S.NodeCanvasFactory=I;class F extends M.BaseCMapReaderFactory{_fetchData(A,S){return R(A).then(A=>({cMapData:A,compressionType:S}))}}S.NodeCMapReaderFactory=F;class D extends M.BaseStandardFontDataFactory{_fetchData(A){return R(A)}}S.NodeStandardFontDataFactory=D},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CanvasGraphics=void 0;var M=T(1),R=T(6),O=T(12),I=T(13);let F=16,D=100,L=4096,N=15,B=10,$=1e3,z=16;function H(A,S){if(A._removeMirroring)throw Error("Context is already forwarding operations.");A.__originalSave=A.save,A.__originalRestore=A.restore,A.__originalRotate=A.rotate,A.__originalScale=A.scale,A.__originalTranslate=A.translate,A.__originalTransform=A.transform,A.__originalSetTransform=A.setTransform,A.__originalResetTransform=A.resetTransform,A.__originalClip=A.clip,A.__originalMoveTo=A.moveTo,A.__originalLineTo=A.lineTo,A.__originalBezierCurveTo=A.bezierCurveTo,A.__originalRect=A.rect,A.__originalClosePath=A.closePath,A.__originalBeginPath=A.beginPath,A._removeMirroring=()=>{A.save=A.__originalSave,A.restore=A.__originalRestore,A.rotate=A.__originalRotate,A.scale=A.__originalScale,A.translate=A.__originalTranslate,A.transform=A.__originalTransform,A.setTransform=A.__originalSetTransform,A.resetTransform=A.__originalResetTransform,A.clip=A.__originalClip,A.moveTo=A.__originalMoveTo,A.lineTo=A.__originalLineTo,A.bezierCurveTo=A.__originalBezierCurveTo,A.rect=A.__originalRect,A.closePath=A.__originalClosePath,A.beginPath=A.__originalBeginPath,delete A._removeMirroring},A.save=function(){S.save(),this.__originalSave()},A.restore=function(){S.restore(),this.__originalRestore()},A.translate=function(A,T){S.translate(A,T),this.__originalTranslate(A,T)},A.scale=function(A,T){S.scale(A,T),this.__originalScale(A,T)},A.transform=function(A,T,M,R,O,I){S.transform(A,T,M,R,O,I),this.__originalTransform(A,T,M,R,O,I)},A.setTransform=function(A,T,M,R,O,I){S.setTransform(A,T,M,R,O,I),this.__originalSetTransform(A,T,M,R,O,I)},A.resetTransform=function(){S.resetTransform(),this.__originalResetTransform()},A.rotate=function(A){S.rotate(A),this.__originalRotate(A)},A.clip=function(A){S.clip(A),this.__originalClip(A)},A.moveTo=function(A,T){S.moveTo(A,T),this.__originalMoveTo(A,T)},A.lineTo=function(A,T){S.lineTo(A,T),this.__originalLineTo(A,T)},A.bezierCurveTo=function(A,T,M,R,O,I){S.bezierCurveTo(A,T,M,R,O,I),this.__originalBezierCurveTo(A,T,M,R,O,I)},A.rect=function(A,T,M,R){S.rect(A,T,M,R),this.__originalRect(A,T,M,R)},A.closePath=function(){S.closePath(),this.__originalClosePath()},A.beginPath=function(){S.beginPath(),this.__originalBeginPath()}}class V{constructor(A){this.canvasFactory=A,this.cache=Object.create(null)}getCanvas(A,S,T){let M;return void 0!==this.cache[A]?(M=this.cache[A],this.canvasFactory.reset(M,S,T)):(M=this.canvasFactory.create(S,T),this.cache[A]=M),M}delete(A){delete this.cache[A]}clear(){for(let A in this.cache){let S=this.cache[A];this.canvasFactory.destroy(S),delete this.cache[A]}}}function W(A,S,T,M,O,I,F,D,L,N){let[B,$,z,H,V,W]=(0,R.getCurrentTransform)(A);if(0===$&&0===z){let R=F*B+V,X=Math.round(R),K=D*H+W,Y=Math.round(K),J=(F+L)*B+V,Q=Math.abs(Math.round(J)-X)||1,Z=(D+N)*H+W,tt=Math.abs(Math.round(Z)-Y)||1;return A.setTransform(Math.sign(B),0,0,Math.sign(H),X,Y),A.drawImage(S,T,M,O,I,0,0,Q,tt),A.setTransform(B,$,z,H,V,W),[Q,tt]}if(0===B&&0===H){let R=D*z+V,X=Math.round(R),K=F*$+W,Y=Math.round(K),J=(D+N)*z+V,Q=Math.abs(Math.round(J)-X)||1,Z=(F+L)*$+W,tt=Math.abs(Math.round(Z)-Y)||1;return A.setTransform(0,Math.sign($),Math.sign(z),0,X,Y),A.drawImage(S,T,M,O,I,0,0,tt,Q),A.setTransform(B,$,z,H,V,W),[tt,Q]}A.drawImage(S,T,M,O,I,F,D,L,N);let X=Math.hypot(B,$),K=Math.hypot(z,H);return[X*L,K*N]}function X(A){let S,T,M;let{width:R,height:O}=A;if(R>$||O>$)return null;let I=1e3,F=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),D=R+1,L=new Uint8Array(D*(O+1)),N=R+7&-8,B=new Uint8Array(N*O),z=0;for(let S of A.data){let A=128;for(;A>0;)B[z++]=S&A?0:255,A>>=1}let H=0;for(0!==B[z=0]&&(L[0]=1,++H),T=1;T<R;T++)B[z]!==B[z+1]&&(L[T]=B[z]?2:1,++H),z++;for(0!==B[z]&&(L[T]=2,++H),S=1;S<O;S++){z=S*N,M=S*D,B[z-N]!==B[z]&&(L[M]=B[z]?1:8,++H);let A=(B[z]?4:0)+(B[z-N]?8:0);for(T=1;T<R;T++)F[A=(A>>2)+(B[z+1]?4:0)+(B[z-N+1]?8:0)]&&(L[M+T]=F[A],++H),z++;if(B[z-N]!==B[z]&&(L[M+T]=B[z]?2:4,++H),H>I)return null}for(z=N*(O-1),M=S*D,0!==B[z]&&(L[M]=8,++H),T=1;T<R;T++)B[z]!==B[z+1]&&(L[M+T]=B[z]?4:8,++H),z++;if(0!==B[z]&&(L[M+T]=4,++H),H>I)return null;let V=new Int32Array([0,D,-1,0,-D,0,0,0,1]),W=new Path2D;for(S=0;H&&S<=O;S++){let A=S*D,T=A+R;for(;A<T&&!L[A];)A++;if(A===T)continue;W.moveTo(A%D,S);let M=A,O=L[A];do{let S=V[O];do A+=S;while(!L[A]);let T=L[A];5!==T&&10!==T?(O=T,L[A]=0):(O=T&51*O>>4,L[A]&=O>>2|O<<2),W.lineTo(A%D,A/D|0),!L[A]&&--H}while(M!==A);--S}B=null,L=null;let X=function(A){A.save(),A.scale(1/R,-1/O),A.translate(0,-O),A.fill(W),A.beginPath(),A.restore()};return X}class K{constructor(A,S){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=M.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=M.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=M.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,A,S])}clone(){let A=Object.create(this);return A.clipBox=this.clipBox.slice(),A}setCurrentPoint(A,S){this.x=A,this.y=S}updatePathMinMax(A,S,T){[S,T]=M.Util.applyTransform([S,T],A),this.minX=Math.min(this.minX,S),this.minY=Math.min(this.minY,T),this.maxX=Math.max(this.maxX,S),this.maxY=Math.max(this.maxY,T)}updateRectMinMax(A,S){let T=M.Util.applyTransform(S,A),R=M.Util.applyTransform(S.slice(2),A);this.minX=Math.min(this.minX,T[0],R[0]),this.minY=Math.min(this.minY,T[1],R[1]),this.maxX=Math.max(this.maxX,T[0],R[0]),this.maxY=Math.max(this.maxY,T[1],R[1])}updateScalingPathMinMax(A,S){M.Util.scaleMinMax(A,S),this.minX=Math.min(this.minX,S[0]),this.maxX=Math.max(this.maxX,S[1]),this.minY=Math.min(this.minY,S[2]),this.maxY=Math.max(this.maxY,S[3])}updateCurvePathMinMax(A,S,T,R,O,I,F,D,L,N){let B=M.Util.bezierBoundingBox(S,T,R,O,I,F,D,L);if(N){N[0]=Math.min(N[0],B[0],B[2]),N[1]=Math.max(N[1],B[0],B[2]),N[2]=Math.min(N[2],B[1],B[3]),N[3]=Math.max(N[3],B[1],B[3]);return}this.updateRectMinMax(A,B)}getPathBoundingBox(A=O.PathType.FILL,S=null){let T=[this.minX,this.minY,this.maxX,this.maxY];if(A===O.PathType.STROKE){S||(0,M.unreachable)("Stroke bounding box must include transform.");let A=M.Util.singularValueDecompose2dScale(S),R=A[0]*this.lineWidth/2,O=A[1]*this.lineWidth/2;T[0]-=R,T[1]-=O,T[2]+=R,T[3]+=O}return T}updateClipFromPath(){let A=M.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(A||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(A){this.clipBox=A,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(A=O.PathType.FILL,S=null){return M.Util.intersect(this.clipBox,this.getPathBoundingBox(A,S))}}function Y(A,S){let T,R,O,I;if("undefined"!=typeof ImageData&&S instanceof ImageData){A.putImageData(S,0,0);return}let F=S.height,D=S.width,L=F%z,N=(F-L)/z,B=0===L?N:N+1,$=A.createImageData(D,z),H=0,V,W=S.data,X=$.data;if(S.kind===M.ImageKind.GRAYSCALE_1BPP){let S=W.byteLength,I=new Uint32Array(X.buffer,0,X.byteLength>>2),F=I.length,K=D+7>>3,Y=4294967295,J=M.FeatureTest.isLittleEndian?4278190080:255;for(T=0;T<B;T++){for(R=0,O=T<N?z:L,V=0;R<O;R++){let A=S-H,T=0,M=A>K?D:8*A-7,R=-8&M,O=0,F=0;for(;T<R;T+=8)F=W[H++],I[V++]=128&F?Y:J,I[V++]=64&F?Y:J,I[V++]=32&F?Y:J,I[V++]=16&F?Y:J,I[V++]=8&F?Y:J,I[V++]=4&F?Y:J,I[V++]=2&F?Y:J,I[V++]=1&F?Y:J;for(;T<M;T++)0===O&&(F=W[H++],O=128),I[V++]=F&O?Y:J,O>>=1}for(;V<F;)I[V++]=0;A.putImageData($,0,T*z)}}else if(S.kind===M.ImageKind.RGBA_32BPP){for(T=0,R=0,I=D*z*4;T<N;T++)X.set(W.subarray(H,H+I)),H+=I,A.putImageData($,0,R),R+=z;T<B&&(I=D*L*4,X.set(W.subarray(H,H+I)),A.putImageData($,0,R))}else if(S.kind===M.ImageKind.RGB_24BPP)for(T=0,I=D*(O=z);T<B;T++){for(T>=N&&(I=D*(O=L)),V=0,R=I;R--;)X[V++]=W[H++],X[V++]=W[H++],X[V++]=W[H++],X[V++]=255;A.putImageData($,0,T*z)}else throw Error(`bad image kind: ${S.kind}`)}function J(A,S){if(S.bitmap){A.drawImage(S.bitmap,0,0);return}let T=S.height,M=S.width,R=T%z,O=(T-R)/z,F=0===R?O:O+1,D=A.createImageData(M,z),L=0,N=S.data,B=D.data;for(let S=0;S<F;S++){let T=S<O?z:R;({srcPos:L}=(0,I.convertBlackAndWhiteToRGBA)({src:N,srcPos:L,dest:B,width:M,height:T,nonBlackColor:0})),A.putImageData(D,0,S*z)}}function Q(A,S){let T=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let M of T)void 0!==A[M]&&(S[M]=A[M]);void 0!==A.setLineDash&&(S.setLineDash(A.getLineDash()),S.lineDashOffset=A.lineDashOffset)}function Z(A){if(A.strokeStyle=A.fillStyle="#000000",A.fillRule="nonzero",A.globalAlpha=1,A.lineWidth=1,A.lineCap="butt",A.lineJoin="miter",A.miterLimit=10,A.globalCompositeOperation="source-over",A.font="10px sans-serif",void 0!==A.setLineDash&&(A.setLineDash([]),A.lineDashOffset=0),!M.isNodeJS){let{filter:S}=A;"none"!==S&&""!==S&&(A.filter="none")}}function tt(A,S,T,M){let R=A.length;for(let O=3;O<R;O+=4){let R=A[O];if(0===R)A[O-3]=S,A[O-2]=T,A[O-1]=M;else if(R<255){let I=255-R;A[O-3]=A[O-3]*R+S*I>>8,A[O-2]=A[O-2]*R+T*I>>8,A[O-1]=A[O-1]*R+M*I>>8}}}function te(A,S,T){let M=A.length,R=1/255;for(let O=3;O<M;O+=4){let M=T?T[A[O]]:A[O];S[O]=S[O]*M*R|0}}function ti(A,S,T){let M=A.length;for(let R=3;R<M;R+=4){let M=77*A[R-3]+152*A[R-2]+28*A[R-1];S[R]=T?S[R]*T[M>>8]>>8:S[R]*M>>16}}function tr(A,S,T,M,R,O,I,F,D,L,N){let B=!!O,$=B?O[0]:0,z=B?O[1]:0,H=B?O[2]:0,V="Luminosity"===R?ti:te,W=1048576,X=Math.min(M,Math.ceil(W/T));for(let R=0;R<M;R+=X){let O=Math.min(X,M-R),W=A.getImageData(F-L,R+(D-N),T,O),K=S.getImageData(F,R+D,T,O);B&&tt(W.data,$,z,H),V(W.data,K.data,I),S.putImageData(K,F,R+D)}}function tn(A,S,T,M){let R=M[0],O=M[1],I=M[2]-R,F=M[3]-O;0!==I&&0!==F&&(tr(S.context,T,I,F,S.subtype,S.backdrop,S.transferMap,R,O,S.offsetX,S.offsetY),A.save(),A.globalAlpha=1,A.globalCompositeOperation="source-over",A.setTransform(1,0,0,1,0,0),A.drawImage(T.canvas,0,0),A.restore())}function ts(A,S){let T=M.Util.singularValueDecompose2dScale(A);T[0]=Math.fround(T[0]),T[1]=Math.fround(T[1]);let O=Math.fround((globalThis.devicePixelRatio||1)*R.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==S?S:T[0]<=O||T[1]<=O}let ta=["butt","round","square"],tl=["miter","round","bevel"],th={},td={};class tu{constructor(A,S,T,M,R,{optionalContentConfig:O,markedContentStack:I=null},F,D){this.ctx=A,this.current=new K(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=S,this.objs=T,this.canvasFactory=M,this.filterFactory=R,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=I||[],this.optionalContentConfig=O,this.cachedCanvases=new V(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=F,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=D,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(A,S=null){return"string"==typeof A?A.startsWith("g_")?this.commonObjs.get(A):this.objs.get(A):S}beginDrawing({transform:A,viewport:S,transparency:T=!1,background:M=null}){let O=this.ctx.canvas.width,I=this.ctx.canvas.height,F=this.ctx.fillStyle;if(this.ctx.fillStyle=M||"#ffffff",this.ctx.fillRect(0,0,O,I),this.ctx.fillStyle=F,T){let A=this.cachedCanvases.getCanvas("transparent",O,I);this.compositeCtx=this.ctx,this.transparentCanvas=A.canvas,this.ctx=A.context,this.ctx.save(),this.ctx.transform(...(0,R.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Z(this.ctx),A&&(this.ctx.transform(...A),this.outputScaleX=A[0],this.outputScaleY=A[0]),this.ctx.transform(...S.transform),this.viewportScale=S.scale,this.baseTransform=(0,R.getCurrentTransform)(this.ctx)}executeOperatorList(A,S,T,R){let O;let I=A.argsArray,F=A.fnArray,D=S||0,L=I.length;if(L===D)return D;let $=L-D>B&&"function"==typeof T,z=$?Date.now()+N:0,H=0,V=this.commonObjs,W=this.objs;for(;;){if(void 0!==R&&D===R.nextBreakPoint)return R.breakIt(D,T),D;if((O=F[D])!==M.OPS.dependency)this[O].apply(this,I[D]);else for(let A of I[D]){let S=A.startsWith("g_")?V:W;if(!S.has(A))return S.get(A,T),D}if(++D===L)return D;if($&&++H>B){if(Date.now()>z)return T(),D;H=0}}}#t9(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){for(let A of(this.#t9(),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this._cachedBitmapsMap.values())){for(let S of A.values())"undefined"!=typeof HTMLCanvasElement&&S instanceof HTMLCanvasElement&&(S.width=S.height=0);A.clear()}this._cachedBitmapsMap.clear(),this.#et()}#et(){if(this.pageColors){let A=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==A){let S=this.ctx.filter;this.ctx.filter=A,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=S}}}_scaleImage(A,S){let T,M;let R=A.width,O=A.height,I=Math.max(Math.hypot(S[0],S[1]),1),F=Math.max(Math.hypot(S[2],S[3]),1),D=R,L=O,N="prescale1";for(;I>2&&D>1||F>2&&L>1;){let S=D,R=L;I>2&&D>1&&(S=D>=16384?Math.floor(D/2)-1||1:Math.ceil(D/2),I/=D/S),F>2&&L>1&&(R=L>=16384?Math.floor(L/2)-1||1:Math.ceil(L)/2,F/=L/R),(M=(T=this.cachedCanvases.getCanvas(N,S,R)).context).clearRect(0,0,S,R),M.drawImage(A,0,0,D,L,0,0,S,R),A=T.canvas,D=S,L=R,N="prescale1"===N?"prescale2":"prescale1"}return{img:A,paintWidth:D,paintHeight:L}}_createMaskCanvas(A){let S,T,I,F;let D=this.ctx,{width:L,height:N}=A,B=this.current.fillColor,$=this.current.patternFill,z=(0,R.getCurrentTransform)(D);if((A.bitmap||A.data)&&A.count>1){let M=A.bitmap||A.data.buffer;T=JSON.stringify($?z:[z.slice(0,4),B]),(S=this._cachedBitmapsMap.get(M))||(S=new Map,this._cachedBitmapsMap.set(M,S));let R=S.get(T);if(R&&!$){let A=Math.round(Math.min(z[0],z[2])+z[4]),S=Math.round(Math.min(z[1],z[3])+z[5]);return{canvas:R,offsetX:A,offsetY:S}}I=R}I||J((F=this.cachedCanvases.getCanvas("maskCanvas",L,N)).context,A);let H=M.Util.transform(z,[1/L,0,0,-1/N,0,0]);H=M.Util.transform(H,[1,0,0,1,0,-N]);let V=M.Util.applyTransform([0,0],H),X=M.Util.applyTransform([L,N],H),K=M.Util.normalizeRect([V[0],V[1],X[0],X[1]]),Y=Math.round(K[2]-K[0])||1,Q=Math.round(K[3]-K[1])||1,Z=this.cachedCanvases.getCanvas("fillCanvas",Y,Q),tt=Z.context,te=Math.min(V[0],X[0]),ti=Math.min(V[1],X[1]);tt.translate(-te,-ti),tt.transform(...H),!I&&(I=(I=this._scaleImage(F.canvas,(0,R.getCurrentTransformInverse)(tt))).img,S&&$&&S.set(T,I)),tt.imageSmoothingEnabled=ts((0,R.getCurrentTransform)(tt),A.interpolate),W(tt,I,0,0,I.width,I.height,0,0,L,N),tt.globalCompositeOperation="source-in";let tr=M.Util.transform((0,R.getCurrentTransformInverse)(tt),[1,0,0,1,-te,-ti]);return tt.fillStyle=$?B.getPattern(D,this,tr,O.PathType.FILL):B,tt.fillRect(0,0,L,N),S&&!$&&(this.cachedCanvases.delete("fillCanvas"),S.set(T,Z.canvas)),{canvas:Z.canvas,offsetX:Math.round(te),offsetY:Math.round(ti)}}setLineWidth(A){A!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=A,this.ctx.lineWidth=A}setLineCap(A){this.ctx.lineCap=ta[A]}setLineJoin(A){this.ctx.lineJoin=tl[A]}setMiterLimit(A){this.ctx.miterLimit=A}setDash(A,S){let T=this.ctx;void 0!==T.setLineDash&&(T.setLineDash(A),T.lineDashOffset=S)}setRenderingIntent(A){}setFlatness(A){}setGState(A){for(let[S,T]of A)switch(S){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T[0],T[1]);break;case"CA":this.current.strokeAlpha=T;break;case"ca":this.current.fillAlpha=T,this.ctx.globalAlpha=T;break;case"BM":this.ctx.globalCompositeOperation=T;break;case"SMask":this.current.activeSMask=T?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(T)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let A=this.inSMaskMode;this.current.activeSMask&&!A?this.beginSMaskMode():!this.current.activeSMask&&A&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw Error("beginSMaskMode called while already in smask mode");let A=this.ctx.canvas.width,S=this.ctx.canvas.height,T="smaskGroupAt"+this.groupLevel,M=this.cachedCanvases.getCanvas(T,A,S);this.suspendedCtx=this.ctx,this.ctx=M.context;let O=this.ctx;O.setTransform(...(0,R.getCurrentTransform)(this.suspendedCtx)),Q(this.suspendedCtx,O),H(O,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Q(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(A){if(!this.current.activeSMask)return;A?(A[0]=Math.floor(A[0]),A[1]=Math.floor(A[1]),A[2]=Math.ceil(A[2]),A[3]=Math.ceil(A[3])):A=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let S=this.current.activeSMask,T=this.suspendedCtx;tn(T,S,this.ctx,A),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Q(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let A=this.current;this.stateStack.push(A),this.current=A.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Q(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(A,S,T,M,R,O){this.ctx.transform(A,S,T,M,R,O),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(A,S,T){let O,I;let F=this.ctx,D=this.current,L=D.x,N=D.y,B=(0,R.getCurrentTransform)(F),$=0===B[0]&&0===B[3]||0===B[1]&&0===B[2],z=$?T.slice(0):null;for(let T=0,R=0,H=A.length;T<H;T++)switch(0|A[T]){case M.OPS.rectangle:L=S[R++],N=S[R++];let H=S[R++],V=S[R++],W=L+H,X=N+V;F.moveTo(L,N),0===H||0===V?F.lineTo(W,X):(F.lineTo(W,N),F.lineTo(W,X),F.lineTo(L,X)),$||D.updateRectMinMax(B,[L,N,W,X]),F.closePath();break;case M.OPS.moveTo:L=S[R++],N=S[R++],F.moveTo(L,N),$||D.updatePathMinMax(B,L,N);break;case M.OPS.lineTo:L=S[R++],N=S[R++],F.lineTo(L,N),$||D.updatePathMinMax(B,L,N);break;case M.OPS.curveTo:O=L,I=N,L=S[R+4],N=S[R+5],F.bezierCurveTo(S[R],S[R+1],S[R+2],S[R+3],L,N),D.updateCurvePathMinMax(B,O,I,S[R],S[R+1],S[R+2],S[R+3],L,N,z),R+=6;break;case M.OPS.curveTo2:O=L,I=N,F.bezierCurveTo(L,N,S[R],S[R+1],S[R+2],S[R+3]),D.updateCurvePathMinMax(B,O,I,L,N,S[R],S[R+1],S[R+2],S[R+3],z),L=S[R+2],N=S[R+3],R+=4;break;case M.OPS.curveTo3:O=L,I=N,L=S[R+2],N=S[R+3],F.bezierCurveTo(S[R],S[R+1],L,N,L,N),D.updateCurvePathMinMax(B,O,I,S[R],S[R+1],L,N,L,N,z),R+=4;break;case M.OPS.closePath:F.closePath()}$&&D.updateScalingPathMinMax(B,z),D.setCurrentPoint(L,N)}closePath(){this.ctx.closePath()}stroke(A=!0){let S=this.ctx,T=this.current.strokeColor;S.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof T&&T?.getPattern?(S.save(),S.strokeStyle=T.getPattern(S,this,(0,R.getCurrentTransformInverse)(S),O.PathType.STROKE),this.rescaleAndStroke(!1),S.restore()):this.rescaleAndStroke(!0)),A&&this.consumePath(this.current.getClippedPathBoundingBox()),S.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(A=!0){let S=this.ctx,T=this.current.fillColor,M=this.current.patternFill,I=!1;M&&(S.save(),S.fillStyle=T.getPattern(S,this,(0,R.getCurrentTransformInverse)(S),O.PathType.FILL),I=!0);let F=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==F&&(this.pendingEOFill?(S.fill("evenodd"),this.pendingEOFill=!1):S.fill()),I&&S.restore(),A&&this.consumePath(F)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=th}eoClip(){this.pendingClip=td}beginText(){this.current.textMatrix=M.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let A=this.pendingTextPaths,S=this.ctx;if(void 0===A){S.beginPath();return}for(let T of(S.save(),S.beginPath(),A))S.setTransform(...T.transform),S.translate(T.x,T.y),T.addToPath(S,T.fontSize);S.restore(),S.clip(),S.beginPath(),delete this.pendingTextPaths}setCharSpacing(A){this.current.charSpacing=A}setWordSpacing(A){this.current.wordSpacing=A}setHScale(A){this.current.textHScale=A/100}setLeading(A){this.current.leading=-A}setFont(A,S){let T=this.commonObjs.get(A),R=this.current;if(!T)throw Error(`Can't find font for ${A}`);if(R.fontMatrix=T.fontMatrix||M.FONT_IDENTITY_MATRIX,(0===R.fontMatrix[0]||0===R.fontMatrix[3])&&(0,M.warn)("Invalid font matrix for font "+A),S<0?(S=-S,R.fontDirection=-1):R.fontDirection=1,this.current.font=T,this.current.fontSize=S,T.isType3Font)return;let O=T.loadedName||"sans-serif",I=T.systemFontInfo?.css||`"${O}", ${T.fallbackName}`,L="normal";T.black?L="900":T.bold&&(L="bold");let N=T.italic?"italic":"normal",B=S;S<F?B=F:S>D&&(B=D),this.current.fontSizeScale=S/B,this.ctx.font=`${N} ${L} ${B}px ${I}`}setTextRenderingMode(A){this.current.textRenderingMode=A}setTextRise(A){this.current.textRise=A}moveText(A,S){this.current.x=this.current.lineX+=A,this.current.y=this.current.lineY+=S}setLeadingMoveText(A,S){this.setLeading(-S),this.moveText(A,S)}setTextMatrix(A,S,T,M,R,O){this.current.textMatrix=[A,S,T,M,R,O],this.current.textMatrixScale=Math.hypot(A,S),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(A,S,T,O){let I;let F=this.ctx,D=this.current,L=D.font,N=D.textRenderingMode,B=D.fontSize/D.fontSizeScale,$=N&M.TextRenderingMode.FILL_STROKE_MASK,z=!!(N&M.TextRenderingMode.ADD_TO_PATH_FLAG),H=D.patternFill&&!L.missingFile;if((L.disableFontFace||z||H)&&(I=L.getPathGenerator(this.commonObjs,A)),L.disableFontFace||H?(F.save(),F.translate(S,T),F.beginPath(),I(F,B),O&&F.setTransform(...O),($===M.TextRenderingMode.FILL||$===M.TextRenderingMode.FILL_STROKE)&&F.fill(),($===M.TextRenderingMode.STROKE||$===M.TextRenderingMode.FILL_STROKE)&&F.stroke(),F.restore()):(($===M.TextRenderingMode.FILL||$===M.TextRenderingMode.FILL_STROKE)&&F.fillText(A,S,T),($===M.TextRenderingMode.STROKE||$===M.TextRenderingMode.FILL_STROKE)&&F.strokeText(A,S,T)),z){let A=this.pendingTextPaths||=[];A.push({transform:(0,R.getCurrentTransform)(F),x:S,y:T,fontSize:B,addToPath:I})}}get isFontSubpixelAAEnabled(){let{context:A}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);A.scale(1.5,1),A.fillText("I",0,10);let S=A.getImageData(0,0,10,10).data,T=!1;for(let A=3;A<S.length;A+=4)if(S[A]>0&&S[A]<255){T=!0;break}return(0,M.shadow)(this,"isFontSubpixelAAEnabled",T)}showText(A){let S;let T=this.current,I=T.font;if(I.isType3Font)return this.showType3Text(A);let F=T.fontSize;if(0===F)return;let D=this.ctx,L=T.fontSizeScale,N=T.charSpacing,B=T.wordSpacing,$=T.fontDirection,z=T.textHScale*$,H=A.length,V=I.vertical,W=V?1:-1,X=I.defaultVMetrics,K=F*T.fontMatrix[0],Y=T.textRenderingMode===M.TextRenderingMode.FILL&&!I.disableFontFace&&!T.patternFill;if(D.save(),D.transform(...T.textMatrix),D.translate(T.x,T.y+T.textRise),$>0?D.scale(z,-1):D.scale(z,1),T.patternFill){D.save();let A=T.fillColor.getPattern(D,this,(0,R.getCurrentTransformInverse)(D),O.PathType.FILL);S=(0,R.getCurrentTransform)(D),D.restore(),D.fillStyle=A}let J=T.lineWidth,Q=T.textMatrixScale;if(0===Q||0===J){let A=T.textRenderingMode&M.TextRenderingMode.FILL_STROKE_MASK;(A===M.TextRenderingMode.STROKE||A===M.TextRenderingMode.FILL_STROKE)&&(J=this.getSinglePixelWidth())}else J/=Q;if(1!==L&&(D.scale(L,L),J/=L),D.lineWidth=J,I.isInvalidPDFjsFont){let S=[],M=0;for(let T of A)S.push(T.unicode),M+=T.width;D.fillText(S.join(""),0,0),T.x+=M*K*z,D.restore(),this.compose();return}let Z=0,tt;for(tt=0;tt<H;++tt){let T,M;let R=A[tt];if("number"==typeof R){Z+=W*R*F/1e3;continue}let O=!1,z=(R.isSpace?B:0)+N,H=R.fontChar,J=R.accent,Q=R.width;if(V){let A=R.vmetric||X,S=-(R.vmetric?A[1]:.5*Q)*K,O=A[2]*K;Q=A?-A[0]:Q,T=S/L,M=(Z+O)/L}else T=Z/L,M=0;if(I.remeasure&&Q>0){let A=1e3*D.measureText(H).width/F*L;if(Q<A&&this.isFontSubpixelAAEnabled){let S=Q/A;O=!0,D.save(),D.scale(S,1),T/=S}else Q!==A&&(T+=(Q-A)/2e3*F/L)}if(this.contentVisible&&(R.isInFont||I.missingFile)){if(Y&&!J)D.fillText(H,T,M);else if(this.paintChar(H,T,M,S),J){let A=T+F*J.offset.x/L,R=M-F*J.offset.y/L;this.paintChar(J.fontChar,A,R,S)}}let te=V?Q*K-z*$:Q*K+z*$;Z+=te,O&&D.restore()}V?T.y-=Z:T.x+=Z*z,D.restore(),this.compose()}showType3Text(A){let S,T,R,O;let I=this.ctx,F=this.current,D=F.font,L=F.fontSize,N=F.fontDirection,B=D.vertical?1:-1,$=F.charSpacing,z=F.wordSpacing,H=F.textHScale*N,V=F.fontMatrix||M.FONT_IDENTITY_MATRIX,W=A.length,X=F.textRenderingMode===M.TextRenderingMode.INVISIBLE;if(!X&&0!==L){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,I.save(),I.transform(...F.textMatrix),I.translate(F.x,F.y),I.scale(H,N),S=0;S<W;++S){if("number"==typeof(T=A[S])){O=B*T*L/1e3,this.ctx.translate(O,0),F.x+=O*H;continue}let N=(T.isSpace?z:0)+$,W=D.charProcOperatorList[T.operatorListId];if(!W){(0,M.warn)(`Type3 character "${T.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=T,this.save(),I.scale(L,L),I.transform(...V),this.executeOperatorList(W),this.restore());let X=M.Util.applyTransform([T.width,0],V);R=X[0]*L+N,I.translate(R,0),F.x+=R*H}I.restore(),this.processingType3=null}}setCharWidth(A,S){}setCharWidthAndBounds(A,S,T,M,R,O){this.ctx.rect(T,M,R-T,O-M),this.ctx.clip(),this.endPath()}getColorN_Pattern(A){let S;if("TilingPattern"===A[0]){let T=A[1],M=this.baseTransform||(0,R.getCurrentTransform)(this.ctx),I={createCanvasGraphics:A=>new tu(A,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};S=new O.TilingPattern(A,T,this.ctx,I,M)}else S=this._getPattern(A[1],A[2]);return S}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(A,S,T){let R=M.Util.makeHexColor(A,S,T);this.ctx.strokeStyle=R,this.current.strokeColor=R}setFillRGBColor(A,S,T){let R=M.Util.makeHexColor(A,S,T);this.ctx.fillStyle=R,this.current.fillColor=R,this.current.patternFill=!1}_getPattern(A,S=null){let T;return this.cachedPatterns.has(A)?T=this.cachedPatterns.get(A):(T=(0,O.getShadingPattern)(this.getObject(A)),this.cachedPatterns.set(A,T)),S&&(T.matrix=S),T}shadingFill(A){if(!this.contentVisible)return;let S=this.ctx;this.save();let T=this._getPattern(A);S.fillStyle=T.getPattern(S,this,(0,R.getCurrentTransformInverse)(S),O.PathType.SHADING);let I=(0,R.getCurrentTransformInverse)(S);if(I){let{width:A,height:T}=S.canvas,[R,O,F,D]=M.Util.getAxialAlignedBoundingBox([0,0,A,T],I);this.ctx.fillRect(R,O,F-R,D-O)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,M.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,M.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(A,S){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(A)&&6===A.length&&this.transform(...A),this.baseTransform=(0,R.getCurrentTransform)(this.ctx),S)){let A=S[2]-S[0],T=S[3]-S[1];this.ctx.rect(S[0],S[1],A,T),this.current.updateRectMinMax((0,R.getCurrentTransform)(this.ctx),S),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(A){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let S=this.ctx;A.isolated||(0,M.info)("TODO: Support non-isolated groups."),A.knockout&&(0,M.warn)("Knockout groups not supported.");let T=(0,R.getCurrentTransform)(S);if(A.matrix&&S.transform(...A.matrix),!A.bbox)throw Error("Bounding box is required.");let O=M.Util.getAxialAlignedBoundingBox(A.bbox,(0,R.getCurrentTransform)(S)),I=[0,0,S.canvas.width,S.canvas.height];O=M.Util.intersect(O,I)||[0,0,0,0];let F=Math.floor(O[0]),D=Math.floor(O[1]),N=Math.max(Math.ceil(O[2])-F,1),B=Math.max(Math.ceil(O[3])-D,1),$=1,z=1;N>L&&($=N/L,N=L),B>L&&(z=B/L,B=L),this.current.startNewPathAndClipBox([0,0,N,B]);let H="groupAt"+this.groupLevel;A.smask&&(H+="_smask_"+this.smaskCounter++%2);let V=this.cachedCanvases.getCanvas(H,N,B),W=V.context;W.scale(1/$,1/z),W.translate(-F,-D),W.transform(...T),A.smask?this.smaskStack.push({canvas:V.canvas,context:W,offsetX:F,offsetY:D,scaleX:$,scaleY:z,subtype:A.smask.subtype,backdrop:A.smask.backdrop,transferMap:A.smask.transferMap||null,startTransformInverse:null}):(S.setTransform(1,0,0,1,0,0),S.translate(F,D),S.scale($,z),S.save()),Q(S,W),this.ctx=W,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(S),this.groupLevel++}endGroup(A){if(!this.contentVisible)return;this.groupLevel--;let S=this.ctx,T=this.groupStack.pop();if(this.ctx=T,this.ctx.imageSmoothingEnabled=!1,A.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let A=(0,R.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...A);let T=M.Util.getAxialAlignedBoundingBox([0,0,S.canvas.width,S.canvas.height],A);this.ctx.drawImage(S.canvas,0,0),this.ctx.restore(),this.compose(T)}}beginAnnotation(A,S,T,O,I){if(this.#t9(),Z(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(S)&&4===S.length){let O=S[2]-S[0],F=S[3]-S[1];if(I&&this.annotationCanvasMap){T=T.slice(),T[4]-=S[0],T[5]-=S[1],(S=S.slice())[0]=S[1]=0,S[2]=O,S[3]=F;let[I,D]=M.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(this.ctx)),{viewportScale:L}=this,N=Math.ceil(O*this.outputScaleX*L),B=Math.ceil(F*this.outputScaleY*L);this.annotationCanvas=this.canvasFactory.create(N,B);let{canvas:$,context:z}=this.annotationCanvas;this.annotationCanvasMap.set(A,$),this.annotationCanvas.savedCtx=this.ctx,this.ctx=z,this.ctx.save(),this.ctx.setTransform(I,0,0,-D,0,F*D),Z(this.ctx)}else Z(this.ctx),this.ctx.rect(S[0],S[1],O,F),this.ctx.clip(),this.endPath()}this.current=new K(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...T),this.transform(...O)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#et(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(A){if(!this.contentVisible)return;let S=A.count;(A=this.getObject(A.data,A)).count=S;let T=this.ctx,M=this.processingType3;if(M&&(void 0===M.compiled&&(M.compiled=X(A)),M.compiled)){M.compiled(T);return}let R=this._createMaskCanvas(A),O=R.canvas;T.save(),T.setTransform(1,0,0,1,0,0),T.drawImage(O,R.offsetX,R.offsetY),T.restore(),this.compose()}paintImageMaskXObjectRepeat(A,S,T=0,O=0,I,F){if(!this.contentVisible)return;A=this.getObject(A.data,A);let D=this.ctx;D.save();let L=(0,R.getCurrentTransform)(D);D.transform(S,T,O,I,0,0);let N=this._createMaskCanvas(A);D.setTransform(1,0,0,1,N.offsetX-L[4],N.offsetY-L[5]);for(let A=0,R=F.length;A<R;A+=2){let R=M.Util.transform(L,[S,T,O,I,F[A],F[A+1]]),[B,$]=M.Util.applyTransform([0,0],R);D.drawImage(N.canvas,B,$)}D.restore(),this.compose()}paintImageMaskXObjectGroup(A){if(!this.contentVisible)return;let S=this.ctx,T=this.current.fillColor,M=this.current.patternFill;for(let I of A){let{data:A,width:F,height:D,transform:L}=I,N=this.cachedCanvases.getCanvas("maskCanvas",F,D),B=N.context;B.save();let $=this.getObject(A,I);J(B,$),B.globalCompositeOperation="source-in",B.fillStyle=M?T.getPattern(B,this,(0,R.getCurrentTransformInverse)(S),O.PathType.FILL):T,B.fillRect(0,0,F,D),B.restore(),S.save(),S.transform(...L),S.scale(1,-1),W(S,N.canvas,0,0,F,D,0,-1,1,1),S.restore()}this.compose()}paintImageXObject(A){if(!this.contentVisible)return;let S=this.getObject(A);if(!S){(0,M.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(S)}paintImageXObjectRepeat(A,S,T,R){if(!this.contentVisible)return;let O=this.getObject(A);if(!O){(0,M.warn)("Dependent image isn't ready yet");return}let I=O.width,F=O.height,D=[];for(let A=0,M=R.length;A<M;A+=2)D.push({transform:[S,0,0,T,R[A],R[A+1]],x:0,y:0,w:I,h:F});this.paintInlineImageXObjectGroup(O,D)}applyTransferMapsToCanvas(A){return"none"!==this.current.transferMaps&&(A.filter=this.current.transferMaps,A.drawImage(A.canvas,0,0),A.filter="none"),A.canvas}applyTransferMapsToBitmap(A){if("none"===this.current.transferMaps)return A.bitmap;let{bitmap:S,width:T,height:M}=A,R=this.cachedCanvases.getCanvas("inlineImage",T,M),O=R.context;return O.filter=this.current.transferMaps,O.drawImage(S,0,0),O.filter="none",R.canvas}paintInlineImageXObject(A){let S;if(!this.contentVisible)return;let T=A.width,O=A.height,I=this.ctx;if(this.save(),!M.isNodeJS){let{filter:A}=I;"none"!==A&&""!==A&&(I.filter="none")}if(I.scale(1/T,-1/O),A.bitmap)S=this.applyTransferMapsToBitmap(A);else if("function"==typeof HTMLElement&&A instanceof HTMLElement||!A.data)S=A;else{let M=this.cachedCanvases.getCanvas("inlineImage",T,O),R=M.context;Y(R,A),S=this.applyTransferMapsToCanvas(R)}let F=this._scaleImage(S,(0,R.getCurrentTransformInverse)(I));I.imageSmoothingEnabled=ts((0,R.getCurrentTransform)(I),A.interpolate),W(I,F.img,0,0,F.paintWidth,F.paintHeight,0,-O,T,O),this.compose(),this.restore()}paintInlineImageXObjectGroup(A,S){let T;if(!this.contentVisible)return;let M=this.ctx;if(A.bitmap)T=A.bitmap;else{let S=A.width,M=A.height,R=this.cachedCanvases.getCanvas("inlineImage",S,M),O=R.context;Y(O,A),T=this.applyTransferMapsToCanvas(O)}for(let A of S)M.save(),M.transform(...A.transform),M.scale(1,-1),W(M,T,A.x,A.y,A.w,A.h,0,-1,1,1),M.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(A){}markPointProps(A,S){}beginMarkedContent(A){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(A,S){"OC"===A?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(S)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(A){let S=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(A);let T=this.ctx;this.pendingClip&&(S||(this.pendingClip===td?T.clip("evenodd"):T.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),T.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let A=(0,R.getCurrentTransform)(this.ctx);if(0===A[1]&&0===A[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(A[0]),Math.abs(A[3]));else{let S=Math.abs(A[0]*A[3]-A[2]*A[1]),T=Math.hypot(A[0],A[2]),M=Math.hypot(A[1],A[3]);this._cachedGetSinglePixelWidth=Math.max(T,M)/S}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){let A,S;let{lineWidth:T}=this.current,{a:M,b:R,c:O,d:I}=this.ctx.getTransform();if(0===R&&0===O){let R=Math.abs(M),O=Math.abs(I);if(R===O){if(0===T)A=S=1/R;else{let M=R*T;A=S=M<1?1/M:1}}else if(0===T)A=1/R,S=1/O;else{let M=R*T,I=O*T;A=M<1?1/M:1,S=I<1?1/I:1}}else{let F=Math.abs(M*I-R*O),D=Math.hypot(M,R),L=Math.hypot(O,I);if(0===T)A=L/F,S=D/F;else{let M=T*F;A=L>M?L/M:1,S=D>M?D/M:1}}this._cachedScaleForStroking[0]=A,this._cachedScaleForStroking[1]=S}return this._cachedScaleForStroking}rescaleAndStroke(A){let{ctx:S}=this,{lineWidth:T}=this.current,[M,R]=this.getScaleForStroking();if(S.lineWidth=T||1,1===M&&1===R){S.stroke();return}let O=S.getLineDash();if(A&&S.save(),S.scale(M,R),O.length>0){let A=Math.max(M,R);S.setLineDash(O.map(S=>S/A)),S.lineDashOffset/=A}S.stroke(),A&&S.restore()}isContentVisible(){for(let A=this.markedContentStack.length-1;A>=0;A--)if(!this.markedContentStack[A].visible)return!1;return!0}}for(let A in S.CanvasGraphics=tu,M.OPS)void 0!==tu.prototype[A]&&(tu.prototype[M.OPS[A]]=tu.prototype[A])},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.TilingPattern=S.PathType=void 0,S.getShadingPattern=z;var M=T(1),R=T(6);let O={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function I(A,S){if(!S)return;let T=S[2]-S[0],M=S[3]-S[1],R=new Path2D;R.rect(S[0],S[1],T,M),A.clip(R)}S.PathType=O;class F{constructor(){this.constructor===F&&(0,M.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,M.unreachable)("Abstract method `getPattern` called.")}}class D extends F{constructor(A){super(),this._type=A[1],this._bbox=A[2],this._colorStops=A[3],this._p0=A[4],this._p1=A[5],this._r0=A[6],this._r1=A[7],this.matrix=null}_createGradient(A){let S;for(let T of("axial"===this._type?S=A.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(S=A.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1)),this._colorStops))S.addColorStop(T[0],T[1]);return S}getPattern(A,S,T,F){let D;if(F===O.STROKE||F===O.FILL){let O=S.current.getClippedPathBoundingBox(F,(0,R.getCurrentTransform)(A))||[0,0,0,0],L=Math.ceil(O[2]-O[0])||1,N=Math.ceil(O[3]-O[1])||1,B=S.cachedCanvases.getCanvas("pattern",L,N,!0),$=B.context;$.clearRect(0,0,$.canvas.width,$.canvas.height),$.beginPath(),$.rect(0,0,$.canvas.width,$.canvas.height),$.translate(-O[0],-O[1]),T=M.Util.transform(T,[1,0,0,1,O[0],O[1]]),$.transform(...S.baseTransform),this.matrix&&$.transform(...this.matrix),I($,this._bbox),$.fillStyle=this._createGradient($),$.fill(),D=A.createPattern(B.canvas,"no-repeat");let z=new DOMMatrix(T);D.setTransform(z)}else I(A,this._bbox),D=this._createGradient(A);return D}}function L(A,S,T,M,R,O,I,F){let D,L,N,B,$,z,H,V,W;let X=S.coords,K=S.colors,Y=A.data,J=4*A.width;X[T+1]>X[M+1]&&(D=T,T=M,M=D,D=O,O=I,I=D),X[M+1]>X[R+1]&&(D=M,M=R,R=D,D=I,I=F,F=D),X[T+1]>X[M+1]&&(D=T,T=M,M=D,D=O,O=I,I=D);let Q=(X[T]+S.offsetX)*S.scaleX,Z=(X[T+1]+S.offsetY)*S.scaleY,tt=(X[M]+S.offsetX)*S.scaleX,te=(X[M+1]+S.offsetY)*S.scaleY,ti=(X[R]+S.offsetX)*S.scaleX,tr=(X[R+1]+S.offsetY)*S.scaleY;if(Z>=tr)return;let tn=K[O],ts=K[O+1],ta=K[O+2],tl=K[I],th=K[I+1],td=K[I+2],tu=K[F],tc=K[F+1],tp=K[F+2],tf=Math.round(Z),tg=Math.round(tr);for(let A=tf;A<=tg;A++){let S;if(A<te){let S=A<Z?0:(Z-A)/(Z-te);L=Q-(Q-tt)*S,N=tn-(tn-tl)*S,B=ts-(ts-th)*S,$=ta-(ta-td)*S}else{let S;L=tt-(tt-ti)*(S=A>tr?1:te===tr?0:(te-A)/(te-tr)),N=tl-(tl-tu)*S,B=th-(th-tc)*S,$=td-(td-tp)*S}z=Q-(Q-ti)*(S=A<Z?0:A>tr?1:(Z-A)/(Z-tr)),H=tn-(tn-tu)*S,V=ts-(ts-tc)*S,W=ta-(ta-tp)*S;let T=Math.round(Math.min(L,z)),M=Math.round(Math.max(L,z)),R=J*A+4*T;for(let A=T;A<=M;A++)(S=(L-A)/(L-z))<0?S=0:S>1&&(S=1),Y[R++]=N-(N-H)*S|0,Y[R++]=B-(B-V)*S|0,Y[R++]=$-($-W)*S|0,Y[R++]=255}}function N(A,S,T){let M,R;let O=S.coords,I=S.colors;switch(S.type){case"lattice":let F=S.verticesPerRow,D=Math.floor(O.length/F)-1,N=F-1;for(M=0;M<D;M++){let S=M*F;for(let M=0;M<N;M++,S++)L(A,T,O[S],O[S+1],O[S+F],I[S],I[S+1],I[S+F]),L(A,T,O[S+F+1],O[S+1],O[S+F],I[S+F+1],I[S+1],I[S+F])}break;case"triangles":for(M=0,R=O.length;M<R;M+=3)L(A,T,O[M],O[M+1],O[M+2],I[M],I[M+1],I[M+2]);break;default:throw Error("illegal figure")}}class B extends F{constructor(A){super(),this._coords=A[2],this._colors=A[3],this._figures=A[4],this._bounds=A[5],this._bbox=A[7],this._background=A[8],this.matrix=null}_createMeshCanvas(A,S,T){let M=1.1,R=3e3,O=2,I=Math.floor(this._bounds[0]),F=Math.floor(this._bounds[1]),D=Math.ceil(this._bounds[2])-I,L=Math.ceil(this._bounds[3])-F,B=Math.min(Math.ceil(Math.abs(D*A[0]*M)),R),$=Math.min(Math.ceil(Math.abs(L*A[1]*M)),R),z=D/B,H=L/$,V={coords:this._coords,colors:this._colors,offsetX:-I,offsetY:-F,scaleX:1/z,scaleY:1/H},W=B+2*O,X=$+2*O,K=T.getCanvas("mesh",W,X,!1),Y=K.context,J=Y.createImageData(B,$);if(S){let A=J.data;for(let T=0,M=A.length;T<M;T+=4)A[T]=S[0],A[T+1]=S[1],A[T+2]=S[2],A[T+3]=255}for(let A of this._figures)N(J,A,V);Y.putImageData(J,O,O);let Q=K.canvas;return{canvas:Q,offsetX:I-O*z,offsetY:F-O*H,scaleX:z,scaleY:H}}getPattern(A,S,T,F){let D;if(I(A,this._bbox),F===O.SHADING)D=M.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(A));else if(D=M.Util.singularValueDecompose2dScale(S.baseTransform),this.matrix){let A=M.Util.singularValueDecompose2dScale(this.matrix);D=[D[0]*A[0],D[1]*A[1]]}let L=this._createMeshCanvas(D,F===O.SHADING?null:this._background,S.cachedCanvases);return F!==O.SHADING&&(A.setTransform(...S.baseTransform),this.matrix&&A.transform(...this.matrix)),A.translate(L.offsetX,L.offsetY),A.scale(L.scaleX,L.scaleY),A.createPattern(L.canvas,"no-repeat")}}class $ extends F{getPattern(){return"hotpink"}}function z(A){switch(A[0]){case"RadialAxial":return new D(A);case"Mesh":return new B(A);case"Dummy":return new $}throw Error(`Unknown IR type: ${A[0]}`)}let H={COLORED:1,UNCOLORED:2};class V{static MAX_PATTERN_SIZE=3e3;constructor(A,S,T,M,R){this.operatorList=A[2],this.matrix=A[3]||[1,0,0,1,0,0],this.bbox=A[4],this.xstep=A[5],this.ystep=A[6],this.paintType=A[7],this.tilingType=A[8],this.color=S,this.ctx=T,this.canvasGraphicsFactory=M,this.baseTransform=R}createPatternCanvas(A){let S=this.operatorList,T=this.bbox,O=this.xstep,I=this.ystep,F=this.paintType,D=this.tilingType,L=this.color,N=this.canvasGraphicsFactory;(0,M.info)("TilingType: "+D);let B=T[0],$=T[1],z=T[2],H=T[3],V=M.Util.singularValueDecompose2dScale(this.matrix),W=M.Util.singularValueDecompose2dScale(this.baseTransform),X=[V[0]*W[0],V[1]*W[1]],K=this.getSizeAndScale(O,this.ctx.canvas.width,X[0]),Y=this.getSizeAndScale(I,this.ctx.canvas.height,X[1]),J=A.cachedCanvases.getCanvas("pattern",K.size,Y.size,!0),Q=J.context,Z=N.createCanvasGraphics(Q);Z.groupLevel=A.groupLevel,this.setFillAndStrokeStyleToContext(Z,F,L);let tt=B,te=$,ti=z,tr=H;return B<0&&(tt=0,ti+=Math.abs(B)),$<0&&(te=0,tr+=Math.abs($)),Q.translate(-(K.scale*tt),-(Y.scale*te)),Z.transform(K.scale,0,0,Y.scale,0,0),Q.save(),this.clipBbox(Z,tt,te,ti,tr),Z.baseTransform=(0,R.getCurrentTransform)(Z.ctx),Z.executeOperatorList(S),Z.endDrawing(),{canvas:J.canvas,scaleX:K.scale,scaleY:Y.scale,offsetX:tt,offsetY:te}}getSizeAndScale(A,S,T){A=Math.abs(A);let M=Math.max(V.MAX_PATTERN_SIZE,S),R=Math.ceil(A*T);return R>=M?R=M:T=R/A,{scale:T,size:R}}clipBbox(A,S,T,M,O){let I=M-S,F=O-T;A.ctx.rect(S,T,I,F),A.current.updateRectMinMax((0,R.getCurrentTransform)(A.ctx),[S,T,M,O]),A.clip(),A.endPath()}setFillAndStrokeStyleToContext(A,S,T){let R=A.ctx,O=A.current;switch(S){case H.COLORED:let I=this.ctx;R.fillStyle=I.fillStyle,R.strokeStyle=I.strokeStyle,O.fillColor=I.fillStyle,O.strokeColor=I.strokeStyle;break;case H.UNCOLORED:let F=M.Util.makeHexColor(T[0],T[1],T[2]);R.fillStyle=F,R.strokeStyle=F,O.fillColor=F,O.strokeColor=F;break;default:throw new M.FormatError(`Unsupported paint type: ${S}`)}}getPattern(A,S,T,R){let I=T;R!==O.SHADING&&(I=M.Util.transform(I,S.baseTransform),this.matrix&&(I=M.Util.transform(I,this.matrix)));let F=this.createPatternCanvas(S),D=new DOMMatrix(I);D=(D=D.translate(F.offsetX,F.offsetY)).scale(1/F.scaleX,1/F.scaleY);let L=A.createPattern(F.canvas,"repeat");return L.setTransform(D),L}}S.TilingPattern=V},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.convertBlackAndWhiteToRGBA=O,S.convertToRGBA=R,S.grayToRGBA=F;var M=T(1);function R(A){switch(A.kind){case M.ImageKind.GRAYSCALE_1BPP:return O(A);case M.ImageKind.RGB_24BPP:return I(A)}return null}function O({src:A,srcPos:S=0,dest:T,width:R,height:O,nonBlackColor:I=4294967295,inverseDecode:F=!1}){let D=M.FeatureTest.isLittleEndian?4278190080:255,[L,N]=F?[I,D]:[D,I],B=R>>3,$=7&R,z=A.length;T=new Uint32Array(T.buffer);let H=0;for(let M=0;M<O;M++){for(let M=S+B;S<M;S++){let M=S<z?A[S]:255;T[H++]=128&M?N:L,T[H++]=64&M?N:L,T[H++]=32&M?N:L,T[H++]=16&M?N:L,T[H++]=8&M?N:L,T[H++]=4&M?N:L,T[H++]=2&M?N:L,T[H++]=1&M?N:L}if(0===$)continue;let M=S<z?A[S++]:255;for(let A=0;A<$;A++)T[H++]=M&1<<7-A?N:L}return{srcPos:S,destPos:H}}function I({src:A,srcPos:S=0,dest:T,destPos:R=0,width:O,height:I}){let F=0,D=A.length>>2,L=new Uint32Array(A.buffer,S,D);if(M.FeatureTest.isLittleEndian){for(;F<D-2;F+=3,R+=4){let A=L[F],S=L[F+1],M=L[F+2];T[R]=4278190080|A,T[R+1]=A>>>24|S<<8|4278190080,T[R+2]=S>>>16|M<<16|4278190080,T[R+3]=M>>>8|4278190080}for(let S=4*F,M=A.length;S<M;S+=3)T[R++]=A[S]|A[S+1]<<8|A[S+2]<<16|4278190080}else{for(;F<D-2;F+=3,R+=4){let A=L[F],S=L[F+1],M=L[F+2];T[R]=255|A,T[R+1]=A<<24|S>>>8|255,T[R+2]=S<<16|M>>>16|255,T[R+3]=M<<8|255}for(let S=4*F,M=A.length;S<M;S+=3)T[R++]=A[S]<<24|A[S+1]<<16|A[S+2]<<8|255}return{srcPos:S,destPos:R}}function F(A,S){if(M.FeatureTest.isLittleEndian)for(let T=0,M=A.length;T<M;T++)S[T]=65793*A[T]|4278190080;else for(let T=0,M=A.length;T<M;T++)S[T]=16843008*A[T]|255}},(A,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.GlobalWorkerOptions=void 0;let T=Object.create(null);S.GlobalWorkerOptions=T,T.workerPort=null,T.workerSrc=""},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.MessageHandler=void 0;var M=T(1);let R={DATA:1,ERROR:2},O={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function I(A){switch(A instanceof Error||"object"==typeof A&&null!==A||(0,M.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),A.name){case"AbortException":return new M.AbortException(A.message);case"MissingPDFException":return new M.MissingPDFException(A.message);case"PasswordException":return new M.PasswordException(A.message,A.code);case"UnexpectedResponseException":return new M.UnexpectedResponseException(A.message,A.status);case"UnknownErrorException":return new M.UnknownErrorException(A.message,A.details);default:return new M.UnknownErrorException(A.message,A.toString())}}class F{constructor(A,S,T){this.sourceName=A,this.targetName=S,this.comObj=T,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=A=>{let S=A.data;if(S.targetName!==this.sourceName)return;if(S.stream){this.#ee(S);return}if(S.callback){let A=S.callbackId,T=this.callbackCapabilities[A];if(!T)throw Error(`Cannot resolve callback ${A}`);if(delete this.callbackCapabilities[A],S.callback===R.DATA)T.resolve(S.data);else if(S.callback===R.ERROR)T.reject(I(S.reason));else throw Error("Unexpected callback case");return}let M=this.actionHandler[S.action];if(!M)throw Error(`Unknown action from worker: ${S.action}`);if(S.callbackId){let A=this.sourceName,O=S.sourceName;new Promise(function(A){A(M(S.data))}).then(function(M){T.postMessage({sourceName:A,targetName:O,callback:R.DATA,callbackId:S.callbackId,data:M})},function(M){T.postMessage({sourceName:A,targetName:O,callback:R.ERROR,callbackId:S.callbackId,reason:I(M)})});return}if(S.streamId){this.#ei(S);return}M(S.data)},T.addEventListener("message",this._onComObjOnMessage)}on(A,S){let T=this.actionHandler;if(T[A])throw Error(`There is already an actionName called "${A}"`);T[A]=S}send(A,S,T){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,data:S},T)}sendWithPromise(A,S,T){let R=this.callbackId++,O=new M.PromiseCapability;this.callbackCapabilities[R]=O;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,callbackId:R,data:S},T)}catch(A){O.reject(A)}return O.promise}sendWithStream(A,S,T,R){let F=this.streamId++,D=this.sourceName,L=this.targetName,N=this.comObj;return new ReadableStream({start:T=>{let O=new M.PromiseCapability;return this.streamControllers[F]={controller:T,startCall:O,pullCall:null,cancelCall:null,isClosed:!1},N.postMessage({sourceName:D,targetName:L,action:A,streamId:F,data:S,desiredSize:T.desiredSize},R),O.promise},pull:A=>{let S=new M.PromiseCapability;return this.streamControllers[F].pullCall=S,N.postMessage({sourceName:D,targetName:L,stream:O.PULL,streamId:F,desiredSize:A.desiredSize}),S.promise},cancel:A=>{(0,M.assert)(A instanceof Error,"cancel must have a valid reason");let S=new M.PromiseCapability;return this.streamControllers[F].cancelCall=S,this.streamControllers[F].isClosed=!0,N.postMessage({sourceName:D,targetName:L,stream:O.CANCEL,streamId:F,reason:I(A)}),S.promise}},T)}#ei(A){let S=A.streamId,T=this.sourceName,R=A.sourceName,F=this.comObj,D=this,L=this.actionHandler[A.action],N={enqueue(A,I=1,D){if(this.isCancelled)return;let L=this.desiredSize;this.desiredSize-=I,L>0&&this.desiredSize<=0&&(this.sinkCapability=new M.PromiseCapability,this.ready=this.sinkCapability.promise),F.postMessage({sourceName:T,targetName:R,stream:O.ENQUEUE,streamId:S,chunk:A},D)},close(){this.isCancelled||(this.isCancelled=!0,F.postMessage({sourceName:T,targetName:R,stream:O.CLOSE,streamId:S}),delete D.streamSinks[S])},error(A){(0,M.assert)(A instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,F.postMessage({sourceName:T,targetName:R,stream:O.ERROR,streamId:S,reason:I(A)}))},sinkCapability:new M.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:A.desiredSize,ready:null};N.sinkCapability.resolve(),N.ready=N.sinkCapability.promise,this.streamSinks[S]=N,new Promise(function(S){S(L(A.data,N))}).then(function(){F.postMessage({sourceName:T,targetName:R,stream:O.START_COMPLETE,streamId:S,success:!0})},function(A){F.postMessage({sourceName:T,targetName:R,stream:O.START_COMPLETE,streamId:S,reason:I(A)})})}#ee(A){let S=A.streamId,T=this.sourceName,R=A.sourceName,F=this.comObj,D=this.streamControllers[S],L=this.streamSinks[S];switch(A.stream){case O.START_COMPLETE:A.success?D.startCall.resolve():D.startCall.reject(I(A.reason));break;case O.PULL_COMPLETE:A.success?D.pullCall.resolve():D.pullCall.reject(I(A.reason));break;case O.PULL:if(!L){F.postMessage({sourceName:T,targetName:R,stream:O.PULL_COMPLETE,streamId:S,success:!0});break}L.desiredSize<=0&&A.desiredSize>0&&L.sinkCapability.resolve(),L.desiredSize=A.desiredSize,new Promise(function(A){A(L.onPull?.())}).then(function(){F.postMessage({sourceName:T,targetName:R,stream:O.PULL_COMPLETE,streamId:S,success:!0})},function(A){F.postMessage({sourceName:T,targetName:R,stream:O.PULL_COMPLETE,streamId:S,reason:I(A)})});break;case O.ENQUEUE:if((0,M.assert)(D,"enqueue should have stream controller"),D.isClosed)break;D.controller.enqueue(A.chunk);break;case O.CLOSE:if((0,M.assert)(D,"close should have stream controller"),D.isClosed)break;D.isClosed=!0,D.controller.close(),this.#er(D,S);break;case O.ERROR:(0,M.assert)(D,"error should have stream controller"),D.controller.error(I(A.reason)),this.#er(D,S);break;case O.CANCEL_COMPLETE:A.success?D.cancelCall.resolve():D.cancelCall.reject(I(A.reason)),this.#er(D,S);break;case O.CANCEL:if(!L)break;new Promise(function(S){S(L.onCancel?.(I(A.reason)))}).then(function(){F.postMessage({sourceName:T,targetName:R,stream:O.CANCEL_COMPLETE,streamId:S,success:!0})},function(A){F.postMessage({sourceName:T,targetName:R,stream:O.CANCEL_COMPLETE,streamId:S,reason:I(A)})}),L.sinkCapability.reject(I(A.reason)),L.isCancelled=!0,delete this.streamSinks[S];break;default:throw Error("Unexpected stream case")}}async #er(A,S){await Promise.allSettled([A.startCall?.promise,A.pullCall?.promise,A.cancelCall?.promise]),delete this.streamControllers[S]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}S.MessageHandler=F},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.Metadata=void 0;var M=T(1);class R{#en;#es;constructor({parsedData:A,rawData:S}){this.#en=A,this.#es=S}getRaw(){return this.#es}get(A){return this.#en.get(A)??null}getAll(){return(0,M.objectFromMap)(this.#en)}has(A){return this.#en.has(A)}}S.Metadata=R},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.OptionalContentConfig=void 0;var M=T(1),R=T(8);let O=Symbol("INTERNAL");class I{#ea=!0;constructor(A,S){this.name=A,this.intent=S}get visible(){return this.#ea}_setVisible(A,S){A!==O&&(0,M.unreachable)("Internal method `_setVisible` called."),this.#ea=S}}class F{#eo=null;#el=new Map;#eh=null;#ed=null;constructor(A){if(this.name=null,this.creator=null,null===A)return;for(let S of(this.name=A.name,this.creator=A.creator,this.#ed=A.order,A.groups))this.#el.set(S.id,new I(S.name,S.intent));if("OFF"===A.baseState)for(let A of this.#el.values())A._setVisible(O,!1);for(let S of A.on)this.#el.get(S)._setVisible(O,!0);for(let S of A.off)this.#el.get(S)._setVisible(O,!1);this.#eh=this.getHash()}#eu(A){let S=A.length;if(S<2)return!0;let T=A[0];for(let R=1;R<S;R++){let S;let O=A[R];if(Array.isArray(O))S=this.#eu(O);else{if(!this.#el.has(O))return(0,M.warn)(`Optional content group not found: ${O}`),!0;S=this.#el.get(O).visible}switch(T){case"And":if(!S)return!1;break;case"Or":if(S)return!0;break;case"Not":return!S;default:return!0}}return"And"===T}isVisible(A){if(0===this.#el.size)return!0;if(!A)return(0,M.warn)("Optional content group not defined."),!0;if("OCG"===A.type)return this.#el.has(A.id)?this.#el.get(A.id).visible:((0,M.warn)(`Optional content group not found: ${A.id}`),!0);if("OCMD"===A.type){if(A.expression)return this.#eu(A.expression);if(A.policy&&"AnyOn"!==A.policy){if("AllOn"===A.policy){for(let S of A.ids){if(!this.#el.has(S)){(0,M.warn)(`Optional content group not found: ${S}`);break}if(!this.#el.get(S).visible)return!1}return!0}if("AnyOff"===A.policy){for(let S of A.ids){if(!this.#el.has(S))return(0,M.warn)(`Optional content group not found: ${S}`),!0;if(!this.#el.get(S).visible)return!0}return!1}if("AllOff"===A.policy){for(let S of A.ids){if(!this.#el.has(S)){(0,M.warn)(`Optional content group not found: ${S}`);break}if(this.#el.get(S).visible)return!1}return!0}}else{for(let S of A.ids){if(!this.#el.has(S))return(0,M.warn)(`Optional content group not found: ${S}`),!0;if(this.#el.get(S).visible)return!0}return!1}return(0,M.warn)(`Unknown optional content policy ${A.policy}.`),!0}return(0,M.warn)(`Unknown group type ${A.type}.`),!0}setVisibility(A,S=!0){if(!this.#el.has(A)){(0,M.warn)(`Optional content group not found: ${A}`);return}this.#el.get(A)._setVisible(O,!!S),this.#eo=null}get hasInitialVisibility(){return null===this.#eh||this.getHash()===this.#eh}getOrder(){return this.#el.size?this.#ed?this.#ed.slice():[...this.#el.keys()]:null}getGroups(){return this.#el.size>0?(0,M.objectFromMap)(this.#el):null}getGroup(A){return this.#el.get(A)||null}getHash(){if(null!==this.#eo)return this.#eo;let A=new R.MurmurHash3_64;for(let[S,T]of this.#el)A.update(`${S}:${T.visible}`);return this.#eo=A.hexdigest()}}S.OptionalContentConfig=F},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PDFDataTransportStream=void 0;var M=T(1),R=T(6);class O{constructor({length:A,initialData:S,progressiveDone:T=!1,contentDispositionFilename:R=null,disableRange:O=!1,disableStream:I=!1},F){if((0,M.assert)(F,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=T,this._contentDispositionFilename=R,S?.length>0){let A=S instanceof Uint8Array&&S.byteLength===S.buffer.byteLength?S.buffer:new Uint8Array(S).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=F,this._isStreamingSupported=!I,this._isRangeSupported=!O,this._contentLength=A,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((A,S)=>{this._onReceiveData({begin:A,chunk:S})}),this._pdfDataRangeTransport.addProgressListener((A,S)=>{this._onProgress({loaded:A,total:S})}),this._pdfDataRangeTransport.addProgressiveReadListener(A=>{this._onReceiveData({chunk:A})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:A,chunk:S}){let T=S instanceof Uint8Array&&S.byteLength===S.buffer.byteLength?S.buffer:new Uint8Array(S).buffer;if(void 0===A)this._fullRequestReader?this._fullRequestReader._enqueue(T):this._queuedChunks.push(T);else{let S=this._rangeReaders.some(function(S){return S._begin===A&&(S._enqueue(T),!0)});(0,M.assert)(S,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(A){void 0===A.total?this._rangeReaders[0]?.onProgress?.({loaded:A.loaded}):this._fullRequestReader?.onProgress?.({loaded:A.loaded,total:A.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(A){let S=this._rangeReaders.indexOf(A);S>=0&&this._rangeReaders.splice(S,1)}getFullReader(){(0,M.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let A=this._queuedChunks;return this._queuedChunks=null,new I(this,A,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(A,S){if(S<=this._progressiveDataLength)return null;let T=new F(this,A,S);return this._pdfDataRangeTransport.requestDataRange(A,S),this._rangeReaders.push(T),T}cancelAllRequests(A){for(let S of(this._fullRequestReader?.cancel(A),this._rangeReaders.slice(0)))S.cancel(A);this._pdfDataRangeTransport.abort()}}S.PDFDataTransportStream=O;class I{constructor(A,S,T=!1,M=null){for(let O of(this._stream=A,this._done=T||!1,this._filename=(0,R.isPdfFile)(M)?M:null,this._queuedChunks=S||[],this._loaded=0,this._queuedChunks))this._loaded+=O.byteLength;this._requests=[],this._headersReady=Promise.resolve(),A._fullRequestReader=this,this.onProgress=null}_enqueue(A){if(!this._done){if(this._requests.length>0){let S=this._requests.shift();S.resolve({value:A,done:!1})}else this._queuedChunks.push(A);this._loaded+=A.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){let A=this._queuedChunks.shift();return{value:A,done:!1}}if(this._done)return{value:void 0,done:!0};let A=new M.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){for(let A of(this._done=!0,this._requests))A.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class F{constructor(A,S,T){this._stream=A,this._begin=S,this._end=T,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(A){if(!this._done){if(0===this._requests.length)this._queuedChunk=A;else{let S=this._requests.shift();for(let T of(S.resolve({value:A,done:!1}),this._requests))T.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let A=this._queuedChunk;return this._queuedChunk=null,{value:A,done:!1}}if(this._done)return{value:void 0,done:!0};let A=new M.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){for(let A of(this._done=!0,this._requests))A.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PDFFetchStream=void 0;var M=T(1),R=T(20);function O(A,S,T){return{method:"GET",headers:A,signal:T.signal,mode:"cors",credentials:S?"include":"same-origin",redirect:"follow"}}function I(A){let S=new Headers;for(let T in A){let M=A[T];void 0!==M&&S.append(T,M)}return S}function F(A){return A instanceof Uint8Array?A.buffer:A instanceof ArrayBuffer?A:((0,M.warn)(`getArrayBuffer - unexpected data format: ${A}`),new Uint8Array(A).buffer)}class D{constructor(A){this.source=A,this.isHttp=/^https?:/i.test(A.url),this.httpHeaders=this.isHttp&&A.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,M.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new L(this),this._fullRequestReader}getRangeReader(A,S){if(S<=this._progressiveDataLength)return null;let T=new N(this,A,S);return this._rangeRequestReaders.push(T),T}cancelAllRequests(A){for(let S of(this._fullRequestReader?.cancel(A),this._rangeRequestReaders.slice(0)))S.cancel(A)}}S.PDFFetchStream=D;class L{constructor(A){this._stream=A,this._reader=null,this._loaded=0,this._filename=null;let S=A.source;this._withCredentials=S.withCredentials||!1,this._contentLength=S.length,this._headersCapability=new M.PromiseCapability,this._disableRange=S.disableRange||!1,this._rangeChunkSize=S.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!S.disableStream,this._isRangeSupported=!S.disableRange,this._headers=I(this._stream.httpHeaders);let T=S.url;fetch(T,O(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,R.validateResponseStatus)(A.status))throw(0,R.createResponseStatusError)(A.status,T);this._reader=A.body.getReader(),this._headersCapability.resolve();let S=S=>A.headers.get(S),{allowRangeRequests:O,suggestedLength:I}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=O,this._contentLength=I||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(S),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new M.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value:A,done:S}=await this._reader.read();return S?{value:A,done:S}:(this._loaded+=A.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:F(A),done:!1})}cancel(A){this._reader?.cancel(A),this._abortController.abort()}}class N{constructor(A,S,T){this._stream=A,this._reader=null,this._loaded=0;let F=A.source;this._withCredentials=F.withCredentials||!1,this._readCapability=new M.PromiseCapability,this._isStreamingSupported=!F.disableStream,this._abortController=new AbortController,this._headers=I(this._stream.httpHeaders),this._headers.append("Range",`bytes=${S}-${T-1}`);let D=F.url;fetch(D,O(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,R.validateResponseStatus)(A.status))throw(0,R.createResponseStatusError)(A.status,D);this._readCapability.resolve(),this._reader=A.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value:A,done:S}=await this._reader.read();return S?{value:A,done:S}:(this._loaded+=A.byteLength,this.onProgress?.({loaded:this._loaded}),{value:F(A),done:!1})}cancel(A){this._reader?.cancel(A),this._abortController.abort()}}},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.createResponseStatusError=D,S.extractFilenameFromHeader=F,S.validateRangeRequestCapabilities=I,S.validateResponseStatus=L;var M=T(1),R=T(21),O=T(6);function I({getResponseHeader:A,isHttp:S,rangeChunkSize:T,disableRange:M}){let R={allowRangeRequests:!1,suggestedLength:void 0},O=parseInt(A("Content-Length"),10);if(!Number.isInteger(O)||(R.suggestedLength=O,O<=2*T||M||!S||"bytes"!==A("Accept-Ranges")))return R;let I=A("Content-Encoding")||"identity";return"identity"!==I||(R.allowRangeRequests=!0),R}function F(A){let S=A("Content-Disposition");if(S){let A=(0,R.getFilenameFromContentDispositionHeader)(S);if(A.includes("%"))try{A=decodeURIComponent(A)}catch{}if((0,O.isPdfFile)(A))return A}return null}function D(A,S){return 404===A||0===A&&S.startsWith("file:")?new M.MissingPDFException('Missing PDF "'+S+'".'):new M.UnexpectedResponseException(`Unexpected server response (${A}) while retrieving PDF "${S}".`,A)}function L(A){return 200===A||206===A}},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.getFilenameFromContentDispositionHeader=R;var M=T(1);function R(A){let S=!0,T=R("filename\\*","i").exec(A);if(T){let A=D(T=T[1]);return I(A=N(A=L(A=unescape(A))))}if(T=F(A)){let A=N(T);return I(A)}if(T=R("filename","i").exec(A)){let A=D(T=T[1]);return I(A=N(A))}function R(A,S){return RegExp("(?:^|;)\\s*"+A+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',S)}function O(A,T){if(A){if(!/^[\x00-\xFF]+$/.test(T))return T;try{let R=new TextDecoder(A,{fatal:!0}),O=(0,M.stringToBytes)(T);T=R.decode(O),S=!1}catch{}}return T}function I(A){return S&&/[\x80-\xff]/.test(A)&&(A=O("utf-8",A),S&&(A=O("iso-8859-1",A))),A}function F(A){let S;let T=[],M=R("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(S=M.exec(A));){let[,A,M,R]=S;if((A=parseInt(A,10))in T){if(0===A)break;continue}T[A]=[M,R]}let O=[];for(let A=0;A<T.length&&(A in T);++A){let[S,M]=T[A];M=D(M),S&&(M=unescape(M),0===A&&(M=L(M))),O.push(M)}return O.join("")}function D(A){if(A.startsWith('"')){let S=A.slice(1).split('\\"');for(let A=0;A<S.length;++A){let T=S[A].indexOf('"');-1!==T&&(S[A]=S[A].slice(0,T),S.length=A+1),S[A]=S[A].replaceAll(/\\(.)/g,"$1")}A=S.join('"')}return A}function L(A){let S=A.indexOf("'");if(-1===S)return A;let T=A.slice(0,S),M=A.slice(S+1),R=M.replace(/^[^']*'/,"");return O(T,R)}function N(A){return!A.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(A)?A:A.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(A,S,T,M){if("q"===T||"Q"===T)return O(S,M=(M=M.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(A,S){return String.fromCharCode(parseInt(S,16))}));try{M=atob(M)}catch{}return O(S,M)})}return""}},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PDFNetworkStream=void 0;var M=T(1),R=T(20);let O=200,I=206;function F(A){let S=A.response;return"string"!=typeof S?S:(0,M.stringToBytes)(S).buffer}class D{constructor(A,S={}){this.url=A,this.isHttp=/^https?:/i.test(A),this.httpHeaders=this.isHttp&&S.httpHeaders||Object.create(null),this.withCredentials=S.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(A,S,T){let M={begin:A,end:S};for(let A in T)M[A]=T[A];return this.request(M)}requestFull(A){return this.request(A)}request(A){let S=new XMLHttpRequest,T=this.currXhrId++,M=this.pendingRequests[T]={xhr:S};for(let A in S.open("GET",this.url),S.withCredentials=this.withCredentials,this.httpHeaders){let T=this.httpHeaders[A];void 0!==T&&S.setRequestHeader(A,T)}return this.isHttp&&"begin"in A&&"end"in A?(S.setRequestHeader("Range",`bytes=${A.begin}-${A.end-1}`),M.expectedStatus=I):M.expectedStatus=O,S.responseType="arraybuffer",A.onError&&(S.onerror=function(T){A.onError(S.status)}),S.onreadystatechange=this.onStateChange.bind(this,T),S.onprogress=this.onProgress.bind(this,T),M.onHeadersReceived=A.onHeadersReceived,M.onDone=A.onDone,M.onError=A.onError,M.onProgress=A.onProgress,S.send(null),T}onProgress(A,S){let T=this.pendingRequests[A];T&&T.onProgress?.(S)}onStateChange(A,S){let T=this.pendingRequests[A];if(!T)return;let M=T.xhr;if(M.readyState>=2&&T.onHeadersReceived&&(T.onHeadersReceived(),delete T.onHeadersReceived),4!==M.readyState||!(A in this.pendingRequests))return;if(delete this.pendingRequests[A],0===M.status&&this.isHttp){T.onError?.(M.status);return}let R=M.status||O,D=R===O&&T.expectedStatus===I;if(!D&&R!==T.expectedStatus){T.onError?.(M.status);return}let L=F(M);if(R===I){let A=M.getResponseHeader("Content-Range"),S=/bytes (\d+)-(\d+)\/(\d+)/.exec(A);T.onDone({begin:parseInt(S[1],10),chunk:L})}else L?T.onDone({begin:0,chunk:L}):T.onError?.(M.status)}getRequestXhr(A){return this.pendingRequests[A].xhr}isPendingRequest(A){return A in this.pendingRequests}abortRequest(A){let S=this.pendingRequests[A].xhr;delete this.pendingRequests[A],S.abort()}}class L{constructor(A){this._source=A,this._manager=new D(A.url,{httpHeaders:A.httpHeaders,withCredentials:A.withCredentials}),this._rangeChunkSize=A.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(A){let S=this._rangeRequestReaders.indexOf(A);S>=0&&this._rangeRequestReaders.splice(S,1)}getFullReader(){return(0,M.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new N(this._manager,this._source),this._fullRequestReader}getRangeReader(A,S){let T=new B(this._manager,A,S);return T.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(T),T}cancelAllRequests(A){for(let S of(this._fullRequestReader?.cancel(A),this._rangeRequestReaders.slice(0)))S.cancel(A)}}S.PDFNetworkStream=L;class N{constructor(A,S){this._manager=A;let T={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._fullRequestId=A.requestFull(T),this._headersReceivedCapability=new M.PromiseCapability,this._disableRange=S.disableRange||!1,this._contentLength=S.length,this._rangeChunkSize=S.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let A=this._fullRequestId,S=this._manager.getRequestXhr(A),T=A=>S.getResponseHeader(A),{allowRangeRequests:M,suggestedLength:O}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});M&&(this._isRangeSupported=!0),this._contentLength=O||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(T),this._isRangeSupported&&this._manager.abortRequest(A),this._headersReceivedCapability.resolve()}_onDone(A){if(A){if(this._requests.length>0){let S=this._requests.shift();S.resolve({value:A.chunk,done:!1})}else this._cachedChunks.push(A.chunk)}if(this._done=!0,!(this._cachedChunks.length>0)){for(let A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(A){for(let S of(this._storedError=(0,R.createResponseStatusError)(A,this._url),this._headersReceivedCapability.reject(this._storedError),this._requests))S.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(A){this.onProgress?.({loaded:A.loaded,total:A.lengthComputable?A.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){let A=this._cachedChunks.shift();return{value:A,done:!1}}if(this._done)return{value:void 0,done:!0};let A=new M.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){for(let S of(this._done=!0,this._headersReceivedCapability.reject(A),this._requests))S.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class B{constructor(A,S,T){this._manager=A;let M={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._requestId=A.requestRange(S,T,M),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(A){let S=A.chunk;if(this._requests.length>0){let A=this._requests.shift();A.resolve({value:S,done:!1})}else this._queuedChunk=S;for(let A of(this._done=!0,this._requests))A.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(A){for(let S of(this._storedError=(0,R.createResponseStatusError)(A,this._url),this._requests))S.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(A){this.isStreamingSupported||this.onProgress?.({loaded:A.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){let A=this._queuedChunk;return this._queuedChunk=null,{value:A,done:!1}}if(this._done)return{value:void 0,done:!0};let A=new M.PromiseCapability;return this._requests.push(A),A.promise}cancel(A){for(let A of(this._done=!0,this._requests))A.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.PDFNodeStream=void 0;var M=T(1),R=T(20);let O=/^file:\/\/\/[a-zA-Z]:\//;function I(A){let S=__webpack_require__(11987),T=S.parse(A);return"file:"===T.protocol||T.host?T:/^[a-z]:[/\\]/i.test(A)?S.parse(`file:///${A}`):(T.host||(T.protocol="file:"),T)}class F{constructor(A){this.source=A,this.url=I(A.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&A.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,M.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new z(this):new B(this),this._fullRequestReader}getRangeReader(A,S){if(S<=this._progressiveDataLength)return null;let T=this.isFsUrl?new H(this,A,S):new $(this,A,S);return this._rangeRequestReaders.push(T),T}cancelAllRequests(A){for(let S of(this._fullRequestReader?.cancel(A),this._rangeRequestReaders.slice(0)))S.cancel(A)}}S.PDFNodeStream=F;class D{constructor(A){this._url=A.url,this._done=!1,this._storedError=null,this.onProgress=null;let S=A.source;this._contentLength=S.length,this._loaded=0,this._filename=null,this._disableRange=S.disableRange||!1,this._rangeChunkSize=S.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!S.disableStream,this._isRangeSupported=!S.disableRange,this._readableStream=null,this._readCapability=new M.PromiseCapability,this._headersCapability=new M.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let A=this._readableStream.read();if(null===A)return this._readCapability=new M.PromiseCapability,this.read();this._loaded+=A.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});let S=new Uint8Array(A).buffer;return{value:S,done:!1}}cancel(A){if(!this._readableStream){this._error(A);return}this._readableStream.destroy(A)}_error(A){this._storedError=A,this._readCapability.resolve()}_setReadableStream(A){this._readableStream=A,A.on("readable",()=>{this._readCapability.resolve()}),A.on("end",()=>{A.destroy(),this._done=!0,this._readCapability.resolve()}),A.on("error",A=>{this._error(A)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new M.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class L{constructor(A){this._url=A.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new M.PromiseCapability;let S=A.source;this._isStreamingSupported=!S.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let A=this._readableStream.read();if(null===A)return this._readCapability=new M.PromiseCapability,this.read();this._loaded+=A.length,this.onProgress?.({loaded:this._loaded});let S=new Uint8Array(A).buffer;return{value:S,done:!1}}cancel(A){if(!this._readableStream){this._error(A);return}this._readableStream.destroy(A)}_error(A){this._storedError=A,this._readCapability.resolve()}_setReadableStream(A){this._readableStream=A,A.on("readable",()=>{this._readCapability.resolve()}),A.on("end",()=>{A.destroy(),this._done=!0,this._readCapability.resolve()}),A.on("error",A=>{this._error(A)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function N(A,S){return{protocol:A.protocol,auth:A.auth,host:A.hostname,port:A.port,path:A.path,method:"GET",headers:S}}class B extends D{constructor(A){super(A);let S=S=>{if(404===S.statusCode){let A=new M.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A,this._headersCapability.reject(A);return}this._headersCapability.resolve(),this._setReadableStream(S);let T=A=>this._readableStream.headers[A.toLowerCase()],{allowRangeRequests:O,suggestedLength:I}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:A.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=O,this._contentLength=I||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(T)};if(this._request=null,"http:"===this._url.protocol){let T=__webpack_require__(2001);this._request=T.request(N(this._url,A.httpHeaders),S)}else{let T=__webpack_require__(33779);this._request=T.request(N(this._url,A.httpHeaders),S)}this._request.on("error",A=>{this._storedError=A,this._headersCapability.reject(A)}),this._request.end()}}class $ extends L{constructor(A,S,T){for(let S in super(A),this._httpHeaders={},A.httpHeaders){let T=A.httpHeaders[S];void 0!==T&&(this._httpHeaders[S]=T)}this._httpHeaders.Range=`bytes=${S}-${T-1}`;let R=A=>{if(404===A.statusCode){let A=new M.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A;return}this._setReadableStream(A)};if(this._request=null,"http:"===this._url.protocol){let A=__webpack_require__(2001);this._request=A.request(N(this._url,this._httpHeaders),R)}else{let A=__webpack_require__(33779);this._request=A.request(N(this._url,this._httpHeaders),R)}this._request.on("error",A=>{this._storedError=A}),this._request.end()}}class z extends D{constructor(A){super(A);let S=decodeURIComponent(this._url.path);O.test(this._url.href)&&(S=S.replace(/^\//,""));let T=__webpack_require__(70172);T.lstat(S,(A,R)=>{if(A){"ENOENT"===A.code&&(A=new M.MissingPDFException(`Missing PDF "${S}".`)),this._storedError=A,this._headersCapability.reject(A);return}this._contentLength=R.size,this._setReadableStream(T.createReadStream(S)),this._headersCapability.resolve()})}}class H extends L{constructor(A,S,T){super(A);let M=decodeURIComponent(this._url.path);O.test(this._url.href)&&(M=M.replace(/^\//,""));let R=__webpack_require__(70172);this._setReadableStream(R.createReadStream(M,{start:S,end:T-1}))}}},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.SVGGraphics=void 0;var M=T(6),R=T(1);let O={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},I="http://www.w3.org/XML/1998/namespace",F="http://www.w3.org/1999/xlink",D=["butt","round","square"],L=["miter","round","bevel"],N=function(A,S="",T=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!T)return URL.createObjectURL(new Blob([A],{type:S}));let M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",R=`data:${S};base64,`;for(let S=0,T=A.length;S<T;S+=3){let O=255&A[S],I=255&A[S+1],F=255&A[S+2],D=O>>2,L=(3&O)<<4|I>>4,N=S+1<T?(15&I)<<2|F>>6:64,B=S+2<T?63&F:64;R+=M[D]+M[L]+M[N]+M[B]}return R},B=function(){let A=new Uint8Array([137,80,78,71,13,10,26,10]),S=12,T=new Int32Array(256);for(let A=0;A<256;A++){let S=A;for(let A=0;A<8;A++)S=1&S?3988292384^S>>1&2147483647:S>>1&2147483647;T[A]=S}function M(A,S,M){let R=-1;for(let O=S;O<M;O++){let S=(R^A[O])&255,M=T[S];R=R>>>8^M}return -1^R}function O(A,S,T,R){let O=R,I=S.length;T[O]=I>>24&255,T[O+1]=I>>16&255,T[O+2]=I>>8&255,T[O+3]=255&I,T[O+=4]=255&A.charCodeAt(0),T[O+1]=255&A.charCodeAt(1),T[O+2]=255&A.charCodeAt(2),T[O+3]=255&A.charCodeAt(3),O+=4,T.set(S,O),O+=S.length;let F=M(T,R+4,O);T[O]=F>>24&255,T[O+1]=F>>16&255,T[O+2]=F>>8&255,T[O+3]=255&F}function I(A,S,T){let M=1,R=0;for(let O=S;O<T;++O)R=(R+(M=(M+(255&A[O]))%65521))%65521;return R<<16|M}function F(A){if(!R.isNodeJS)return D(A);try{let S=parseInt(process.versions.node)>=8?A:Buffer.from(A),T=__webpack_require__(82258).deflateSync(S,{level:9});return T instanceof Uint8Array?T:new Uint8Array(T)}catch(A){(0,R.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+A)}return D(A)}function D(A){let S=A.length,T=65535,M=Math.ceil(S/T),R=new Uint8Array(2+S+5*M+4),O=0;R[O++]=120,R[O++]=156;let F=0;for(;S>T;)R[O++]=0,R[O++]=255,R[O++]=255,R[O++]=0,R[O++]=0,R.set(A.subarray(F,F+T),O),O+=T,F+=T,S-=T;R[O++]=1,R[O++]=255&S,R[O++]=S>>8&255,R[O++]=255&~S,R[O++]=(65535&~S)>>8&255,R.set(A.subarray(F),O),O+=A.length-F;let D=I(A,0,A.length);return R[O++]=D>>24&255,R[O++]=D>>16&255,R[O++]=D>>8&255,R[O++]=255&D,R}function L(T,M,I,D){let L,B,$;let z=T.width,H=T.height,V=T.data;switch(M){case R.ImageKind.GRAYSCALE_1BPP:B=0,L=1,$=z+7>>3;break;case R.ImageKind.RGB_24BPP:B=2,L=8,$=3*z;break;case R.ImageKind.RGBA_32BPP:B=6,L=8,$=4*z;break;default:throw Error("invalid format")}let W=new Uint8Array((1+$)*H),X=0,K=0;for(let A=0;A<H;++A)W[X++]=0,W.set(V.subarray(K,K+$),X),K+=$,X+=$;if(M===R.ImageKind.GRAYSCALE_1BPP&&D){X=0;for(let A=0;A<H;A++){X++;for(let A=0;A<$;A++)W[X++]^=255}}let Y=new Uint8Array([z>>24&255,z>>16&255,z>>8&255,255&z,H>>24&255,H>>16&255,H>>8&255,255&H,L,B,0,0,0]),J=F(W),Q=A.length+3*S+Y.length+J.length,Z=new Uint8Array(Q),tt=0;return Z.set(A,tt),O("IHDR",Y,Z,tt+=A.length),O("IDATA",J,Z,tt+=S+Y.length),tt+=S+J.length,O("IEND",new Uint8Array(0),Z,tt),N(Z,"image/png",I)}return function(A,S,T){let M=void 0===A.kind?R.ImageKind.GRAYSCALE_1BPP:A.kind;return L(A,M,S,T)}}();class ${constructor(){this.fontSizeScale=1,this.fontWeight=O.fontWeight,this.fontSize=0,this.textMatrix=R.IDENTITY_MATRIX,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=R.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=O.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(A,S){this.x=A,this.y=S}}function z(A){let S=[],T=[];for(let M of A){if("save"===M.fn){S.push({fnId:92,fn:"group",items:[]}),T.push(S),S=S.at(-1).items;continue}"restore"===M.fn?S=T.pop():S.push(M)}return S}function H(A){if(Number.isInteger(A))return A.toString();let S=A.toFixed(10),T=S.length-1;if("0"!==S[T])return S;do T--;while("0"===S[T]);return S.substring(0,"."===S[T]?T:T+1)}function V(A){if(0===A[4]&&0===A[5]){if(0===A[1]&&0===A[2])return 1===A[0]&&1===A[3]?"":`scale(${H(A[0])} ${H(A[3])})`;if(A[0]===A[3]&&A[1]===-A[2]){let S=180*Math.acos(A[0])/Math.PI;return`rotate(${H(S)})`}}else if(1===A[0]&&0===A[1]&&0===A[2]&&1===A[3])return`translate(${H(A[4])} ${H(A[5])})`;return`matrix(${H(A[0])} ${H(A[1])} ${H(A[2])} ${H(A[3])} ${H(A[4])} ${H(A[5])})`}let W=0,X=0,K=0;class Y{constructor(A,S,T=!1){for(let O in(0,M.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new M.DOMSVGFactory,this.current=new $,this.transformMatrix=R.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=A,this.objs=S,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!T,this._operatorIdMapping=[],R.OPS)this._operatorIdMapping[R.OPS[O]]=O}getObject(A,S=null){return"string"==typeof A?A.startsWith("g_")?this.commonObjs.get(A):this.objs.get(A):S}save(){this.transformStack.push(this.transformMatrix);let A=this.current;this.extraStack.push(A),this.current=A.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(A){this.save(),this.executeOpTree(A),this.restore()}loadDependencies(A){let S=A.fnArray,T=A.argsArray;for(let A=0,M=S.length;A<M;A++)if(S[A]===R.OPS.dependency)for(let S of T[A]){let A=S.startsWith("g_")?this.commonObjs:this.objs,T=new Promise(T=>{A.get(S,T)});this.current.dependencies.push(T)}return Promise.all(this.current.dependencies)}transform(A,S,T,M,O,I){let F=[A,S,T,M,O,I];this.transformMatrix=R.Util.transform(this.transformMatrix,F),this.tgrp=null}getSVG(A,S){this.viewport=S;let T=this._initialize(S);return this.loadDependencies(A).then(()=>(this.transformMatrix=R.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(A)),T))}convertOpList(A){let S=this._operatorIdMapping,T=A.argsArray,M=A.fnArray,R=[];for(let A=0,O=M.length;A<O;A++){let O=M[A];R.push({fnId:O,fn:S[O],args:T[A]})}return z(R)}executeOpTree(A){for(let S of A){let A=S.fn,T=S.fnId,M=S.args;switch(0|T){case R.OPS.beginText:this.beginText();break;case R.OPS.dependency:break;case R.OPS.setLeading:this.setLeading(M);break;case R.OPS.setLeadingMoveText:this.setLeadingMoveText(M[0],M[1]);break;case R.OPS.setFont:this.setFont(M);break;case R.OPS.showText:case R.OPS.showSpacedText:this.showText(M[0]);break;case R.OPS.endText:this.endText();break;case R.OPS.moveText:this.moveText(M[0],M[1]);break;case R.OPS.setCharSpacing:this.setCharSpacing(M[0]);break;case R.OPS.setWordSpacing:this.setWordSpacing(M[0]);break;case R.OPS.setHScale:this.setHScale(M[0]);break;case R.OPS.setTextMatrix:this.setTextMatrix(M[0],M[1],M[2],M[3],M[4],M[5]);break;case R.OPS.setTextRise:this.setTextRise(M[0]);break;case R.OPS.setTextRenderingMode:this.setTextRenderingMode(M[0]);break;case R.OPS.setLineWidth:this.setLineWidth(M[0]);break;case R.OPS.setLineJoin:this.setLineJoin(M[0]);break;case R.OPS.setLineCap:this.setLineCap(M[0]);break;case R.OPS.setMiterLimit:this.setMiterLimit(M[0]);break;case R.OPS.setFillRGBColor:this.setFillRGBColor(M[0],M[1],M[2]);break;case R.OPS.setStrokeRGBColor:this.setStrokeRGBColor(M[0],M[1],M[2]);break;case R.OPS.setStrokeColorN:this.setStrokeColorN(M);break;case R.OPS.setFillColorN:this.setFillColorN(M);break;case R.OPS.shadingFill:this.shadingFill(M[0]);break;case R.OPS.setDash:this.setDash(M[0],M[1]);break;case R.OPS.setRenderingIntent:this.setRenderingIntent(M[0]);break;case R.OPS.setFlatness:this.setFlatness(M[0]);break;case R.OPS.setGState:this.setGState(M[0]);break;case R.OPS.fill:this.fill();break;case R.OPS.eoFill:this.eoFill();break;case R.OPS.stroke:this.stroke();break;case R.OPS.fillStroke:this.fillStroke();break;case R.OPS.eoFillStroke:this.eoFillStroke();break;case R.OPS.clip:this.clip("nonzero");break;case R.OPS.eoClip:this.clip("evenodd");break;case R.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case R.OPS.paintImageXObject:this.paintImageXObject(M[0]);break;case R.OPS.paintInlineImageXObject:this.paintInlineImageXObject(M[0]);break;case R.OPS.paintImageMaskXObject:this.paintImageMaskXObject(M[0]);break;case R.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(M[0],M[1]);break;case R.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case R.OPS.closePath:this.closePath();break;case R.OPS.closeStroke:this.closeStroke();break;case R.OPS.closeFillStroke:this.closeFillStroke();break;case R.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case R.OPS.nextLine:this.nextLine();break;case R.OPS.transform:this.transform(M[0],M[1],M[2],M[3],M[4],M[5]);break;case R.OPS.constructPath:this.constructPath(M[0],M[1]);break;case R.OPS.endPath:this.endPath();break;case 92:this.group(S.items);break;default:(0,R.warn)(`Unimplemented operator ${A}`)}}}setWordSpacing(A){this.current.wordSpacing=A}setCharSpacing(A){this.current.charSpacing=A}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(A,S,T,M,R,O){let I=this.current;I.textMatrix=I.lineMatrix=[A,S,T,M,R,O],I.textMatrixScale=Math.hypot(A,S),I.x=I.lineX=0,I.y=I.lineY=0,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${H(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",H(-I.y)),I.txtElement=this.svgFactory.createElement("svg:text"),I.txtElement.append(I.tspan)}beginText(){let A=this.current;A.x=A.lineX=0,A.y=A.lineY=0,A.textMatrix=R.IDENTITY_MATRIX,A.lineMatrix=R.IDENTITY_MATRIX,A.textMatrixScale=1,A.tspan=this.svgFactory.createElement("svg:tspan"),A.txtElement=this.svgFactory.createElement("svg:text"),A.txtgrp=this.svgFactory.createElement("svg:g"),A.xcoords=[],A.ycoords=[]}moveText(A,S){let T=this.current;T.x=T.lineX+=A,T.y=T.lineY+=S,T.xcoords=[],T.ycoords=[],T.tspan=this.svgFactory.createElement("svg:tspan"),T.tspan.setAttributeNS(null,"font-family",T.fontFamily),T.tspan.setAttributeNS(null,"font-size",`${H(T.fontSize)}px`),T.tspan.setAttributeNS(null,"y",H(-T.y))}showText(A){let S=this.current,T=S.font,M=S.fontSize;if(0===M)return;let F=S.fontSizeScale,D=S.charSpacing,L=S.wordSpacing,N=S.fontDirection,B=S.textHScale*N,$=T.vertical,z=$?1:-1,W=T.defaultVMetrics,X=M*S.fontMatrix[0],K=0;for(let R of A){let A,O;if(null===R){K+=N*L;continue}if("number"==typeof R){K+=z*R*M/1e3;continue}let I=(R.isSpace?L:0)+D,B=R.fontChar,H=R.width;if($){let S;let T=R.vmetric||W;S=-(S=R.vmetric?T[1]:.5*H)*X;let M=T[2]*X;H=T?-T[0]:H,A=S/F,O=(K+M)/F}else A=K/F,O=0;(R.isInFont||T.missingFile)&&(S.xcoords.push(S.x+A),$&&S.ycoords.push(-S.y+O),S.tspan.textContent+=B);let V=$?H*X-I*N:H*X+I*N;K+=V}S.tspan.setAttributeNS(null,"x",S.xcoords.map(H).join(" ")),$?S.tspan.setAttributeNS(null,"y",S.ycoords.map(H).join(" ")):S.tspan.setAttributeNS(null,"y",H(-S.y)),$?S.y-=K:S.x+=K*B,S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size",`${H(S.fontSize)}px`),S.fontStyle!==O.fontStyle&&S.tspan.setAttributeNS(null,"font-style",S.fontStyle),S.fontWeight!==O.fontWeight&&S.tspan.setAttributeNS(null,"font-weight",S.fontWeight);let Y=S.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;if(Y===R.TextRenderingMode.FILL||Y===R.TextRenderingMode.FILL_STROKE?(S.fillColor!==O.fillColor&&S.tspan.setAttributeNS(null,"fill",S.fillColor),S.fillAlpha<1&&S.tspan.setAttributeNS(null,"fill-opacity",S.fillAlpha)):S.textRenderingMode===R.TextRenderingMode.ADD_TO_PATH?S.tspan.setAttributeNS(null,"fill","transparent"):S.tspan.setAttributeNS(null,"fill","none"),Y===R.TextRenderingMode.STROKE||Y===R.TextRenderingMode.FILL_STROKE){let A=1/(S.textMatrixScale||1);this._setStrokeAttributes(S.tspan,A)}let J=S.textMatrix;0!==S.textRise&&(J=J.slice(),J[5]+=S.textRise),S.txtElement.setAttributeNS(null,"transform",`${V(J)} scale(${H(B)}, -1)`),S.txtElement.setAttributeNS(I,"xml:space","preserve"),S.txtElement.append(S.tspan),S.txtgrp.append(S.txtElement),this._ensureTransformGroup().append(S.txtElement)}setLeadingMoveText(A,S){this.setLeading(-S),this.moveText(A,S)}addFontStyle(A){if(!A.data)throw Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let S=N(A.data,A.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${A.loadedName}"; src: url(${S}); }
`}setFont(A){let S=this.current,T=this.commonObjs.get(A[0]),M=A[1];S.font=T,!this.embedFonts||T.missingFile||this.embeddedFonts[T.loadedName]||(this.addFontStyle(T),this.embeddedFonts[T.loadedName]=T),S.fontMatrix=T.fontMatrix||R.FONT_IDENTITY_MATRIX;let O="normal";T.black?O="900":T.bold&&(O="bold");let I=T.italic?"italic":"normal";M<0?(M=-M,S.fontDirection=-1):S.fontDirection=1,S.fontSize=M,S.fontFamily=T.loadedName,S.fontWeight=O,S.fontStyle=I,S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"y",H(-S.y)),S.xcoords=[],S.ycoords=[]}endText(){let A=this.current;A.textRenderingMode&R.TextRenderingMode.ADD_TO_PATH_FLAG&&A.txtElement?.hasChildNodes()&&(A.element=A.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(A){A>0&&(this.current.lineWidth=A)}setLineCap(A){this.current.lineCap=D[A]}setLineJoin(A){this.current.lineJoin=L[A]}setMiterLimit(A){this.current.miterLimit=A}setStrokeAlpha(A){this.current.strokeAlpha=A}setStrokeRGBColor(A,S,T){this.current.strokeColor=R.Util.makeHexColor(A,S,T)}setFillAlpha(A){this.current.fillAlpha=A}setFillRGBColor(A,S,T){this.current.fillColor=R.Util.makeHexColor(A,S,T),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(A){this.current.strokeColor=this._makeColorN_Pattern(A)}setFillColorN(A){this.current.fillColor=this._makeColorN_Pattern(A)}shadingFill(A){let{width:S,height:T}=this.viewport,M=R.Util.inverseTransform(this.transformMatrix),[O,I,F,D]=R.Util.getAxialAlignedBoundingBox([0,0,S,T],M),L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x",O),L.setAttributeNS(null,"y",I),L.setAttributeNS(null,"width",F-O),L.setAttributeNS(null,"height",D-I),L.setAttributeNS(null,"fill",this._makeShadingPattern(A)),this.current.fillAlpha<1&&L.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(L)}_makeColorN_Pattern(A){return"TilingPattern"===A[0]?this._makeTilingPattern(A):this._makeShadingPattern(A)}_makeTilingPattern(A){let S=A[1],T=A[2],M=A[3]||R.IDENTITY_MATRIX,[O,I,F,D]=A[4],L=A[5],N=A[6],B=A[7],$=`shading${K++}`,[z,H,V,W]=R.Util.normalizeRect([...R.Util.applyTransform([O,I],M),...R.Util.applyTransform([F,D],M)]),[X,Y]=R.Util.singularValueDecompose2dScale(M),J=L*X,Q=N*Y,Z=this.svgFactory.createElement("svg:pattern");Z.setAttributeNS(null,"id",$),Z.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Z.setAttributeNS(null,"width",J),Z.setAttributeNS(null,"height",Q),Z.setAttributeNS(null,"x",`${z}`),Z.setAttributeNS(null,"y",`${H}`);let tt=this.svg,te=this.transformMatrix,ti=this.current.fillColor,tr=this.current.strokeColor,tn=this.svgFactory.create(V-z,W-H);if(this.svg=tn,this.transformMatrix=M,2===B){let A=R.Util.makeHexColor(...S);this.current.fillColor=A,this.current.strokeColor=A}return this.executeOpTree(this.convertOpList(T)),this.svg=tt,this.transformMatrix=te,this.current.fillColor=ti,this.current.strokeColor=tr,Z.append(tn.childNodes[0]),this.defs.append(Z),`url(#${$})`}_makeShadingPattern(A){switch("string"==typeof A&&(A=this.objs.get(A)),A[0]){case"RadialAxial":let S;let T=`shading${K++}`,M=A[3];switch(A[1]){case"axial":let O=A[4],I=A[5];(S=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",T),S.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),S.setAttributeNS(null,"x1",O[0]),S.setAttributeNS(null,"y1",O[1]),S.setAttributeNS(null,"x2",I[0]),S.setAttributeNS(null,"y2",I[1]);break;case"radial":let F=A[4],D=A[5],L=A[6],N=A[7];(S=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",T),S.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),S.setAttributeNS(null,"cx",D[0]),S.setAttributeNS(null,"cy",D[1]),S.setAttributeNS(null,"r",N),S.setAttributeNS(null,"fx",F[0]),S.setAttributeNS(null,"fy",F[1]),S.setAttributeNS(null,"fr",L);break;default:throw Error(`Unknown RadialAxial type: ${A[1]}`)}for(let A of M){let T=this.svgFactory.createElement("svg:stop");T.setAttributeNS(null,"offset",A[0]),T.setAttributeNS(null,"stop-color",A[1]),S.append(T)}return this.defs.append(S),`url(#${T})`;case"Mesh":return(0,R.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw Error(`Unknown IR type: ${A[0]}`)}}setDash(A,S){this.current.dashArray=A,this.current.dashPhase=S}constructPath(A,S){let T=this.current,M=T.x,O=T.y,I=[],F=0;for(let T of A)switch(0|T){case R.OPS.rectangle:M=S[F++],O=S[F++];let A=S[F++],D=S[F++],L=M+A,N=O+D;I.push("M",H(M),H(O),"L",H(L),H(O),"L",H(L),H(N),"L",H(M),H(N),"Z");break;case R.OPS.moveTo:M=S[F++],O=S[F++],I.push("M",H(M),H(O));break;case R.OPS.lineTo:M=S[F++],O=S[F++],I.push("L",H(M),H(O));break;case R.OPS.curveTo:M=S[F+4],O=S[F+5],I.push("C",H(S[F]),H(S[F+1]),H(S[F+2]),H(S[F+3]),H(M),H(O)),F+=6;break;case R.OPS.curveTo2:I.push("C",H(M),H(O),H(S[F]),H(S[F+1]),H(S[F+2]),H(S[F+3])),M=S[F+2],O=S[F+3],F+=4;break;case R.OPS.curveTo3:M=S[F+2],O=S[F+3],I.push("C",H(S[F]),H(S[F+1]),H(M),H(O),H(M),H(O)),F+=4;break;case R.OPS.closePath:I.push("Z")}I=I.join(" "),T.path&&A.length>0&&A[0]!==R.OPS.rectangle&&A[0]!==R.OPS.moveTo?I=T.path.getAttributeNS(null,"d")+I:(T.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(T.path)),T.path.setAttributeNS(null,"d",I),T.path.setAttributeNS(null,"fill","none"),T.element=T.path,T.setCurrentPoint(M,O)}endPath(){let A=this.current;if(A.path=null,!this.pendingClip)return;if(!A.element){this.pendingClip=null;return}let S=`clippath${W++}`,T=this.svgFactory.createElement("svg:clipPath");T.setAttributeNS(null,"id",S),T.setAttributeNS(null,"transform",V(this.transformMatrix));let M=A.element.cloneNode(!0);if("evenodd"===this.pendingClip?M.setAttributeNS(null,"clip-rule","evenodd"):M.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,T.append(M),this.defs.append(T),A.activeClipUrl){for(let S of(A.clipGroup=null,this.extraStack))S.clipGroup=null;T.setAttributeNS(null,"clip-path",A.activeClipUrl)}A.activeClipUrl=`url(#${S})`,this.tgrp=null}clip(A){this.pendingClip=A}closePath(){let A=this.current;if(A.path){let S=`${A.path.getAttributeNS(null,"d")}Z`;A.path.setAttributeNS(null,"d",S)}}setLeading(A){this.current.leading=-A}setTextRise(A){this.current.textRise=A}setTextRenderingMode(A){this.current.textRenderingMode=A}setHScale(A){this.current.textHScale=A/100}setRenderingIntent(A){}setFlatness(A){}setGState(A){for(let[S,T]of A)switch(S){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T);break;case"CA":this.setStrokeAlpha(T);break;case"ca":this.setFillAlpha(T);break;default:(0,R.warn)(`Unimplemented graphic state operator ${S}`)}}fill(){let A=this.current;A.element&&(A.element.setAttributeNS(null,"fill",A.fillColor),A.element.setAttributeNS(null,"fill-opacity",A.fillAlpha),this.endPath())}stroke(){let A=this.current;A.element&&(this._setStrokeAttributes(A.element),A.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(A,S=1){let T=this.current,M=T.dashArray;1!==S&&M.length>0&&(M=M.map(function(A){return S*A})),A.setAttributeNS(null,"stroke",T.strokeColor),A.setAttributeNS(null,"stroke-opacity",T.strokeAlpha),A.setAttributeNS(null,"stroke-miterlimit",H(T.miterLimit)),A.setAttributeNS(null,"stroke-linecap",T.lineCap),A.setAttributeNS(null,"stroke-linejoin",T.lineJoin),A.setAttributeNS(null,"stroke-width",H(S*T.lineWidth)+"px"),A.setAttributeNS(null,"stroke-dasharray",M.map(H).join(" ")),A.setAttributeNS(null,"stroke-dashoffset",H(S*T.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x","0"),A.setAttributeNS(null,"y","0"),A.setAttributeNS(null,"width","1px"),A.setAttributeNS(null,"height","1px"),A.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(A)}paintImageXObject(A){let S=this.getObject(A);if(!S){(0,R.warn)(`Dependent image with object ID ${A} is not ready yet`);return}this.paintInlineImageXObject(S)}paintInlineImageXObject(A,S){let T=A.width,M=A.height,R=B(A,this.forceDataSchema,!!S),O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width",H(T)),O.setAttributeNS(null,"height",H(M)),this.current.element=O,this.clip("nonzero");let I=this.svgFactory.createElement("svg:image");I.setAttributeNS(F,"xlink:href",R),I.setAttributeNS(null,"x","0"),I.setAttributeNS(null,"y",H(-M)),I.setAttributeNS(null,"width",H(T)+"px"),I.setAttributeNS(null,"height",H(M)+"px"),I.setAttributeNS(null,"transform",`scale(${H(1/T)} ${H(-1/M)})`),S?S.append(I):this._ensureTransformGroup().append(I)}paintImageMaskXObject(A){let S=this.getObject(A.data,A);if(S.bitmap){(0,R.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let T=this.current,M=S.width,O=S.height,I=T.fillColor;T.maskId=`mask${X++}`;let F=this.svgFactory.createElement("svg:mask");F.setAttributeNS(null,"id",T.maskId);let D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width",H(M)),D.setAttributeNS(null,"height",H(O)),D.setAttributeNS(null,"fill",I),D.setAttributeNS(null,"mask",`url(#${T.maskId})`),this.defs.append(F),this._ensureTransformGroup().append(D),this.paintInlineImageXObject(S,F)}paintFormXObjectBegin(A,S){if(Array.isArray(A)&&6===A.length&&this.transform(A[0],A[1],A[2],A[3],A[4],A[5]),S){let A=S[2]-S[0],T=S[3]-S[1],M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x",S[0]),M.setAttributeNS(null,"y",S[1]),M.setAttributeNS(null,"width",H(A)),M.setAttributeNS(null,"height",H(T)),this.current.element=M,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(A){let S=this.svgFactory.create(A.width,A.height),T=this.svgFactory.createElement("svg:defs");S.append(T),this.defs=T;let M=this.svgFactory.createElement("svg:g");return M.setAttributeNS(null,"transform",V(A.transform)),S.append(M),this.svg=M,S}_ensureClipGroup(){if(!this.current.clipGroup){let A=this.svgFactory.createElement("svg:g");A.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(A),this.current.clipGroup=A}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",V(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}S.SVGGraphics=Y},(A,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.XfaText=void 0;class T{static textContent(A){let S=[],M={items:S,styles:Object.create(null)};function R(A){if(!A)return;let M=null,O=A.name;if("#text"===O)M=A.value;else{if(!T.shouldBuildText(O))return;A?.attributes?.textContent?M=A.attributes.textContent:A.value&&(M=A.value)}if(null!==M&&S.push({str:M}),A.children)for(let S of A.children)R(S)}return R(A),M}static shouldBuildText(A){return!("textarea"===A||"input"===A||"option"===A||"select"===A)}}S.XfaText=T},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.TextLayerRenderTask=void 0,S.renderTextLayer=V,S.updateTextLayer=W;var M=T(1),R=T(6);let O=1e5,I=30,F=.8,D=new Map;function L(A,S){let T;if(S&&M.FeatureTest.isOffscreenCanvasSupported)T=new OffscreenCanvas(A,A).getContext("2d",{alpha:!1});else{let S=document.createElement("canvas");S.width=S.height=A,T=S.getContext("2d",{alpha:!1})}return T}function N(A,S){let T=D.get(A);if(T)return T;let M=L(I,S);M.font=`${I}px ${A}`;let R=M.measureText(""),O=R.fontBoundingBoxAscent,N=Math.abs(R.fontBoundingBoxDescent);if(O){let S=O/(O+N);return D.set(A,S),M.canvas.width=M.canvas.height=0,S}M.strokeStyle="red",M.clearRect(0,0,I,I),M.strokeText("g",0,0);let B=M.getImageData(0,0,I,I).data;N=0;for(let A=B.length-1-3;A>=0;A-=4)if(B[A]>0){N=Math.ceil(A/4/I);break}M.clearRect(0,0,I,I),M.strokeText("A",0,I),B=M.getImageData(0,0,I,I).data,O=0;for(let A=0,S=B.length;A<S;A+=4)if(B[A]>0){O=I-Math.floor(A/4/I);break}if(M.canvas.width=M.canvas.height=0,O){let S=O/(O+N);return D.set(A,S),S}return D.set(A,F),F}function B(A,S,T){let R,O;let I=document.createElement("span"),F={angle:0,canvasWidth:0,hasText:""!==S.str,hasEOL:S.hasEOL,fontSize:0};A._textDivs.push(I);let D=M.Util.transform(A._transform,S.transform),L=Math.atan2(D[1],D[0]),B=T[S.fontName];B.vertical&&(L+=Math.PI/2);let $=Math.hypot(D[2],D[3]),z=$*N(B.fontFamily,A._isOffscreenCanvasSupported);0===L?(R=D[4],O=D[5]-z):(R=D[4]+z*Math.sin(L),O=D[5]-z*Math.cos(L));let H="calc(var(--scale-factor)*",V=I.style;A._container===A._rootContainer?(V.left=`${(100*R/A._pageWidth).toFixed(2)}%`,V.top=`${(100*O/A._pageHeight).toFixed(2)}%`):(V.left=`${H}${R.toFixed(2)}px)`,V.top=`${H}${O.toFixed(2)}px)`),V.fontSize=`${H}${$.toFixed(2)}px)`,V.fontFamily=B.fontFamily,F.fontSize=$,I.setAttribute("role","presentation"),I.textContent=S.str,I.dir=S.dir,A._fontInspectorEnabled&&(I.dataset.fontName=S.fontName),0!==L&&(F.angle=L*(180/Math.PI));let W=!1;if(S.str.length>1)W=!0;else if(" "!==S.str&&S.transform[0]!==S.transform[3]){let A=Math.abs(S.transform[0]),T=Math.abs(S.transform[3]);A!==T&&Math.max(A,T)/Math.min(A,T)>1.5&&(W=!0)}W&&(F.canvasWidth=B.vertical?S.height:S.width),A._textDivProperties.set(I,F),A._isReadableStream&&A._layoutText(I)}function $(A){let{div:S,scale:T,properties:M,ctx:R,prevFontSize:O,prevFontFamily:I}=A,{style:F}=S,D="";if(0!==M.canvasWidth&&M.hasText){let{fontFamily:L}=F,{canvasWidth:N,fontSize:B}=M;(O!==B||I!==L)&&(R.font=`${B*T}px ${L}`,A.prevFontSize=B,A.prevFontFamily=L);let{width:$}=R.measureText(S.textContent);$>0&&(D=`scaleX(${N*T/$})`)}0!==M.angle&&(D=`rotate(${M.angle}deg) ${D}`),D.length>0&&(F.transform=D)}function z(A){if(A._canceled)return;let S=A._textDivs,T=A._capability,M=S.length;if(M>O){T.resolve();return}if(!A._isReadableStream)for(let T of S)A._layoutText(T);T.resolve()}class H{constructor({textContentSource:A,container:S,viewport:T,textDivs:O,textDivProperties:I,textContentItemsStr:F,isOffscreenCanvasSupported:D}){this._textContentSource=A,this._isReadableStream=A instanceof ReadableStream,this._container=this._rootContainer=S,this._textDivs=O||[],this._textContentItemsStr=F||[],this._isOffscreenCanvasSupported=D,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=I||new WeakMap,this._canceled=!1,this._capability=new M.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:T.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:L(0,D)};let{pageWidth:N,pageHeight:B,pageX:$,pageY:z}=T.rawDims;this._transform=[1,0,0,-1,-$,z+B],this._pageWidth=N,this._pageHeight=B,(0,R.setLayerDimensions)(S,T),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new M.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new M.AbortException("TextLayer task cancelled."))}_processItems(A,S){for(let T of A){if(void 0===T.str){if("beginMarkedContentProps"===T.type||"beginMarkedContent"===T.type){let A=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==T.id&&this._container.setAttribute("id",`${T.id}`),A.append(this._container)}else"endMarkedContent"===T.type&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(T.str),B(this,T,S)}}_layoutText(A){let S=this._layoutTextParams.properties=this._textDivProperties.get(A);if(this._layoutTextParams.div=A,$(this._layoutTextParams),S.hasText&&this._container.append(A),S.hasEOL){let A=document.createElement("br");A.setAttribute("role","presentation"),this._container.append(A)}}_render(){let A=new M.PromiseCapability,S=Object.create(null);if(this._isReadableStream){let T=()=>{this._reader.read().then(({value:M,done:R})=>{if(R){A.resolve();return}Object.assign(S,M.styles),this._processItems(M.items,S),T()},A.reject)};this._reader=this._textContentSource.getReader(),T()}else if(this._textContentSource){let{items:S,styles:T}=this._textContentSource;this._processItems(S,T),A.resolve()}else throw Error('No "textContentSource" parameter specified.');A.promise.then(()=>{S=null,z(this)},this._capability.reject)}}function V(A){!A.textContentSource&&(A.textContent||A.textContentStream)&&((0,R.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),A.textContentSource=A.textContent||A.textContentStream);let{container:S,viewport:T}=A,M=getComputedStyle(S),O=M.getPropertyValue("visibility"),I=parseFloat(M.getPropertyValue("--scale-factor"));"visible"===O&&(!I||Math.abs(I-T.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let F=new H(A);return F._render(),F}function W({container:A,viewport:S,textDivs:T,textDivProperties:M,isOffscreenCanvasSupported:O,mustRotate:I=!0,mustRescale:F=!0}){if(I&&(0,R.setLayerDimensions)(A,{rotation:S.rotation}),F){let A=L(0,O),R=S.scale*(globalThis.devicePixelRatio||1),I={prevFontSize:null,prevFontFamily:null,div:null,scale:R,properties:null,ctx:A};for(let A of T)I.properties=M.get(A),I.div=A,$(I)}}S.TextLayerRenderTask=H},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.AnnotationEditorLayer=void 0;var M=T(1),R=T(4),O=T(28),I=T(33),F=T(6),D=T(34);class L{#ec;#ep=!1;#ef=null;#eg=this.pointerup.bind(this);#em=this.pointerdown.bind(this);#eb=new Map;#ey=!1;#ev=!1;#eA=!1;#e_;static _initialized=!1;constructor({uiManager:A,pageIndex:S,div:T,accessibilityManager:M,annotationLayer:R,viewport:F,l10n:N}){let B=[O.FreeTextEditor,I.InkEditor,D.StampEditor];if(!L._initialized)for(let A of(L._initialized=!0,B))A.initialize(N);A.registerEditorTypes(B),this.#e_=A,this.pageIndex=S,this.div=T,this.#ec=M,this.#ef=R,this.viewport=F,this.#e_.addLayer(this)}get isEmpty(){return 0===this.#eb.size}updateToolbar(A){this.#e_.updateToolbar(A)}updateMode(A=this.#e_.getMode()){this.#eE(),A===M.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),A!==M.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",A===M.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",A===M.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",A===M.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(A){if(!A&&this.#e_.getMode()!==M.AnnotationEditorType.INK)return;if(!A){for(let A of this.#eb.values())if(A.isEmpty()){A.setInBackground();return}}let S=this.#eS({offsetX:0,offsetY:0},!1);S.setInBackground()}setEditingState(A){this.#e_.setEditingState(A)}addCommands(A){this.#e_.addCommands(A)}enable(){this.div.style.pointerEvents="auto";let A=new Set;for(let S of this.#eb.values())S.enableEditing(),S.annotationElementId&&A.add(S.annotationElementId);if(!this.#ef)return;let S=this.#ef.getEditableAnnotations();for(let T of S){if(T.hide(),this.#e_.isDeletedAnnotationElement(T.data.id)||A.has(T.data.id))continue;let S=this.deserialize(T);S&&(this.addOrRebuild(S),S.enableEditing())}}disable(){this.#eA=!0,this.div.style.pointerEvents="none";let A=new Set;for(let S of this.#eb.values()){if(S.disableEditing(),!S.annotationElementId||null!==S.serialize()){A.add(S.annotationElementId);continue}this.getEditableAnnotation(S.annotationElementId)?.show(),S.remove()}if(this.#ef){let S=this.#ef.getEditableAnnotations();for(let T of S){let{id:S}=T.data;A.has(S)||this.#e_.isDeletedAnnotationElement(S)||T.show()}}this.#eE(),this.isEmpty&&(this.div.hidden=!0),this.#eA=!1}getEditableAnnotation(A){return this.#ef?.getEditableAnnotation(A)||null}setActiveEditor(A){let S=this.#e_.getActive();S!==A&&this.#e_.setActiveEditor(A)}enableClick(){this.div.addEventListener("pointerdown",this.#em),this.div.addEventListener("pointerup",this.#eg)}disableClick(){this.div.removeEventListener("pointerdown",this.#em),this.div.removeEventListener("pointerup",this.#eg)}attach(A){this.#eb.set(A.id,A);let{annotationElementId:S}=A;S&&this.#e_.isDeletedAnnotationElement(S)&&this.#e_.removeDeletedAnnotationElement(A)}detach(A){this.#eb.delete(A.id),this.#ec?.removePointerInTextLayer(A.contentDiv),!this.#eA&&A.annotationElementId&&this.#e_.addDeletedAnnotationElement(A)}remove(A){this.detach(A),this.#e_.removeEditor(A),A.div.contains(document.activeElement)&&setTimeout(()=>{this.#e_.focusMainContainer()},0),A.div.remove(),A.isAttachedToDOM=!1,this.#ev||this.addInkEditorIfNeeded(!1)}changeParent(A){A.parent!==this&&(A.annotationElementId&&(this.#e_.addDeletedAnnotationElement(A.annotationElementId),R.AnnotationEditor.deleteAnnotationElement(A),A.annotationElementId=null),this.attach(A),A.parent?.detach(A),A.setParent(this),A.div&&A.isAttachedToDOM&&(A.div.remove(),this.div.append(A.div)))}add(A){if(this.changeParent(A),this.#e_.addEditor(A),this.attach(A),!A.isAttachedToDOM){let S=A.render();this.div.append(S),A.isAttachedToDOM=!0}A.fixAndSetPosition(),A.onceAdded(),this.#e_.addToAnnotationStorage(A)}moveEditorInDOM(A){if(!A.isAttachedToDOM)return;let{activeElement:S}=document;A.div.contains(S)&&(A._focusEventsAllowed=!1,setTimeout(()=>{A.div.contains(document.activeElement)?A._focusEventsAllowed=!0:(A.div.addEventListener("focusin",()=>{A._focusEventsAllowed=!0},{once:!0}),S.focus())},0)),A._structTreeParentId=this.#ec?.moveElementInDOM(this.div,A.div,A.contentDiv,!0)}addOrRebuild(A){A.needsToBeRebuilt()?A.rebuild():this.add(A)}addUndoableEditor(A){let S=()=>A._uiManager.rebuild(A),T=()=>{A.remove()};this.addCommands({cmd:S,undo:T,mustExec:!1})}getNextId(){return this.#e_.getId()}#ex(A){switch(this.#e_.getMode()){case M.AnnotationEditorType.FREETEXT:return new O.FreeTextEditor(A);case M.AnnotationEditorType.INK:return new I.InkEditor(A);case M.AnnotationEditorType.STAMP:return new D.StampEditor(A)}return null}pasteEditor(A,S){this.#e_.updateToolbar(A),this.#e_.updateMode(A);let{offsetX:T,offsetY:M}=this.#ew(),R=this.getNextId(),O=this.#ex({parent:this,id:R,x:T,y:M,uiManager:this.#e_,isCentered:!0,...S});O&&this.add(O)}deserialize(A){switch(A.annotationType??A.annotationEditorType){case M.AnnotationEditorType.FREETEXT:return O.FreeTextEditor.deserialize(A,this,this.#e_);case M.AnnotationEditorType.INK:return I.InkEditor.deserialize(A,this,this.#e_);case M.AnnotationEditorType.STAMP:return D.StampEditor.deserialize(A,this,this.#e_)}return null}#eS(A,S){let T=this.getNextId(),M=this.#ex({parent:this,id:T,x:A.offsetX,y:A.offsetY,uiManager:this.#e_,isCentered:S});return M&&this.add(M),M}#ew(){let{x:A,y:S,width:T,height:M}=this.div.getBoundingClientRect(),R=Math.max(0,A),O=Math.max(0,S),I=Math.min(window.innerWidth,A+T),F=Math.min(window.innerHeight,S+M),D=(R+I)/2-A,L=(O+F)/2-S,[N,B]=this.viewport.rotation%180==0?[D,L]:[L,D];return{offsetX:N,offsetY:B}}addNewEditor(){this.#eS(this.#ew(),!0)}setSelected(A){this.#e_.setSelected(A)}toggleSelected(A){this.#e_.toggleSelected(A)}isSelected(A){return this.#e_.isSelected(A)}unselect(A){this.#e_.unselect(A)}pointerup(A){let{isMac:S}=M.FeatureTest.platform;if(0===A.button&&(!A.ctrlKey||!S)&&A.target===this.div&&this.#ey){if(this.#ey=!1,!this.#ep){this.#ep=!0;return}if(this.#e_.getMode()===M.AnnotationEditorType.STAMP){this.#e_.unselectAll();return}this.#eS(A,!1)}}pointerdown(A){if(this.#ey){this.#ey=!1;return}let{isMac:S}=M.FeatureTest.platform;if(0!==A.button||A.ctrlKey&&S||A.target!==this.div)return;this.#ey=!0;let T=this.#e_.getActive();this.#ep=!T||T.isEmpty()}findNewParent(A,S,T){let M=this.#e_.findParent(S,T);return null!==M&&M!==this&&(M.changeParent(A),!0)}destroy(){for(let A of(this.#e_.getActive()?.parent===this&&(this.#e_.commitOrRemove(),this.#e_.setActiveEditor(null)),this.#eb.values()))this.#ec?.removePointerInTextLayer(A.contentDiv),A.setParent(null),A.isAttachedToDOM=!1,A.div.remove();this.div=null,this.#eb.clear(),this.#e_.removeLayer(this)}#eE(){for(let A of(this.#ev=!0,this.#eb.values()))A.isEmpty()&&A.remove();this.#ev=!1}render({viewport:A}){for(let S of(this.viewport=A,(0,F.setLayerDimensions)(this.div,A),this.#e_.getEditors(this.pageIndex)))this.add(S);this.updateMode()}update({viewport:A}){this.#e_.commitOrRemove(),this.viewport=A,(0,F.setLayerDimensions)(this.div,{rotation:A.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth:A,pageHeight:S}=this.viewport.rawDims;return[A,S]}}S.AnnotationEditorLayer=L},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.FreeTextEditor=void 0;var M=T(1),R=T(5),O=T(4),I=T(29);class F extends O.AnnotationEditor{#eC=this.editorDivBlur.bind(this);#eT=this.editorDivFocus.bind(this);#eP=this.editorDivInput.bind(this);#eM=this.editorDivKeydown.bind(this);#eR;#ek="";#eO=`${this.id}-editor`;#eI;#eF=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let A=F.prototype,S=A=>A.isEmpty(),T=R.AnnotationEditorUIManager.TRANSLATE_SMALL,O=R.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,M.shadow)(this,"_keyboardManager",new R.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],A.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],A.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],A._translateEmpty,{args:[-T,0],checker:S}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],A._translateEmpty,{args:[-O,0],checker:S}],[["ArrowRight","mac+ArrowRight"],A._translateEmpty,{args:[T,0],checker:S}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],A._translateEmpty,{args:[O,0],checker:S}],[["ArrowUp","mac+ArrowUp"],A._translateEmpty,{args:[0,-T],checker:S}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],A._translateEmpty,{args:[0,-O],checker:S}],[["ArrowDown","mac+ArrowDown"],A._translateEmpty,{args:[0,T],checker:S}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],A._translateEmpty,{args:[0,O],checker:S}]]))}static _type="freetext";constructor(A){super({...A,name:"freeTextEditor"}),this.#eR=A.color||F._defaultColor||O.AnnotationEditor._defaultLineColor,this.#eI=A.fontSize||F._defaultFontSize}static initialize(A){O.AnnotationEditor.initialize(A,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});let S=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(S.getPropertyValue("--freetext-padding"))}static updateDefaultParams(A,S){switch(A){case M.AnnotationEditorParamsType.FREETEXT_SIZE:F._defaultFontSize=S;break;case M.AnnotationEditorParamsType.FREETEXT_COLOR:F._defaultColor=S}}updateParams(A,S){switch(A){case M.AnnotationEditorParamsType.FREETEXT_SIZE:this.#eD(S);break;case M.AnnotationEditorParamsType.FREETEXT_COLOR:this.#eL(S)}}static get defaultPropertiesToUpdate(){return[[M.AnnotationEditorParamsType.FREETEXT_SIZE,F._defaultFontSize],[M.AnnotationEditorParamsType.FREETEXT_COLOR,F._defaultColor||O.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[M.AnnotationEditorParamsType.FREETEXT_SIZE,this.#eI],[M.AnnotationEditorParamsType.FREETEXT_COLOR,this.#eR]]}#eD(A){let S=A=>{this.editorDiv.style.fontSize=`calc(${A}px * var(--scale-factor))`,this.translate(0,-(A-this.#eI)*this.parentScale),this.#eI=A,this.#eN()},T=this.#eI;this.addCommands({cmd:()=>{S(A)},undo:()=>{S(T)},mustExec:!0,type:M.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#eL(A){let S=this.#eR;this.addCommands({cmd:()=>{this.#eR=this.editorDiv.style.color=A},undo:()=>{this.#eR=this.editorDiv.style.color=S},mustExec:!0,type:M.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(A,S){this._uiManager.translateSelectedEditors(A,S,!0)}getInitialTranslation(){let A=this.parentScale;return[-F._internalPadding*A,-(F._internalPadding+this.#eI)*A]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(M.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#eM),this.editorDiv.addEventListener("focus",this.#eT),this.editorDiv.addEventListener("blur",this.#eC),this.editorDiv.addEventListener("input",this.#eP))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#eO),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#eM),this.editorDiv.removeEventListener("focus",this.#eT),this.editorDiv.removeEventListener("blur",this.#eC),this.editorDiv.removeEventListener("input",this.#eP),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(A){this._focusEventsAllowed&&(super.focusin(A),A.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#eB();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#ej(){let A=this.editorDiv.getElementsByTagName("div");if(0===A.length)return this.editorDiv.innerText;let S=[];for(let T of A)S.push(T.innerText.replace(/\r\n?|\n/,""));return S.join("\n")}#eN(){let A;let[S,T]=this.parentDimensions;if(this.isAttachedToDOM)A=this.div.getBoundingClientRect();else{let{currentLayer:S,div:T}=this,M=T.style.display;T.style.display="hidden",S.div.append(this.div),A=T.getBoundingClientRect(),T.remove(),T.style.display=M}this.rotation%180==this.parentRotation%180?(this.width=A.width/S,this.height=A.height/T):(this.width=A.height/S,this.height=A.width/T),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let A=this.#ek,S=this.#ek=this.#ej().trimEnd();if(A===S)return;let T=A=>{if(this.#ek=A,!A){this.remove();return}this.#eU(),this._uiManager.rebuild(this),this.#eN()};this.addCommands({cmd:()=>{T(S)},undo:()=>{T(A)},mustExec:!1}),this.#eN()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(A){this.enterInEditMode()}keydown(A){A.target===this.div&&"Enter"===A.key&&(this.enterInEditMode(),A.preventDefault())}editorDivKeydown(A){F._keyboardManager.exec(this,A)}editorDivFocus(A){this.isEditing=!0}editorDivBlur(A){this.isEditing=!1}editorDivInput(A){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){let A,S;if(this.div)return this.div;this.width&&(A=this.x,S=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#eO),this.enableEditing(),O.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(A=>this.editorDiv?.setAttribute("aria-label",A)),O.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(A=>this.editorDiv?.setAttribute("default-content",A)),this.editorDiv.contentEditable=!0;let{style:T}=this.editorDiv;if(T.fontSize=`calc(${this.#eI}px * var(--scale-factor))`,T.color=this.#eR,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,R.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[T,M]=this.parentDimensions;if(this.annotationElementId){let R,O;let{position:I}=this.#eF,[F,D]=this.getInitialTranslation();[F,D]=this.pageTranslationToScreen(F,D);let[L,N]=this.pageDimensions,[B,$]=this.pageTranslation;switch(this.rotation){case 0:R=A+(I[0]-B)/L,O=S+this.height-(I[1]-$)/N;break;case 90:R=A+(I[0]-B)/L,O=S-(I[1]-$)/N,[F,D]=[D,-F];break;case 180:R=A-this.width+(I[0]-B)/L,O=S-(I[1]-$)/N,[F,D]=[-F,-D];break;case 270:R=A+(I[0]-B-this.height*N)/L,O=S+(I[1]-$-this.width*L)/N,[F,D]=[-D,F]}this.setAt(R*T,O*M,F,D)}else this.setAt(A*T,S*M,this.width*T,this.height*M);this.#eU(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#eU(){if(this.editorDiv.replaceChildren(),this.#ek)for(let A of this.#ek.split("\n")){let S=document.createElement("div");S.append(A?document.createTextNode(A):document.createElement("br")),this.editorDiv.append(S)}}get contentDiv(){return this.editorDiv}static deserialize(A,S,T){let R=null;if(A instanceof I.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize:S,fontColor:T},rect:O,rotation:I,id:F},textContent:D,textPosition:L,parent:{page:{pageNumber:N}}}=A;if(!D||0===D.length)return null;R=A={annotationType:M.AnnotationEditorType.FREETEXT,color:Array.from(T),fontSize:S,value:D.join("\n"),position:L,pageIndex:N-1,rect:O,rotation:I,id:F,deleted:!1}}let O=super.deserialize(A,S,T);return O.#eI=A.fontSize,O.#eR=M.Util.makeHexColor(...A.color),O.#ek=A.value,O.annotationElementId=A.id||null,O.#eF=R,O}serialize(A=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let S=F._internalPadding*this.parentScale,T=this.getRect(S,S),R=O.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#eR),I={annotationType:M.AnnotationEditorType.FREETEXT,color:R,fontSize:this.#eI,value:this.#ek,pageIndex:this.pageIndex,rect:T,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return A?I:this.annotationElementId&&!this.#e$(I)?null:(I.id=this.annotationElementId,I)}#e$(A){let{value:S,fontSize:T,color:M,rect:R,pageIndex:O}=this.#eF;return A.value!==S||A.fontSize!==T||A.rect.some((A,S)=>Math.abs(A-R[S])>=1)||A.color.some((A,S)=>A!==M[S])||A.pageIndex!==O}#eB(A=!1){if(!this.annotationElementId)return;if(this.#eN(),!A&&(0===this.width||0===this.height)){setTimeout(()=>this.#eB(!0),0);return}let S=F._internalPadding*this.parentScale;this.#eF.rect=this.getRect(S,S)}}S.FreeTextEditor=F},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.StampAnnotationElement=S.InkAnnotationElement=S.FreeTextAnnotationElement=S.AnnotationLayer=void 0;var M=T(1),R=T(6),O=T(3),I=T(30),F=T(31),D=T(32);let L=1e3,N=9,B=new WeakSet;function $(A){return{width:A[2]-A[0],height:A[3]-A[1]}}class z{static create(A){let S=A.data.annotationType;switch(S){case M.AnnotationType.LINK:return new V(A);case M.AnnotationType.TEXT:return new W(A);case M.AnnotationType.WIDGET:let T=A.data.fieldType;switch(T){case"Tx":return new K(A);case"Btn":if(A.data.radioButton)return new Q(A);if(A.data.checkBox)return new J(A);return new Z(A);case"Ch":return new tt(A);case"Sig":return new Y(A)}return new X(A);case M.AnnotationType.POPUP:return new te(A);case M.AnnotationType.FREETEXT:return new tr(A);case M.AnnotationType.LINE:return new tn(A);case M.AnnotationType.SQUARE:return new ts(A);case M.AnnotationType.CIRCLE:return new ta(A);case M.AnnotationType.POLYLINE:return new tl(A);case M.AnnotationType.CARET:return new td(A);case M.AnnotationType.INK:return new tu(A);case M.AnnotationType.POLYGON:return new th(A);case M.AnnotationType.HIGHLIGHT:return new tc(A);case M.AnnotationType.UNDERLINE:return new tp(A);case M.AnnotationType.SQUIGGLY:return new tf(A);case M.AnnotationType.STRIKEOUT:return new tg(A);case M.AnnotationType.STAMP:return new tm(A);case M.AnnotationType.FILEATTACHMENT:return new tb(A);default:return new H(A)}}}class H{#ez=!1;constructor(A,{isRenderable:S=!1,ignoreBorder:T=!1,createQuadrilaterals:M=!1}={}){this.isRenderable=S,this.data=A.data,this.layer=A.layer,this.linkService=A.linkService,this.downloadManager=A.downloadManager,this.imageResourcesPath=A.imageResourcesPath,this.renderForms=A.renderForms,this.svgFactory=A.svgFactory,this.annotationStorage=A.annotationStorage,this.enableScripting=A.enableScripting,this.hasJSActions=A.hasJSActions,this._fieldObjects=A.fieldObjects,this.parent=A.parent,S&&(this.container=this._createContainer(T)),M&&this._createQuadrilaterals()}static _hasPopupData({titleObj:A,contentsObj:S,richText:T}){return!!(A?.str||S?.str||T?.str)}get hasPopupData(){return H._hasPopupData(this.data)}_createContainer(A){let{data:S,parent:{page:T,viewport:R}}=this,O=document.createElement("section");O.setAttribute("data-annotation-id",S.id),this instanceof X||(O.tabIndex=L),O.style.zIndex=this.parent.zIndex++,this.data.popupRef&&O.setAttribute("aria-haspopup","dialog"),S.noRotate&&O.classList.add("norotate");let{pageWidth:I,pageHeight:F,pageX:D,pageY:N}=R.rawDims;if(!S.rect||this instanceof te){let{rotation:A}=S;return S.hasOwnCanvas||0===A||this.setRotation(A,O),O}let{width:B,height:z}=$(S.rect),H=M.Util.normalizeRect([S.rect[0],T.view[3]-S.rect[1]+T.view[1],S.rect[2],T.view[3]-S.rect[3]+T.view[1]]);if(!A&&S.borderStyle.width>0){O.style.borderWidth=`${S.borderStyle.width}px`;let A=S.borderStyle.horizontalCornerRadius,T=S.borderStyle.verticalCornerRadius;if(A>0||T>0){let S=`calc(${A}px * var(--scale-factor)) / calc(${T}px * var(--scale-factor))`;O.style.borderRadius=S}else if(this instanceof Q){let A=`calc(${B}px * var(--scale-factor)) / calc(${z}px * var(--scale-factor))`;O.style.borderRadius=A}switch(S.borderStyle.style){case M.AnnotationBorderStyleType.SOLID:O.style.borderStyle="solid";break;case M.AnnotationBorderStyleType.DASHED:O.style.borderStyle="dashed";break;case M.AnnotationBorderStyleType.BEVELED:(0,M.warn)("Unimplemented border style: beveled");break;case M.AnnotationBorderStyleType.INSET:(0,M.warn)("Unimplemented border style: inset");break;case M.AnnotationBorderStyleType.UNDERLINE:O.style.borderBottomStyle="solid"}let R=S.borderColor||null;R?(this.#ez=!0,O.style.borderColor=M.Util.makeHexColor(0|R[0],0|R[1],0|R[2])):O.style.borderWidth=0}O.style.left=`${100*(H[0]-D)/I}%`,O.style.top=`${100*(H[1]-N)/F}%`;let{rotation:V}=S;return S.hasOwnCanvas||0===V?(O.style.width=`${100*B/I}%`,O.style.height=`${100*z/F}%`):this.setRotation(V,O),O}setRotation(A,S=this.container){let T,M;if(!this.data.rect)return;let{pageWidth:R,pageHeight:O}=this.parent.viewport.rawDims,{width:I,height:F}=$(this.data.rect);A%180==0?(T=100*I/R,M=100*F/O):(T=100*F/R,M=100*I/O),S.style.width=`${T}%`,S.style.height=`${M}%`,S.setAttribute("data-main-rotation",(360-A)%360)}get _commonActions(){let A=(A,S,T)=>{let M=T.detail[A],R=M[0],O=M.slice(1);T.target.style[S]=I.ColorConverters[`${R}_HTML`](O),this.annotationStorage.setValue(this.data.id,{[S]:I.ColorConverters[`${R}_rgb`](O)})};return(0,M.shadow)(this,"_commonActions",{display:A=>{let{display:S}=A.detail,T=S%2==1;this.container.style.visibility=T?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:T,noPrint:1===S||2===S})},print:A=>{this.annotationStorage.setValue(this.data.id,{noPrint:!A.detail.print})},hidden:A=>{let{hidden:S}=A.detail;this.container.style.visibility=S?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:S,noView:S})},focus:A=>{setTimeout(()=>A.target.focus({preventScroll:!1}),0)},userName:A=>{A.target.title=A.detail.userName},readonly:A=>{A.target.disabled=A.detail.readonly},required:A=>{this._setRequired(A.target,A.detail.required)},bgColor:S=>{A("bgColor","backgroundColor",S)},fillColor:S=>{A("fillColor","backgroundColor",S)},fgColor:S=>{A("fgColor","color",S)},textColor:S=>{A("textColor","color",S)},borderColor:S=>{A("borderColor","borderColor",S)},strokeColor:S=>{A("strokeColor","borderColor",S)},rotation:A=>{let S=A.detail.rotation;this.setRotation(S),this.annotationStorage.setValue(this.data.id,{rotation:S})}})}_dispatchEventFromSandbox(A,S){let T=this._commonActions;for(let M of Object.keys(S.detail)){let R=A[M]||T[M];R?.(S)}}_setDefaultPropertiesFromJS(A){if(!this.enableScripting)return;let S=this.annotationStorage.getRawValue(this.data.id);if(!S)return;let T=this._commonActions;for(let[M,R]of Object.entries(S)){let O=T[M];if(O){let T={detail:{[M]:R},target:A};O(T),delete S[M]}}}_createQuadrilaterals(){let A;if(!this.container)return;let{quadPoints:S}=this.data;if(!S)return;let[T,M,R,O]=this.data.rect;if(1===S.length){let[,{x:A,y:I},{x:F,y:D}]=S[0];if(R===A&&O===I&&T===F&&M===D)return}let{style:I}=this.container;if(this.#ez){let{borderColor:S,borderWidth:T}=I;I.borderWidth=0,A=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}let F=R-T,D=O-M,{svgFactory:L}=this,N=L.createElement("svg");N.classList.add("quadrilateralsContainer"),N.setAttribute("width",0),N.setAttribute("height",0);let B=L.createElement("defs");N.append(B);let $=L.createElement("clipPath"),z=`clippath_${this.data.id}`;for(let[,{x:M,y:R},{x:I,y:N}]of($.setAttribute("id",z),$.setAttribute("clipPathUnits","objectBoundingBox"),B.append($),S)){let S=L.createElement("rect"),B=(I-T)/F,z=(O-R)/D,H=(M-I)/F,V=(R-N)/D;S.setAttribute("x",B),S.setAttribute("y",z),S.setAttribute("width",H),S.setAttribute("height",V),$.append(S),A?.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${z}" width="${H}" height="${V}"/>`)}this.#ez&&(A.push("</g></svg>')"),I.backgroundImage=A.join("")),this.container.append(N),this.container.style.clipPath=`url(#${z})`}_createPopup(){let{container:A,data:S}=this;A.setAttribute("aria-haspopup","dialog");let T=new te({data:{color:S.color,titleObj:S.titleObj,modificationDate:S.modificationDate,contentsObj:S.contentsObj,richText:S.richText,parentRect:S.rect,borderStyle:0,id:`popup_${S.id}`,rotation:S.rotation},parent:this.parent,elements:[this]});this.parent.div.append(T.render())}render(){(0,M.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(A,S=null){let T=[];if(this._fieldObjects){let R=this._fieldObjects[A];if(R)for(let{page:A,id:O,exportValues:I}of R){if(-1===A||O===S)continue;let R="string"==typeof I?I:null,F=document.querySelector(`[data-element-id="${O}"]`);if(F&&!B.has(F)){(0,M.warn)(`_getElementsByName - element not allowed: ${O}`);continue}T.push({id:O,exportValue:R,domElement:F})}return T}for(let M of document.getElementsByName(A)){let{exportValue:A}=M,R=M.getAttribute("data-element-id");R!==S&&B.has(M)&&T.push({id:R,exportValue:A,domElement:M})}return T}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let A=this.getElementsToTriggerPopup();if(Array.isArray(A))for(let S of A)S.classList.add("highlightArea");else A.classList.add("highlightArea")}_editOnDoubleClick(){let{annotationEditorType:A,data:{id:S}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:A,editId:S})})}}class V extends H{constructor(A,S=null){super(A,{isRenderable:!0,ignoreBorder:!!S?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=A.data.isTooltipOnly}render(){let{data:A,linkService:S}=this,T=document.createElement("a");T.setAttribute("data-element-id",A.id);let M=!1;return A.url?(S.addLinkAttributes(T,A.url,A.newWindow),M=!0):A.action?(this._bindNamedAction(T,A.action),M=!0):A.attachment?(this._bindAttachment(T,A.attachment),M=!0):A.setOCGState?(this.#eG(T,A.setOCGState),M=!0):A.dest?(this._bindLink(T,A.dest),M=!0):(A.actions&&(A.actions.Action||A.actions["Mouse Up"]||A.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(T,A),M=!0),A.resetForm?(this._bindResetFormAction(T,A.resetForm),M=!0):this.isTooltipOnly&&!M&&(this._bindLink(T,""),M=!0)),this.container.classList.add("linkAnnotation"),M&&this.container.append(T),this.container}#eH(){this.container.setAttribute("data-internal-link","")}_bindLink(A,S){A.href=this.linkService.getDestinationHash(S),A.onclick=()=>(S&&this.linkService.goToDestination(S),!1),(S||""===S)&&this.#eH()}_bindNamedAction(A,S){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.linkService.executeNamedAction(S),!1),this.#eH()}_bindAttachment(A,S){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,S.content,S.filename),!1),this.#eH()}#eG(A,S){A.href=this.linkService.getAnchorUrl(""),A.onclick=()=>(this.linkService.executeSetOCGState(S),!1),this.#eH()}_bindJSAction(A,S){A.href=this.linkService.getAnchorUrl("");let T=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let M of Object.keys(S.actions)){let R=T.get(M);R&&(A[R]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S.id,name:M}}),!1))}A.onclick||(A.onclick=()=>!1),this.#eH()}_bindResetFormAction(A,S){let T=A.onclick;if(T||(A.href=this.linkService.getAnchorUrl("")),this.#eH(),!this._fieldObjects){(0,M.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),T||(A.onclick=()=>!1);return}A.onclick=()=>{T?.();let{fields:A,refs:R,include:O}=S,I=[];if(0!==A.length||0!==R.length){let S=new Set(R);for(let T of A){let A=this._fieldObjects[T]||[];for(let{id:T}of A)S.add(T)}for(let A of Object.values(this._fieldObjects))for(let T of A)S.has(T.id)===O&&I.push(T)}else for(let A of Object.values(this._fieldObjects))I.push(...A);let F=this.annotationStorage,D=[];for(let A of I){let{id:S}=A;switch(D.push(S),A.type){case"text":{let T=A.defaultValue||"";F.setValue(S,{value:T});break}case"checkbox":case"radiobutton":{let T=A.defaultValue===A.exportValues;F.setValue(S,{value:T});break}case"combobox":case"listbox":{let T=A.defaultValue||"";F.setValue(S,{value:T});break}default:continue}let T=document.querySelector(`[data-element-id="${S}"]`);if(T){if(!B.has(T)){(0,M.warn)(`_bindResetFormAction - element not allowed: ${S}`);continue}T.dispatchEvent(new Event("resetform"))}}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:D,name:"ResetForm"}}),!1}}}class W extends H{constructor(A){super(A,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let A=document.createElement("img");return A.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",A.alt="[{{type}} Annotation]",A.dataset.l10nId="text_annotation_type",A.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(A),this.container}}class X extends H{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(A){this.data.hasOwnCanvas&&(A.previousSibling?.nodeName==="CANVAS"&&(A.previousSibling.hidden=!0),A.hidden=!1)}_getKeyModifier(A){let{isWin:S,isMac:T}=M.FeatureTest.platform;return S&&A.ctrlKey||T&&A.metaKey}_setEventListener(A,S,T,M,R){T.includes("mouse")?A.addEventListener(T,A=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:M,value:R(A),shift:A.shiftKey,modifier:this._getKeyModifier(A)}})}):A.addEventListener(T,A=>{if("blur"===T){if(!S.focused||!A.relatedTarget)return;S.focused=!1}else if("focus"===T){if(S.focused)return;S.focused=!0}R&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:M,value:R(A)}})})}_setEventListeners(A,S,T,M){for(let[R,O]of T)("Action"===O||this.data.actions?.[O])&&(("Focus"===O||"Blur"===O)&&(S||={focused:!1}),this._setEventListener(A,S,R,O,M),"Focus"!==O||this.data.actions?.Blur?"Blur"!==O||this.data.actions?.Focus||this._setEventListener(A,S,"focus","Focus",null):this._setEventListener(A,S,"blur","Blur",null))}_setBackgroundColor(A){let S=this.data.backgroundColor||null;A.style.backgroundColor=null===S?"transparent":M.Util.makeHexColor(S[0],S[1],S[2])}_setTextStyle(A){let S;let T=["left","center","right"],{fontColor:R}=this.data.defaultAppearanceData,O=this.data.defaultAppearanceData.fontSize||N,I=A.style,F=2,D=A=>Math.round(10*A)/10;if(this.data.multiLine){let A=Math.abs(this.data.rect[3]-this.data.rect[1]-F),T=Math.round(A/(M.LINE_FACTOR*O))||1,R=A/T;S=Math.min(O,D(R/M.LINE_FACTOR))}else{let A=Math.abs(this.data.rect[3]-this.data.rect[1]-F);S=Math.min(O,D(A/M.LINE_FACTOR))}I.fontSize=`calc(${S}px * var(--scale-factor))`,I.color=M.Util.makeHexColor(R[0],R[1],R[2]),null!==this.data.textAlignment&&(I.textAlign=T[this.data.textAlignment])}_setRequired(A,S){S?A.setAttribute("required",!0):A.removeAttribute("required"),A.setAttribute("aria-required",S)}}class K extends X{constructor(A){let S=A.renderForms||!A.data.hasAppearance&&!!A.data.fieldValue;super(A,{isRenderable:S})}setPropertyOnSiblings(A,S,T,M){let R=this.annotationStorage;for(let O of this._getElementsByName(A.name,A.id))O.domElement&&(O.domElement[S]=T),R.setValue(O.id,{[M]:T})}render(){let A=this.annotationStorage,S=this.data.id;this.container.classList.add("textWidgetAnnotation");let T=null;if(this.renderForms){let M=A.getValue(S,{value:this.data.fieldValue}),R=M.value||"",O=A.getValue(S,{charLimit:this.data.maxLen}).charLimit;O&&R.length>O&&(R=R.slice(0,O));let I=M.formattedValue||this.data.textContent?.join("\n")||null;I&&this.data.comb&&(I=I.replaceAll(/\s+/g,""));let F={userValue:R,formattedValue:I,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?((T=document.createElement("textarea")).textContent=I??R,this.data.doNotScroll&&(T.style.overflowY="hidden")):((T=document.createElement("input")).type="text",T.setAttribute("value",I??R),this.data.doNotScroll&&(T.style.overflowX="hidden")),this.data.hasOwnCanvas&&(T.hidden=!0),B.add(T),T.setAttribute("data-element-id",S),T.disabled=this.data.readOnly,T.name=this.data.fieldName,T.tabIndex=L,this._setRequired(T,this.data.required),O&&(T.maxLength=O),T.addEventListener("input",M=>{A.setValue(S,{value:M.target.value}),this.setPropertyOnSiblings(T,"value",M.target.value,"value"),F.formattedValue=null}),T.addEventListener("resetform",A=>{let S=this.data.defaultFieldValue??"";T.value=F.userValue=S,F.formattedValue=null});let D=A=>{let{formattedValue:S}=F;null!=S&&(A.target.value=S),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){T.addEventListener("focus",A=>{if(F.focused)return;let{target:S}=A;F.userValue&&(S.value=F.userValue),F.lastCommittedValue=S.value,F.commitKey=1,F.focused=!0}),T.addEventListener("updatefromsandbox",T=>{this.showElementAndHideCanvas(T.target);let M={value(T){F.userValue=T.detail.value??"",A.setValue(S,{value:F.userValue.toString()}),T.target.value=F.userValue},formattedValue(T){let{formattedValue:M}=T.detail;F.formattedValue=M,null!=M&&T.target!==document.activeElement&&(T.target.value=M),A.setValue(S,{formattedValue:M})},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:T=>{let{charLimit:M}=T.detail,{target:R}=T;if(0===M){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",M);let O=F.userValue;O&&!(O.length<=M)&&(O=O.slice(0,M),R.value=F.userValue=O,A.setValue(S,{value:O}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(M,T)}),T.addEventListener("keydown",A=>{F.commitKey=1;let T=-1;if("Escape"===A.key?T=0:"Enter"!==A.key||this.data.multiLine?"Tab"===A.key&&(F.commitKey=3):T=2,-1===T)return;let{value:M}=A.target;F.lastCommittedValue!==M&&(F.lastCommittedValue=M,F.userValue=M,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:M,willCommit:!0,commitKey:T,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});let M=D;D=null,T.addEventListener("blur",A=>{if(!F.focused||!A.relatedTarget)return;F.focused=!1;let{value:T}=A.target;F.userValue=T,F.lastCommittedValue!==T&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:T,willCommit:!0,commitKey:F.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}),M(A)}),this.data.actions?.Keystroke&&T.addEventListener("beforeinput",A=>{F.lastCommittedValue=null;let{data:T,target:M}=A,{value:R,selectionStart:O,selectionEnd:I}=M,D=O,L=I;switch(A.inputType){case"deleteWordBackward":{let A=R.substring(0,O).match(/\w*[^\w]*$/);A&&(D-=A[0].length);break}case"deleteWordForward":{let A=R.substring(O).match(/^[^\w]*\w*/);A&&(L+=A[0].length);break}case"deleteContentBackward":O===I&&(D-=1);break;case"deleteContentForward":O===I&&(L+=1)}A.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:R,change:T||"",willCommit:!1,selStart:D,selEnd:L}})}),this._setEventListeners(T,F,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(D&&T.addEventListener("blur",D),this.data.comb){let A=this.data.rect[2]-this.data.rect[0],S=A/O;T.classList.add("comb"),T.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else(T=document.createElement("div")).textContent=this.data.fieldValue,T.style.verticalAlign="middle",T.style.display="table-cell";return this._setTextStyle(T),this._setBackgroundColor(T),this._setDefaultPropertiesFromJS(T),this.container.append(T),this.container}}class Y extends X{constructor(A){super(A,{isRenderable:!!A.data.hasOwnCanvas})}}class J extends X{constructor(A){super(A,{isRenderable:A.renderForms})}render(){let A=this.annotationStorage,S=this.data,T=S.id,M=A.getValue(T,{value:S.exportValue===S.fieldValue}).value;"string"==typeof M&&(M="Off"!==M,A.setValue(T,{value:M})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let R=document.createElement("input");return B.add(R),R.setAttribute("data-element-id",T),R.disabled=S.readOnly,this._setRequired(R,this.data.required),R.type="checkbox",R.name=S.fieldName,M&&R.setAttribute("checked",!0),R.setAttribute("exportValue",S.exportValue),R.tabIndex=L,R.addEventListener("change",M=>{let{name:R,checked:O}=M.target;for(let M of this._getElementsByName(R,T)){let T=O&&M.exportValue===S.exportValue;M.domElement&&(M.domElement.checked=T),A.setValue(M.id,{value:T})}A.setValue(T,{value:O})}),R.addEventListener("resetform",A=>{let T=S.defaultFieldValue||"Off";A.target.checked=T===S.exportValue}),this.enableScripting&&this.hasJSActions&&(R.addEventListener("updatefromsandbox",S=>{let M={value(S){S.target.checked="Off"!==S.detail.value,A.setValue(T,{value:S.target.checked})}};this._dispatchEventFromSandbox(M,S)}),this._setEventListeners(R,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.checked)),this._setBackgroundColor(R),this._setDefaultPropertiesFromJS(R),this.container.append(R),this.container}}class Q extends X{constructor(A){super(A,{isRenderable:A.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let A=this.annotationStorage,S=this.data,T=S.id,M=A.getValue(T,{value:S.fieldValue===S.buttonValue}).value;"string"==typeof M&&(M=M!==S.buttonValue,A.setValue(T,{value:M}));let R=document.createElement("input");if(B.add(R),R.setAttribute("data-element-id",T),R.disabled=S.readOnly,this._setRequired(R,this.data.required),R.type="radio",R.name=S.fieldName,M&&R.setAttribute("checked",!0),R.tabIndex=L,R.addEventListener("change",S=>{let{name:M,checked:R}=S.target;for(let S of this._getElementsByName(M,T))A.setValue(S.id,{value:!1});A.setValue(T,{value:R})}),R.addEventListener("resetform",A=>{let T=S.defaultFieldValue;A.target.checked=null!=T&&T===S.buttonValue}),this.enableScripting&&this.hasJSActions){let M=S.buttonValue;R.addEventListener("updatefromsandbox",S=>{let R={value:S=>{let R=M===S.detail.value;for(let M of this._getElementsByName(S.target.name)){let S=R&&M.id===T;M.domElement&&(M.domElement.checked=S),A.setValue(M.id,{value:S})}}};this._dispatchEventFromSandbox(R,S)}),this._setEventListeners(R,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.checked)}return this._setBackgroundColor(R),this._setDefaultPropertiesFromJS(R),this.container.append(R),this.container}}class Z extends V{constructor(A){super(A,{ignoreBorder:A.data.hasAppearance})}render(){let A=super.render();A.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(A.title=this.data.alternativeText);let S=A.lastChild;return this.enableScripting&&this.hasJSActions&&S&&(this._setDefaultPropertiesFromJS(S),S.addEventListener("updatefromsandbox",A=>{this._dispatchEventFromSandbox({},A)})),A}}class tt extends X{constructor(A){super(A,{isRenderable:A.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let A=this.annotationStorage,S=this.data.id,T=A.getValue(S,{value:this.data.fieldValue}),M=document.createElement("select");B.add(M),M.setAttribute("data-element-id",S),M.disabled=this.data.readOnly,this._setRequired(M,this.data.required),M.name=this.data.fieldName,M.tabIndex=L;let R=this.data.combo&&this.data.options.length>0;for(let A of(!this.data.combo&&(M.size=this.data.options.length,this.data.multiSelect&&(M.multiple=!0)),M.addEventListener("resetform",A=>{let S=this.data.defaultFieldValue;for(let A of M.options)A.selected=A.value===S}),this.data.options)){let S=document.createElement("option");S.textContent=A.displayValue,S.value=A.exportValue,T.value.includes(A.exportValue)&&(S.setAttribute("selected",!0),R=!1),M.append(S)}let O=null;if(R){let A=document.createElement("option");A.value=" ",A.setAttribute("hidden",!0),A.setAttribute("selected",!0),M.prepend(A),O=()=>{A.remove(),M.removeEventListener("input",O),O=null},M.addEventListener("input",O)}let I=A=>{let S=A?"value":"textContent",{options:T,multiple:R}=M;return R?Array.prototype.filter.call(T,A=>A.selected).map(A=>A[S]):-1===T.selectedIndex?null:T[T.selectedIndex][S]},F=I(!1),D=A=>{let S=A.target.options;return Array.prototype.map.call(S,A=>({displayValue:A.textContent,exportValue:A.value}))};return this.enableScripting&&this.hasJSActions?(M.addEventListener("updatefromsandbox",T=>{let R={value(T){O?.();let R=T.detail.value,D=new Set(Array.isArray(R)?R:[R]);for(let A of M.options)A.selected=D.has(A.value);A.setValue(S,{value:I(!0)}),F=I(!1)},multipleSelection(A){M.multiple=!0},remove(T){let R=M.options,O=T.detail.remove;if(R[O].selected=!1,M.remove(O),R.length>0){let A=Array.prototype.findIndex.call(R,A=>A.selected);-1===A&&(R[0].selected=!0)}A.setValue(S,{value:I(!0),items:D(T)}),F=I(!1)},clear(T){for(;0!==M.length;)M.remove(0);A.setValue(S,{value:null,items:[]}),F=I(!1)},insert(T){let{index:R,displayValue:O,exportValue:L}=T.detail.insert,N=M.children[R],B=document.createElement("option");B.textContent=O,B.value=L,N?N.before(B):M.append(B),A.setValue(S,{value:I(!0),items:D(T)}),F=I(!1)},items(T){let{items:R}=T.detail;for(;0!==M.length;)M.remove(0);for(let A of R){let{displayValue:S,exportValue:T}=A,R=document.createElement("option");R.textContent=S,R.value=T,M.append(R)}M.options.length>0&&(M.options[0].selected=!0),A.setValue(S,{value:I(!0),items:D(T)}),F=I(!1)},indices(T){let M=new Set(T.detail.indices);for(let A of T.target.options)A.selected=M.has(A.index);A.setValue(S,{value:I(!0)}),F=I(!1)},editable(A){A.target.disabled=!A.detail.editable}};this._dispatchEventFromSandbox(R,T)}),M.addEventListener("input",T=>{let M=I(!0);A.setValue(S,{value:M}),T.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S,name:"Keystroke",value:F,changeEx:M,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(M,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],A=>A.target.value)):M.addEventListener("input",function(T){A.setValue(S,{value:I(!0)})}),this.data.combo&&this._setTextStyle(M),this._setBackgroundColor(M),this._setDefaultPropertiesFromJS(M),this.container.append(M),this.container}}class te extends H{constructor(A){let{data:S,elements:T}=A;super(A,{isRenderable:H._hasPopupData(S)}),this.elements=T}render(){this.container.classList.add("popupAnnotation");let A=new ti({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),S=[];for(let T of this.elements)T.popup=A,S.push(T.data.id),T.addHighlightArea();return this.container.setAttribute("aria-controls",S.map(A=>`${M.AnnotationPrefix}${A}`).join(",")),this.container}}class ti{#eV=null;#eW=this.#eq.bind(this);#eX=this.#eK.bind(this);#eY=this.#eJ.bind(this);#eQ=this.#eZ.bind(this);#eR=null;#tO=null;#e0=null;#e1=null;#e2=null;#e3=null;#e5=!1;#e6=null;#e8=null;#e4=null;#e7=null;#e9=!1;constructor({container:A,color:S,elements:T,titleObj:M,modificationDate:O,contentsObj:I,richText:F,parent:D,rect:L,parentRect:N,open:B}){this.#tO=A,this.#e7=M,this.#e0=I,this.#e4=F,this.#e2=D,this.#eR=S,this.#e8=L,this.#e3=N,this.#e1=T;let $=R.PDFDateString.toDateObject(O);for(let A of($&&(this.#eV=D.l10n.get("annotation_date_string",{date:$.toLocaleDateString(),time:$.toLocaleTimeString()})),this.trigger=T.flatMap(A=>A.getElementsToTriggerPopup()),this.trigger))A.addEventListener("click",this.#eQ),A.addEventListener("mouseenter",this.#eY),A.addEventListener("mouseleave",this.#eX),A.classList.add("popupTriggerArea");for(let A of T)A.container?.addEventListener("keydown",this.#eW);this.#tO.hidden=!0,B&&this.#eZ()}render(){if(this.#e6)return;let{page:{view:A},viewport:{rawDims:{pageWidth:S,pageHeight:T,pageX:R,pageY:O}}}=this.#e2,I=this.#e6=document.createElement("div");if(I.className="popup",this.#eR){let A=I.style.outlineColor=M.Util.makeHexColor(...this.#eR);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))I.style.backgroundColor=`color-mix(in srgb, ${A} 30%, white)`;else{let A=.7;I.style.backgroundColor=M.Util.makeHexColor(...this.#eR.map(S=>Math.floor(A*(255-S)+S)))}}let F=document.createElement("span");F.className="header";let L=document.createElement("h1");if(F.append(L),{dir:L.dir,str:L.textContent}=this.#e7,I.append(F),this.#eV){let A=document.createElement("span");A.classList.add("popupDate"),this.#eV.then(S=>{A.textContent=S}),F.append(A)}let N=this.#e0,B=this.#e4;if(B?.str&&(!N?.str||N.str===B.str))D.XfaLayer.render({xfaHtml:B.html,intent:"richText",div:I}),I.lastChild.classList.add("richText","popupContent");else{let A=this._formatContents(N);I.append(A)}let $=!!this.#e3,z=$?this.#e3:this.#e8;for(let A of this.#e1)if(!z||null!==M.Util.intersect(A.data.rect,z)){z=A.data.rect,$=!0;break}let H=M.Util.normalizeRect([z[0],A[3]-z[1]+A[1],z[2],A[3]-z[3]+A[1]]),V=5,W=$?z[2]-z[0]+V:0,X=H[0]+W,K=H[1],{style:Y}=this.#tO;Y.left=`${100*(X-R)/S}%`,Y.top=`${100*(K-O)/T}%`,this.#tO.append(I)}_formatContents({str:A,dir:S}){let T=document.createElement("p");T.classList.add("popupContent"),T.dir=S;let M=A.split(/(?:\r\n?|\n)/);for(let A=0,S=M.length;A<S;++A){let R=M[A];T.append(document.createTextNode(R)),A<S-1&&T.append(document.createElement("br"))}return T}#eq(A){A.altKey||A.shiftKey||A.ctrlKey||A.metaKey||"Enter"!==A.key&&("Escape"!==A.key||!this.#e5)||this.#eZ()}#eZ(){this.#e5=!this.#e5,this.#e5?(this.#eJ(),this.#tO.addEventListener("click",this.#eQ),this.#tO.addEventListener("keydown",this.#eW)):(this.#eK(),this.#tO.removeEventListener("click",this.#eQ),this.#tO.removeEventListener("keydown",this.#eW))}#eJ(){this.#e6||this.render(),this.isVisible?this.#e5&&this.#tO.classList.add("focused"):(this.#tO.hidden=!1,this.#tO.style.zIndex=parseInt(this.#tO.style.zIndex)+1e3)}#eK(){this.#tO.classList.remove("focused"),!this.#e5&&this.isVisible&&(this.#tO.hidden=!0,this.#tO.style.zIndex=parseInt(this.#tO.style.zIndex)-1e3)}forceHide(){this.#e9=this.isVisible,this.#e9&&(this.#tO.hidden=!0)}maybeShow(){this.#e9&&(this.#e9=!1,this.#tO.hidden=!1)}get isVisible(){return!1===this.#tO.hidden}}class tr extends H{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0}),this.textContent=A.data.textContent,this.textPosition=A.data.textPosition,this.annotationEditorType=M.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let A=document.createElement("div");for(let S of(A.classList.add("annotationTextContent"),A.setAttribute("role","comment"),this.textContent)){let T=document.createElement("span");T.textContent=S,A.append(T)}this.container.append(A)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}S.FreeTextAnnotationElement=tr;class tn extends H{#it=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let A=this.data,{width:S,height:T}=$(A.rect),M=this.svgFactory.create(S,T,!0),R=this.#it=this.svgFactory.createElement("svg:line");return R.setAttribute("x1",A.rect[2]-A.lineCoordinates[0]),R.setAttribute("y1",A.rect[3]-A.lineCoordinates[1]),R.setAttribute("x2",A.rect[2]-A.lineCoordinates[2]),R.setAttribute("y2",A.rect[3]-A.lineCoordinates[3]),R.setAttribute("stroke-width",A.borderStyle.width||1),R.setAttribute("stroke","transparent"),R.setAttribute("fill","transparent"),M.append(R),this.container.append(M),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#it}addHighlightArea(){this.container.classList.add("highlightArea")}}class ts extends H{#ie=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let A=this.data,{width:S,height:T}=$(A.rect),M=this.svgFactory.create(S,T,!0),R=A.borderStyle.width,O=this.#ie=this.svgFactory.createElement("svg:rect");return O.setAttribute("x",R/2),O.setAttribute("y",R/2),O.setAttribute("width",S-R),O.setAttribute("height",T-R),O.setAttribute("stroke-width",R||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),M.append(O),this.container.append(M),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#ie}addHighlightArea(){this.container.classList.add("highlightArea")}}class ta extends H{#ii=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let A=this.data,{width:S,height:T}=$(A.rect),M=this.svgFactory.create(S,T,!0),R=A.borderStyle.width,O=this.#ii=this.svgFactory.createElement("svg:ellipse");return O.setAttribute("cx",S/2),O.setAttribute("cy",T/2),O.setAttribute("rx",S/2-R/2),O.setAttribute("ry",T/2-R/2),O.setAttribute("stroke-width",R||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),M.append(O),this.container.append(M),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#ii}addHighlightArea(){this.container.classList.add("highlightArea")}}class tl extends H{#ir=null;constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let A=this.data,{width:S,height:T}=$(A.rect),M=this.svgFactory.create(S,T,!0),R=[];for(let S of A.vertices){let T=S.x-A.rect[0],M=A.rect[3]-S.y;R.push(T+","+M)}R=R.join(" ");let O=this.#ir=this.svgFactory.createElement(this.svgElementName);return O.setAttribute("points",R),O.setAttribute("stroke-width",A.borderStyle.width||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),M.append(O),this.container.append(M),!A.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#ir}addHighlightArea(){this.container.classList.add("highlightArea")}}class th extends tl{constructor(A){super(A),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class td extends H{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class tu extends H{#is=[];constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=M.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let A=this.data,{width:S,height:T}=$(A.rect),M=this.svgFactory.create(S,T,!0);for(let S of A.inkLists){let T=[];for(let M of S){let S=M.x-A.rect[0],R=A.rect[3]-M.y;T.push(`${S},${R}`)}T=T.join(" ");let R=this.svgFactory.createElement(this.svgElementName);this.#is.push(R),R.setAttribute("points",T),R.setAttribute("stroke-width",A.borderStyle.width||1),R.setAttribute("stroke","transparent"),R.setAttribute("fill","transparent"),!A.popupRef&&this.hasPopupData&&this._createPopup(),M.append(R)}return this.container.append(M),this.container}getElementsToTriggerPopup(){return this.#is}addHighlightArea(){this.container.classList.add("highlightArea")}}S.InkAnnotationElement=tu;class tc extends H{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class tp extends H{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class tf extends H{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class tg extends H{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class tm extends H{constructor(A){super(A,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}S.StampAnnotationElement=tm;class tb extends H{#ia=null;constructor(A){super(A,{isRenderable:!0});let{filename:S,content:T}=this.data.file;this.filename=(0,R.getFilenameFromUrl)(S,!0),this.content=T,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:S,content:T})}render(){let A;this.container.classList.add("fileAttachmentAnnotation");let{container:S,data:T}=this;T.hasAppearance||0===T.fillAlpha?A=document.createElement("div"):((A=document.createElement("img")).src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(T.name)?"paperclip":"pushpin"}.svg`,T.fillAlpha&&T.fillAlpha<1&&(A.style=`filter: opacity(${Math.round(100*T.fillAlpha)}%);`)),A.addEventListener("dblclick",this.#io.bind(this)),this.#ia=A;let{isMac:R}=M.FeatureTest.platform;return S.addEventListener("keydown",A=>{"Enter"===A.key&&(R?A.metaKey:A.ctrlKey)&&this.#io()}),!T.popupRef&&this.hasPopupData?this._createPopup():A.classList.add("popupTriggerArea"),S.append(A),S}getElementsToTriggerPopup(){return this.#ia}addHighlightArea(){this.container.classList.add("highlightArea")}#io(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class tv{#ec=null;#il=null;#ih=new Map;constructor({div:A,accessibilityManager:S,annotationCanvasMap:T,l10n:M,page:R,viewport:O}){this.div=A,this.#ec=S,this.#il=T,this.l10n=M,this.page=R,this.viewport=O,this.zIndex=0,this.l10n||=F.NullL10n}#id(A,S){let T=A.firstChild||A;T.id=`${M.AnnotationPrefix}${S}`,this.div.append(A),this.#ec?.moveElementInDOM(this.div,A,T,!1)}async render(A){let{annotations:S}=A,T=this.div;(0,R.setLayerDimensions)(T,this.viewport);let I=new Map,F={data:null,layer:T,linkService:A.linkService,downloadManager:A.downloadManager,imageResourcesPath:A.imageResourcesPath||"",renderForms:!1!==A.renderForms,svgFactory:new R.DOMSVGFactory,annotationStorage:A.annotationStorage||new O.AnnotationStorage,enableScripting:!0===A.enableScripting,hasJSActions:A.hasJSActions,fieldObjects:A.fieldObjects,parent:this,elements:null};for(let A of S){if(A.noHTML)continue;let S=A.annotationType===M.AnnotationType.POPUP;if(S){let S=I.get(A.id);if(!S)continue;F.elements=S}else{let{width:S,height:T}=$(A.rect);if(S<=0||T<=0)continue}F.data=A;let T=z.create(F);if(!T.isRenderable)continue;if(!S&&A.popupRef){let S=I.get(A.popupRef);S?S.push(T):I.set(A.popupRef,[T])}T.annotationEditorType>0&&this.#ih.set(T.data.id,T);let R=T.render();A.hidden&&(R.style.visibility="hidden"),this.#id(R,A.id)}this.#iu(),await this.l10n.translate(T)}update({viewport:A}){let S=this.div;this.viewport=A,(0,R.setLayerDimensions)(S,{rotation:A.rotation}),this.#iu(),S.hidden=!1}#iu(){if(!this.#il)return;let A=this.div;for(let[S,T]of this.#il){let M=A.querySelector(`[data-annotation-id="${S}"]`);if(!M)continue;let{firstChild:R}=M;R?"CANVAS"===R.nodeName?R.replaceWith(T):R.before(T):M.append(T)}this.#il.clear()}getEditableAnnotations(){return Array.from(this.#ih.values())}getEditableAnnotation(A){return this.#ih.get(A)}}S.AnnotationLayer=tv},(A,S)=>{function T(A){return Math.floor(255*Math.max(0,Math.min(1,A))).toString(16).padStart(2,"0")}function M(A){return Math.max(0,Math.min(255,255*A))}Object.defineProperty(S,"__esModule",{value:!0}),S.ColorConverters=void 0;class R{static CMYK_G([A,S,T,M]){return["G",1-Math.min(1,.3*A+.59*T+.11*S+M)]}static G_CMYK([A]){return["CMYK",0,0,0,1-A]}static G_RGB([A]){return["RGB",A,A,A]}static G_rgb([A]){return[A=M(A),A,A]}static G_HTML([A]){let S=T(A);return`#${S}${S}${S}`}static RGB_G([A,S,T]){return["G",.3*A+.59*S+.11*T]}static RGB_rgb(A){return A.map(M)}static RGB_HTML(A){return`#${A.map(T).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([A,S,T,M]){return["RGB",1-Math.min(1,A+M),1-Math.min(1,T+M),1-Math.min(1,S+M)]}static CMYK_rgb([A,S,T,R]){return[M(1-Math.min(1,A+R)),M(1-Math.min(1,T+R)),M(1-Math.min(1,S+R))]}static CMYK_HTML(A){let S=this.CMYK_RGB(A).slice(1);return this.RGB_HTML(S)}static RGB_CMYK([A,S,T]){let M=1-A,R=1-S,O=1-T,I=Math.min(M,R,O);return["CMYK",M,R,O,I]}}S.ColorConverters=R},(A,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.NullL10n=void 0,S.getL10nFallback=M;let T={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function M(A,S){switch(A){case"find_match_count":A=`find_match_count[${1===S.total?"one":"other"}]`;break;case"find_match_count_limit":A=`find_match_count_limit[${1===S.limit?"one":"other"}]`}return T[A]||""}function R(A,S){return S?A.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(A,T)=>T in S?S[T]:"{{"+T+"}}"):A}T.print_progress_percent="{{progress}}%";let O={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",get:async(A,S=null,T=M(A,S))=>R(T,S),async translate(A){}};S.NullL10n=O},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.XfaLayer=void 0;var M=T(25);class R{static setupStorage(A,S,T,M,R){let O=M.getValue(S,{value:null});switch(T.name){case"textarea":if(null!==O.value&&(A.textContent=O.value),"print"===R)break;A.addEventListener("input",A=>{M.setValue(S,{value:A.target.value})});break;case"input":if("radio"===T.attributes.type||"checkbox"===T.attributes.type){if(O.value===T.attributes.xfaOn?A.setAttribute("checked",!0):O.value===T.attributes.xfaOff&&A.removeAttribute("checked"),"print"===R)break;A.addEventListener("change",A=>{M.setValue(S,{value:A.target.checked?A.target.getAttribute("xfaOn"):A.target.getAttribute("xfaOff")})})}else{if(null!==O.value&&A.setAttribute("value",O.value),"print"===R)break;A.addEventListener("input",A=>{M.setValue(S,{value:A.target.value})})}break;case"select":if(null!==O.value)for(let S of(A.setAttribute("value",O.value),T.children))S.attributes.value===O.value?S.attributes.selected=!0:S.attributes.hasOwnProperty("selected")&&delete S.attributes.selected;A.addEventListener("input",A=>{let T=A.target.options,R=-1===T.selectedIndex?"":T[T.selectedIndex].value;M.setValue(S,{value:R})})}}static setAttributes({html:A,element:S,storage:T=null,intent:M,linkService:R}){let{attributes:O}=S,I=A instanceof HTMLAnchorElement;for(let[S,T]of("radio"===O.type&&(O.name=`${O.name}-${M}`),Object.entries(O)))if(null!=T)switch(S){case"class":T.length&&A.setAttribute(S,T.join(" "));break;case"dataId":break;case"id":A.setAttribute("data-element-id",T);break;case"style":Object.assign(A.style,T);break;case"textContent":A.textContent=T;break;default:I&&("href"===S||"newWindow"===S)||A.setAttribute(S,T)}I&&R.addLinkAttributes(A,O.href,O.newWindow),T&&O.dataId&&this.setupStorage(A,O.dataId,S,T)}static render(A){let S=A.annotationStorage,T=A.linkService,R=A.xfaHtml,O=A.intent||"display",I=document.createElement(R.name);R.attributes&&this.setAttributes({html:I,element:R,intent:O,linkService:T});let F=[[R,-1,I]],D=A.div;if(D.append(I),A.viewport){let S=`matrix(${A.viewport.transform.join(",")})`;D.style.transform=S}"richText"!==O&&D.setAttribute("class","xfaLayer xfaFont");let L=[];for(;F.length>0;){let[A,R,I]=F.at(-1);if(R+1===A.children.length){F.pop();continue}let D=A.children[++F.at(-1)[1]];if(null===D)continue;let{name:N}=D;if("#text"===N){let A=document.createTextNode(D.value);L.push(A),I.append(A);continue}let B=D?.attributes?.xmlns?document.createElementNS(D.attributes.xmlns,N):document.createElement(N);if(I.append(B),D.attributes&&this.setAttributes({html:B,element:D,storage:S,intent:O,linkService:T}),D.children&&D.children.length>0)F.push([D,-1,B]);else if(D.value){let A=document.createTextNode(D.value);M.XfaText.shouldBuildText(N)&&L.push(A),B.append(A)}}for(let A of D.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:L}}static update(A){let S=`matrix(${A.viewport.transform.join(",")})`;A.div.style.transform=S,A.div.hidden=!1}}S.XfaLayer=R},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.InkEditor=void 0;var M=T(1),R=T(4),O=T(29),I=T(6),F=T(5);class D extends R.AnnotationEditor{#ic=0;#ip=0;#ig=this.canvasPointermove.bind(this);#im=this.canvasPointerleave.bind(this);#ib=this.canvasPointerup.bind(this);#iy=this.canvasPointerdown.bind(this);#iv=new Path2D;#iA=!1;#i_=!1;#iE=!1;#iS=null;#ix=0;#iw=0;#iC=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(A){super({...A,name:"inkEditor"}),this.color=A.color||null,this.thickness=A.thickness||null,this.opacity=A.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(A){R.AnnotationEditor.initialize(A,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(A,S){switch(A){case M.AnnotationEditorParamsType.INK_THICKNESS:D._defaultThickness=S;break;case M.AnnotationEditorParamsType.INK_COLOR:D._defaultColor=S;break;case M.AnnotationEditorParamsType.INK_OPACITY:D._defaultOpacity=S/100}}updateParams(A,S){switch(A){case M.AnnotationEditorParamsType.INK_THICKNESS:this.#iT(S);break;case M.AnnotationEditorParamsType.INK_COLOR:this.#eL(S);break;case M.AnnotationEditorParamsType.INK_OPACITY:this.#iP(S)}}static get defaultPropertiesToUpdate(){return[[M.AnnotationEditorParamsType.INK_THICKNESS,D._defaultThickness],[M.AnnotationEditorParamsType.INK_COLOR,D._defaultColor||R.AnnotationEditor._defaultLineColor],[M.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*D._defaultOpacity)]]}get propertiesToUpdate(){return[[M.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||D._defaultThickness],[M.AnnotationEditorParamsType.INK_COLOR,this.color||D._defaultColor||R.AnnotationEditor._defaultLineColor],[M.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??D._defaultOpacity))]]}#iT(A){let S=this.thickness;this.addCommands({cmd:()=>{this.thickness=A,this.#iM()},undo:()=>{this.thickness=S,this.#iM()},mustExec:!0,type:M.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#eL(A){let S=this.color;this.addCommands({cmd:()=>{this.color=A,this.#iR()},undo:()=>{this.color=S,this.#iR()},mustExec:!0,type:M.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#iP(A){A/=100;let S=this.opacity;this.addCommands({cmd:()=>{this.opacity=A,this.#iR()},undo:()=>{this.opacity=S,this.#iR()},mustExec:!0,type:M.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#ik(),this.#iO()),this.isAttachedToDOM||(this.parent.add(this),this.#iI()),this.#iM()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#iS.disconnect(),this.#iS=null,super.remove())}setParent(A){!this.parent&&A?this._uiManager.removeShouldRescale(this):this.parent&&null===A&&this._uiManager.addShouldRescale(this),super.setParent(A)}onScaleChanging(){let[A,S]=this.parentDimensions,T=this.width*A,M=this.height*S;this.setDimensions(T,M)}enableEditMode(){this.#iA||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#iy))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#iy))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#iF(){let{parentRotation:A,parentDimensions:[S,T]}=this;switch(A){case 90:return[0,T,T,S];case 180:return[S,T,S,T];case 270:return[S,0,T,S];default:return[0,0,S,T]}}#iD(){let{ctx:A,color:S,opacity:T,thickness:M,parentScale:R,scaleFactor:O}=this;A.lineWidth=M*R/O,A.lineCap="round",A.lineJoin="round",A.miterLimit=10,A.strokeStyle=`${S}${(0,F.opacityToHex)(T)}`}#iL(A,S){this.canvas.addEventListener("contextmenu",I.noContextMenu),this.canvas.addEventListener("pointerleave",this.#im),this.canvas.addEventListener("pointermove",this.#ig),this.canvas.addEventListener("pointerup",this.#ib),this.canvas.removeEventListener("pointerdown",this.#iy),this.isEditing=!0,this.#iE||(this.#iE=!0,this.#iI(),this.thickness||=D._defaultThickness,this.color||=D._defaultColor||R.AnnotationEditor._defaultLineColor,this.opacity??=D._defaultOpacity),this.currentPath.push([A,S]),this.#i_=!1,this.#iD(),this.#iC=()=>{this.#iN(),this.#iC&&window.requestAnimationFrame(this.#iC)},window.requestAnimationFrame(this.#iC)}#iB(A,S){let[T,M]=this.currentPath.at(-1);if(this.currentPath.length>1&&A===T&&S===M)return;let R=this.currentPath,O=this.#iv;if(R.push([A,S]),this.#i_=!0,R.length<=2){O.moveTo(...R[0]),O.lineTo(A,S);return}3===R.length&&(this.#iv=O=new Path2D,O.moveTo(...R[0])),this.#ij(O,...R.at(-3),...R.at(-2),A,S)}#iU(){if(0===this.currentPath.length)return;let A=this.currentPath.at(-1);this.#iv.lineTo(...A)}#i$(A,S){let T;if(this.#iC=null,A=Math.min(Math.max(A,0),this.canvas.width),S=Math.min(Math.max(S,0),this.canvas.height),this.#iB(A,S),this.#iU(),1!==this.currentPath.length)T=this.#iz();else{let M=[A,S];T=[[M,M.slice(),M.slice(),M]]}let M=this.#iv,R=this.currentPath;this.currentPath=[],this.#iv=new Path2D;let O=()=>{this.allRawPaths.push(R),this.paths.push(T),this.bezierPath2D.push(M),this.rebuild()},I=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#ik(),this.#iO()),this.#iM())};this.addCommands({cmd:O,undo:I,mustExec:!0})}#iN(){if(!this.#i_)return;this.#i_=!1,this.thickness,this.parentScale;let A=this.currentPath.slice(-3),{ctx:S}=(A.map(A=>A[0]),A.map(A=>A[1]),this);for(let A of(S.save(),S.clearRect(0,0,this.canvas.width,this.canvas.height),this.bezierPath2D))S.stroke(A);S.stroke(this.#iv),S.restore()}#ij(A,S,T,M,R,O,I){let F=(S+M)/2,D=(T+R)/2,L=(M+O)/2,N=(R+I)/2;A.bezierCurveTo(F+2*(M-F)/3,D+2*(R-D)/3,L+2*(M-L)/3,N+2*(R-N)/3,L,N)}#iz(){let A;let S=this.currentPath;if(S.length<=2)return[[S[0],S[0],S.at(-1),S.at(-1)]];let T=[],[M,R]=S[0];for(A=1;A<S.length-2;A++){let[O,I]=S[A],[F,D]=S[A+1],L=(O+F)/2,N=(I+D)/2,B=[M+2*(O-M)/3,R+2*(I-R)/3],$=[L+2*(O-L)/3,N+2*(I-N)/3];T.push([[M,R],B,$,[L,N]]),[M,R]=[L,N]}let[O,I]=S[A],[F,D]=S[A+1],L=[M+2*(O-M)/3,R+2*(I-R)/3],N=[F+2*(O-F)/3,D+2*(I-D)/3];return T.push([[M,R],L,N,[F,D]]),T}#iR(){if(this.isEmpty()){this.#iG();return}this.#iD();let{canvas:A,ctx:S}=this;for(let T of(S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,A.width,A.height),this.#iG(),this.bezierPath2D))S.stroke(T)}commit(){this.#iA||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#iA=!0,this.div.classList.add("disabled"),this.#iM(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(A){this._focusEventsAllowed&&(super.focusin(A),this.enableEditMode())}canvasPointerdown(A){0===A.button&&this.isInEditMode()&&!this.#iA&&(this.setInForeground(),A.preventDefault(),"mouse"!==A.type&&this.div.focus(),this.#iL(A.offsetX,A.offsetY))}canvasPointermove(A){A.preventDefault(),this.#iB(A.offsetX,A.offsetY)}canvasPointerup(A){A.preventDefault(),this.#iH(A)}canvasPointerleave(A){this.#iH(A)}#iH(A){this.canvas.removeEventListener("pointerleave",this.#im),this.canvas.removeEventListener("pointermove",this.#ig),this.canvas.removeEventListener("pointerup",this.#ib),this.canvas.addEventListener("pointerdown",this.#iy),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",I.noContextMenu)},10),this.#i$(A.offsetX,A.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#ik(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",R.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(A=>this.canvas?.setAttribute("aria-label",A)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#iO(){this.#iS=new ResizeObserver(A=>{let S=A[0].contentRect;S.width&&S.height&&this.setDimensions(S.width,S.height)}),this.#iS.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#iA}render(){let A,S;if(this.div)return this.div;this.width&&(A=this.x,S=this.y),super.render(),R.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(A=>this.div?.setAttribute("aria-label",A));let[T,M,O,I]=this.#iF();if(this.setAt(T,M,0,0),this.setDims(O,I),this.#ik(),this.width){let[T,M]=this.parentDimensions;this.setAspectRatio(this.width*T,this.height*M),this.setAt(A*T,S*M,this.width*T,this.height*M),this.#iE=!0,this.#iI(),this.setDims(this.width*T,this.height*M),this.#iR(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#iO(),this.div}#iI(){if(!this.#iE)return;let[A,S]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*A),this.canvas.height=Math.ceil(this.height*S),this.#iG()}setDimensions(A,S){let T=Math.round(A),M=Math.round(S);if(this.#ix===T&&this.#iw===M)return;this.#ix=T,this.#iw=M,this.canvas.style.visibility="hidden";let[R,O]=this.parentDimensions;this.width=A/R,this.height=S/O,this.fixAndSetPosition(),this.#iA&&this.#iV(A,S),this.#iI(),this.#iR(),this.canvas.style.visibility="visible",this.fixDims()}#iV(A,S){let T=this.#iW(),M=(A-T)/this.#ip,R=(S-T)/this.#ic;this.scaleFactor=Math.min(M,R)}#iG(){let A=this.#iW()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+A,this.translationY*this.scaleFactor+A)}static #iq(A){let S=new Path2D;for(let T=0,M=A.length;T<M;T++){let[M,R,O,I]=A[T];0===T&&S.moveTo(...M),S.bezierCurveTo(R[0],R[1],O[0],O[1],I[0],I[1])}return S}static #iX(A,S,T){let[M,R,O,I]=S;switch(T){case 0:for(let S=0,T=A.length;S<T;S+=2)A[S]+=M,A[S+1]=I-A[S+1];break;case 90:for(let S=0,T=A.length;S<T;S+=2){let T=A[S];A[S]=A[S+1]+M,A[S+1]=T+R}break;case 180:for(let S=0,T=A.length;S<T;S+=2)A[S]=O-A[S],A[S+1]+=R;break;case 270:for(let S=0,T=A.length;S<T;S+=2){let T=A[S];A[S]=O-A[S+1],A[S+1]=I-T}break;default:throw Error("Invalid rotation")}return A}static #iK(A,S,T){let[M,R,O,I]=S;switch(T){case 0:for(let S=0,T=A.length;S<T;S+=2)A[S]-=M,A[S+1]=I-A[S+1];break;case 90:for(let S=0,T=A.length;S<T;S+=2){let T=A[S];A[S]=A[S+1]-R,A[S+1]=T-M}break;case 180:for(let S=0,T=A.length;S<T;S+=2)A[S]=O-A[S],A[S+1]-=R;break;case 270:for(let S=0,T=A.length;S<T;S+=2){let T=A[S];A[S]=I-A[S+1],A[S+1]=O-T}break;default:throw Error("Invalid rotation")}return A}#iY(A,S,T,M){let R=[],O=this.thickness/2,I=A*S+O,F=A*T+O;for(let S of this.paths){let T=[],O=[];for(let M=0,R=S.length;M<R;M++){let[D,L,N,B]=S[M],$=A*D[0]+I,z=A*D[1]+F,H=A*L[0]+I,V=A*L[1]+F,W=A*N[0]+I,X=A*N[1]+F,K=A*B[0]+I,Y=A*B[1]+F;0===M&&(T.push($,z),O.push($,z)),T.push(H,V,W,X,K,Y),O.push(H,V),M===R-1&&O.push(K,Y)}R.push({bezier:D.#iX(T,M,this.rotation),points:D.#iX(O,M,this.rotation)})}return R}#iJ(){let A=1/0,S=-1/0,T=1/0,R=-1/0;for(let O of this.paths)for(let[I,F,D,L]of O){let O=M.Util.bezierBoundingBox(...I,...F,...D,...L);A=Math.min(A,O[0]),T=Math.min(T,O[1]),S=Math.max(S,O[2]),R=Math.max(R,O[3])}return[A,T,S,R]}#iW(){return this.#iA?Math.ceil(this.thickness*this.parentScale):0}#iM(A=!1){if(this.isEmpty())return;if(!this.#iA){this.#iR();return}let S=this.#iJ(),T=this.#iW();this.#ip=Math.max(R.AnnotationEditor.MIN_SIZE,S[2]-S[0]),this.#ic=Math.max(R.AnnotationEditor.MIN_SIZE,S[3]-S[1]);let M=Math.ceil(T+this.#ip*this.scaleFactor),O=Math.ceil(T+this.#ic*this.scaleFactor),[I,F]=this.parentDimensions;this.width=M/I,this.height=O/F,this.setAspectRatio(M,O);let D=this.translationX,L=this.translationY;this.translationX=-S[0],this.translationY=-S[1],this.#iI(),this.#iR(),this.#ix=M,this.#iw=O,this.setDims(M,O);let N=A?T/this.scaleFactor/2:0;this.translate(D-this.translationX-N,L-this.translationY-N)}static deserialize(A,S,T){if(A instanceof O.InkAnnotationElement)return null;let I=super.deserialize(A,S,T);I.thickness=A.thickness,I.color=M.Util.makeHexColor(...A.color),I.opacity=A.opacity;let[F,L]=I.pageDimensions,N=I.width*F,B=I.height*L,$=I.parentScale,z=A.thickness/2;I.#iA=!0,I.#ix=Math.round(N),I.#iw=Math.round(B);let{paths:H,rect:V,rotation:W}=A;for(let{bezier:A}of H){A=D.#iK(A,V,W);let S=[];I.paths.push(S);let T=$*(A[0]-z),M=$*(A[1]-z);for(let R=2,O=A.length;R<O;R+=6){let O=$*(A[R]-z),I=$*(A[R+1]-z),F=$*(A[R+2]-z),D=$*(A[R+3]-z),L=$*(A[R+4]-z),N=$*(A[R+5]-z);S.push([[T,M],[O,I],[F,D],[L,N]]),T=L,M=N}let R=this.#iq(S);I.bezierPath2D.push(R)}let X=I.#iJ();return I.#ip=Math.max(R.AnnotationEditor.MIN_SIZE,X[2]-X[0]),I.#ic=Math.max(R.AnnotationEditor.MIN_SIZE,X[3]-X[1]),I.#iV(N,B),I}serialize(){if(this.isEmpty())return null;let A=this.getRect(0,0),S=R.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:M.AnnotationEditorType.INK,color:S,thickness:this.thickness,opacity:this.opacity,paths:this.#iY(this.scaleFactor/this.parentScale,this.translationX,this.translationY,A),pageIndex:this.pageIndex,rect:A,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}S.InkEditor=D},(A,S,T)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.StampEditor=void 0;var M=T(1),R=T(4),O=T(6),I=T(29);class F extends R.AnnotationEditor{#iQ=null;#iZ=null;#i0=null;#i1=null;#i2=null;#i3=null;#iS=null;#i5=null;#i6=!1;#i8=!1;static _type="stamp";constructor(A){super({...A,name:"stampEditor"}),this.#i1=A.bitmapUrl,this.#i2=A.bitmapFile}static initialize(A){R.AnnotationEditor.initialize(A)}static get supportedTypes(){let A=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,M.shadow)(this,"supportedTypes",A.map(A=>`image/${A}`))}static get supportedTypesStr(){return(0,M.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(A){return this.supportedTypes.includes(A)}static paste(A,S){S.pasteEditor(M.AnnotationEditorType.STAMP,{bitmapFile:A.getAsFile()})}#i4(A,S=!1){if(!A){this.remove();return}this.#iQ=A.bitmap,S||(this.#iZ=A.id,this.#i6=A.isSvg),this.#ik()}#i7(){this.#i0=null,this._uiManager.enableWaiting(!1),this.#i3&&this.div.focus()}#i9(){if(this.#iZ){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#iZ).then(A=>this.#i4(A,!0)).finally(()=>this.#i7());return}if(this.#i1){let A=this.#i1;this.#i1=null,this._uiManager.enableWaiting(!0),this.#i0=this._uiManager.imageManager.getFromUrl(A).then(A=>this.#i4(A)).finally(()=>this.#i7());return}if(this.#i2){let A=this.#i2;this.#i2=null,this._uiManager.enableWaiting(!0),this.#i0=this._uiManager.imageManager.getFromFile(A).then(A=>this.#i4(A)).finally(()=>this.#i7());return}let A=document.createElement("input");A.type="file",A.accept=F.supportedTypesStr,this.#i0=new Promise(S=>{A.addEventListener("change",async()=>{if(A.files&&0!==A.files.length){this._uiManager.enableWaiting(!0);let S=await this._uiManager.imageManager.getFromFile(A.files[0]);this.#i4(S)}else this.remove();S()}),A.addEventListener("cancel",()=>{this.remove(),S()})}).finally(()=>this.#i7()),A.click()}remove(){this.#iZ&&(this.#iQ=null,this._uiManager.imageManager.deleteId(this.#iZ),this.#i3?.remove(),this.#i3=null,this.#iS?.disconnect(),this.#iS=null),super.remove()}rebuild(){if(!this.parent){this.#iZ&&this.#i9();return}super.rebuild(),null!==this.div&&(this.#iZ&&this.#i9(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#i0||this.#iQ||this.#i1||this.#i2)}get isResizable(){return!0}render(){let A,S;if(this.div)return this.div;if(this.width&&(A=this.x,S=this.y),super.render(),this.div.hidden=!0,this.#iQ?this.#ik():this.#i9(),this.width){let[T,M]=this.parentDimensions;this.setAt(A*T,S*M,this.width*T,this.height*M)}return this.div}#ik(){let{div:A}=this,{width:S,height:T}=this.#iQ,[M,R]=this.pageDimensions,O=.75;if(this.width)S=this.width*M,T=this.height*R;else if(S>O*M||T>O*R){let A=Math.min(O*M/S,O*R/T);S*=A,T*=A}let[I,F]=this.parentDimensions;this.setDims(S*I/M,T*F/R),this._uiManager.enableWaiting(!1);let D=this.#i3=document.createElement("canvas");A.append(D),A.hidden=!1,this.#rt(S,T),this.#iO(),this.#i8||(this.parent.addUndoableEditor(this),this.#i8=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#re(A,S){let[T,M]=this.parentDimensions;this.width=A/T,this.height=S/M,this.setDims(A,S),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#i5&&clearTimeout(this.#i5);let R=200;this.#i5=setTimeout(()=>{this.#i5=null,this.#rt(A,S)},R)}#ri(A,S){let{width:T,height:M}=this.#iQ,R=T,O=M,I=this.#iQ;for(;R>2*A||O>2*S;){let T=R,M=O;R>2*A&&(R=R>=16384?Math.floor(R/2)-1:Math.ceil(R/2)),O>2*S&&(O=O>=16384?Math.floor(O/2)-1:Math.ceil(O/2));let F=new OffscreenCanvas(R,O),D=F.getContext("2d");D.drawImage(I,0,0,T,M,0,0,R,O),I=F.transferToImageBitmap()}return I}#rt(A,S){A=Math.ceil(A),S=Math.ceil(S);let T=this.#i3;if(!T||T.width===A&&T.height===S)return;T.width=A,T.height=S;let M=this.#i6?this.#iQ:this.#ri(A,S),R=T.getContext("2d");R.filter=this._uiManager.hcmFilter,R.drawImage(M,0,0,M.width,M.height,0,0,A,S)}#rr(A){if(A){if(this.#i6){let A=this._uiManager.imageManager.getSvgUrl(this.#iZ);if(A)return A}let A=document.createElement("canvas");({width:A.width,height:A.height}=this.#iQ);let S=A.getContext("2d");return S.drawImage(this.#iQ,0,0),A.toDataURL()}if(this.#i6){let[A,S]=this.pageDimensions,T=Math.round(this.width*A*O.PixelsPerInch.PDF_TO_CSS_UNITS),M=Math.round(this.height*S*O.PixelsPerInch.PDF_TO_CSS_UNITS),R=new OffscreenCanvas(T,M),I=R.getContext("2d");return I.drawImage(this.#iQ,0,0,this.#iQ.width,this.#iQ.height,0,0,T,M),R.transferToImageBitmap()}return structuredClone(this.#iQ)}#iO(){this.#iS=new ResizeObserver(A=>{let S=A[0].contentRect;S.width&&S.height&&this.#re(S.width,S.height)}),this.#iS.observe(this.div)}static deserialize(A,S,T){if(A instanceof I.StampAnnotationElement)return null;let M=super.deserialize(A,S,T),{rect:R,bitmapUrl:O,bitmapId:F,isSvg:D,accessibilityData:L}=A;F&&T.imageManager.isValidId(F)?M.#iZ=F:M.#i1=O,M.#i6=D;let[N,B]=M.pageDimensions;return M.width=(R[2]-R[0])/N,M.height=(R[3]-R[1])/B,L&&(M.altTextData=L),M}serialize(A=!1,S=null){if(this.isEmpty())return null;let T={annotationType:M.AnnotationEditorType.STAMP,bitmapId:this.#iZ,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#i6,structTreeParentId:this._structTreeParentId};if(A)return T.bitmapUrl=this.#rr(!0),T.accessibilityData=this.altTextData,T;let{decorative:R,altText:O}=this.altTextData;if(!R&&O&&(T.accessibilityData={type:"Figure",alt:O}),null===S)return T;S.stamps||=new Map;let I=this.#i6?(T.rect[2]-T.rect[0])*(T.rect[3]-T.rect[1]):null;if(S.stamps.has(this.#iZ)){if(this.#i6){let A=S.stamps.get(this.#iZ);I>A.area&&(A.area=I,A.serialized.bitmap.close(),A.serialized.bitmap=this.#rr(!1))}}else S.stamps.set(this.#iZ,{area:I,serialized:T}),T.bitmap=this.#rr(!1);return T}}S.StampEditor=F}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var S=__webpack_module_cache__[A];if(void 0!==S)return S.exports;var T=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](T,T.exports,__w_pdfjs_require__),T.exports}var __nested_webpack_exports__={};return(()=>{var A=__nested_webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return S.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return O.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return S.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return S.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return I.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return F.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return S.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return S.CMapCompressionType}}),Object.defineProperty(A,"DOMSVGFactory",{enumerable:!0,get:function(){return M.DOMSVGFactory}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return S.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return D.GlobalWorkerOptions}}),Object.defineProperty(A,"ImageKind",{enumerable:!0,get:function(){return S.ImageKind}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return S.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return S.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return S.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return T.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return M.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return T.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return S.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return S.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return M.PixelsPerInch}}),Object.defineProperty(A,"PromiseCapability",{enumerable:!0,get:function(){return S.PromiseCapability}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return M.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return T.SVGGraphics}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return S.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return S.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return S.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return L.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return T.build}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return S.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return T.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return M.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return M.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return M.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return M.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return M.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return M.loadScript}}),Object.defineProperty(A,"noContextMenu",{enumerable:!0,get:function(){return M.noContextMenu}}),Object.defineProperty(A,"normalizeUnicode",{enumerable:!0,get:function(){return S.normalizeUnicode}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return R.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return M.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return S.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return R.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return T.version}});var S=__w_pdfjs_require__(1),T=__w_pdfjs_require__(2),M=__w_pdfjs_require__(6),R=__w_pdfjs_require__(26),O=__w_pdfjs_require__(27),I=__w_pdfjs_require__(5),F=__w_pdfjs_require__(29),D=__w_pdfjs_require__(14),L=__w_pdfjs_require__(32)})(),__nested_webpack_exports__})())},92703:function(A,S,T){"use strict";var M=T(50414);function R(){}function O(){}O.resetWarningCache=R,A.exports=function(){function A(A,S,T,R,O,I){if(I!==M){var F=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw F.name="Invariant Violation",F}}function S(){return A}A.isRequired=A;var T={array:A,bigint:A,bool:A,func:A,number:A,object:A,string:A,symbol:A,any:A,arrayOf:S,element:A,elementType:A,instanceOf:S,node:A,objectOf:S,oneOf:S,oneOfType:S,shape:S,exact:S,checkPropTypes:O,resetWarningCache:R};return T.PropTypes=T,T}},45697:function(A,S,T){A.exports=T(92703)()},50414:function(A){"use strict";var S="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";A.exports=S},26018:function(A){"use strict";var S=!0,T="Invariant failed";function M(A,M){if(!A){if(S)throw Error(T);var R="function"==typeof M?M():M;throw Error(R?"".concat(T,": ").concat(R):T)}}A.exports=M},42473:function(A){"use strict";var S=function(){};A.exports=S},93414:function(){},70172:function(){},2001:function(){},33779:function(){},82258:function(){},88887:function(A,S){"use strict";function T(A){var S=!1;return{promise:new Promise(function(T,M){A.then(function(A){return!S&&T(A)}).catch(function(A){return!S&&M(A)})}),cancel:function(){S=!0}}}Object.defineProperty(S,"__esModule",{value:!0}),S.default=T},68435:function(A,S){"use strict";var T=this&&this.__spreadArray||function(A,S,T){if(T||2==arguments.length)for(var M,R=0,O=S.length;R<O;R++)!M&&R in S||(M||(M=Array.prototype.slice.call(S,0,R)),M[R]=S[R]);return A.concat(M||Array.prototype.slice.call(S))};function M(A,T){var M={};return S.allEvents.forEach(function(S){var R=A[S];R&&(T?M[S]=function(A){return R(A,T(S))}:M[S]=R)}),M}Object.defineProperty(S,"__esModule",{value:!0}),S.allEvents=S.changeEvents=S.otherEvents=S.transitionEvents=S.animationEvents=S.wheelEvents=S.uiEvents=S.pointerEvents=S.touchEvents=S.selectionEvents=S.dragEvents=S.mouseEvents=S.mediaEvents=S.keyboardEvents=S.imageEvents=S.formEvents=S.focusEvents=S.compositionEvents=S.clipboardEvents=void 0,S.clipboardEvents=["onCopy","onCut","onPaste"],S.compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],S.focusEvents=["onFocus","onBlur"],S.formEvents=["onInput","onInvalid","onReset","onSubmit"],S.imageEvents=["onLoad","onError"],S.keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],S.mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],S.mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],S.dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],S.selectionEvents=["onSelect"],S.touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],S.pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],S.uiEvents=["onScroll"],S.wheelEvents=["onWheel"],S.animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],S.transitionEvents=["onTransitionEnd"],S.otherEvents=["onToggle"],S.changeEvents=["onChange"],S.allEvents=T(T(T(T(T(T(T(T(T(T(T(T(T(T(T(T(T(T([],S.clipboardEvents,!0),S.compositionEvents,!0),S.focusEvents,!0),S.formEvents,!0),S.imageEvents,!0),S.keyboardEvents,!0),S.mediaEvents,!0),S.mouseEvents,!0),S.dragEvents,!0),S.selectionEvents,!0),S.touchEvents,!0),S.pointerEvents,!0),S.uiEvents,!0),S.wheelEvents,!0),S.animationEvents,!0),S.transitionEvents,!0),S.changeEvents,!0),S.otherEvents,!0),S.default=M},27901:function(A,S){"use strict";function T(){for(var A=[],S=0;S<arguments.length;S++)A[S]=arguments[S];var T=A.filter(Boolean);return T.length<=1?T[0]||null:function(A){T.forEach(function(S){"function"==typeof S?S(A):S&&(S.current=A)})}}Object.defineProperty(S,"__esModule",{value:!0}),S.default=T},82087:function(A,S,T){"use strict";var M=this&&this.__createBinding||(Object.create?function(A,S,T,M){void 0===M&&(M=T);var R=Object.getOwnPropertyDescriptor(S,T);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(A,M,R)}:function(A,S,T,M){void 0===M&&(M=T),A[M]=S[T]}),R=this&&this.__setModuleDefault||(Object.create?function(A,S){Object.defineProperty(A,"default",{enumerable:!0,value:S})}:function(A,S){A.default=S}),O=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var S={};if(null!=A)for(var T in A)"default"!==T&&Object.prototype.hasOwnProperty.call(A,T)&&M(S,A,T);return R(S,A),S},I=this&&this.__awaiter||function(A,S,T,M){function R(A){return A instanceof T?A:new T(function(S){S(A)})}return new(T||(T=Promise))(function(T,O){function I(A){try{D(M.next(A))}catch(A){O(A)}}function F(A){try{D(M.throw(A))}catch(A){O(A)}}function D(A){A.done?T(A.value):R(A.value).then(I,F)}D((M=M.apply(A,S||[])).next())})},F=this&&this.__rest||function(A,S){var T={};for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&0>S.indexOf(M)&&(T[M]=A[M]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols)for(var R=0,M=Object.getOwnPropertySymbols(A);R<M.length;R++)0>S.indexOf(M[R])&&Object.prototype.propertyIsEnumerable.call(A,M[R])&&(T[M[R]]=A[M[R]]);return T},D=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let L=O(T(67294)),N=D(T(45697)),B=D(T(68435)),$=D(T(88887)),z=D(T(57966)),H=D(T(26018)),V=D(T(42473)),W=T(55487),X=D(T(18628)),K=D(T(94118)),Y=D(T(26808)),J=D(T(6270)),Q=D(T(62788)),Z=T(61973),tt=D(T(5014)),te=T(49999),{PDFDataRangeTransport:ti}=X.default,tr=(A,S)=>{switch(S){case Q.default.NEED_PASSWORD:{let S=prompt("Enter the password to open this PDF file.");A(S);break}case Q.default.INCORRECT_PASSWORD:{let S=prompt("Invalid password. Please try again.");A(S)}}};function tn(A){return"object"==typeof A&&null!==A&&("data"in A||"range"in A||"url"in A)}let ts=(0,L.forwardRef)(function(A,S){var{children:T,className:M,error:R="Failed to load PDF file.",externalLinkRel:O,externalLinkTarget:D,file:N,inputRef:Q,imageResourcesPath:te,loading:ts="Loading PDF…",noData:ta="No PDF file specified.",onItemClick:tl,onLoadError:th,onLoadProgress:td,onLoadSuccess:tu,onPassword:tc=tr,onSourceError:tp,onSourceSuccess:tf,options:tg,renderMode:tm,rotate:tb}=A,tv=F(A,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);let[tA,t_]=(0,tt.default)(),{value:tE,error:tS}=tA,[tw,tC]=(0,tt.default)(),{value:tT,error:tP}=tw,tM=(0,L.useRef)(new J.default),tR=(0,L.useRef)([]),tk=(0,L.useRef)(),tO=(0,L.useRef)();(0,L.useEffect)(()=>{N&&N!==tk.current&&tn(N)&&((0,V.default)(!(0,W.dequal)(N,tk.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),tk.current=N)},[N]),(0,L.useEffect)(()=>{tg&&tg!==tO.current&&((0,V.default)(!(0,W.dequal)(tg,tO.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),tO.current=tg)},[tg]);let tI=(0,L.useRef)({scrollPageIntoView:A=>{let{dest:S,pageNumber:T,pageIndex:M=T-1}=A;if(tl){tl({dest:S,pageIndex:M,pageNumber:T});return}let R=tR.current[M];if(R){R.scrollIntoView();return}(0,V.default)(!1,`An internal link leading to page ${T} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});function tF(){tf&&tf()}function tD(){tS&&((0,V.default)(!1,tS.toString()),tp&&tp(tS))}function tL(){t_({type:"RESET"})}(0,L.useImperativeHandle)(S,()=>({linkService:tM,pages:tR,viewer:tI}),[]),(0,L.useEffect)(tL,[N,t_]);let tN=(0,L.useCallback)(()=>I(this,void 0,void 0,function*(){if(!N)return null;if("string"==typeof N){if((0,Z.isDataURI)(N)){let A=(0,Z.dataURItoByteString)(N);return{data:A}}return(0,Z.displayCORSWarning)(),{url:N}}if(N instanceof ti)return{range:N};if((0,Z.isArrayBuffer)(N))return{data:N};if(Z.isBrowser&&(0,Z.isBlob)(N)){let A=yield(0,Z.loadFromFile)(N);return{data:A}}if((0,H.default)("object"==typeof N,"Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,H.default)(tn(N),"Invalid parameter object: need either .data, .range or .url"),"url"in N&&"string"==typeof N.url){if((0,Z.isDataURI)(N.url)){let{url:A}=N,S=F(N,["url"]),T=(0,Z.dataURItoByteString)(A);return Object.assign({data:T},S)}(0,Z.displayCORSWarning)()}return N}),[N]);function tB(){tT&&(tu&&tu(tT),tR.current=Array(tT.numPages),tM.current.setDocument(tT))}function tj(){tP&&((0,V.default)(!1,tP.toString()),th&&th(tP))}function tU(){tC({type:"RESET"})}function t$(){if(!tE)return;let A=Object.assign(Object.assign({},tg),{isEvalSupported:!1}),S=Object.assign(Object.assign({},tE),A),T=X.default.getDocument(S);td&&(T.onProgress=td),tc&&(T.onPassword=tc);let M=T;return M.promise.then(A=>{tC({type:"RESOLVE",value:A})}).catch(A=>{M.destroyed||tC({type:"REJECT",error:A})}),()=>{M.destroy()}}function tz(){tM.current.setViewer(tI.current),tM.current.setExternalLinkRel(O),tM.current.setExternalLinkTarget(D)}function tG(A,S){tR.current[A]=S}function tH(A){delete tR.current[A]}(0,L.useEffect)(()=>{let A=(0,$.default)(tN());return A.promise.then(A=>{t_({type:"RESOLVE",value:A})}).catch(A=>{t_({type:"REJECT",error:A})}),()=>{(0,Z.cancelRunningTask)(A)}},[tN,t_]),(0,L.useEffect)(()=>{if(void 0!==tE){if(!1===tE){tD();return}tF()}},[tE]),(0,L.useEffect)(tU,[tC,tE]),(0,L.useEffect)(t$,[tg,tC,tE]),(0,L.useEffect)(()=>{if(void 0!==tT){if(!1===tT){tj();return}tB()}},[tT]),(0,L.useEffect)(tz,[O,D]);let tV=(0,L.useMemo)(()=>({imageResourcesPath:te,linkService:tM.current,onItemClick:tl,pdf:tT,registerPage:tG,renderMode:tm,rotate:tb,unregisterPage:tH}),[te,tl,tT,tm,tb]),tW=(0,L.useMemo)(()=>(0,B.default)(tv,()=>tT),[tv,tT]);function tq(){return L.default.createElement(K.default.Provider,{value:tV},T)}function tX(){return N?null==tT?L.default.createElement(Y.default,{type:"loading"},"function"==typeof ts?ts():ts):!1===tT?L.default.createElement(Y.default,{type:"error"},"function"==typeof R?R():R):tq():L.default.createElement(Y.default,{type:"no-data"},"function"==typeof ta?ta():ta)}return L.default.createElement("div",Object.assign({className:(0,z.default)("react-pdf__Document",M),ref:Q,style:{"--scale-factor":"1"}},tW),tX())}),ta=N.default.oneOfType([N.default.func,N.default.node]);ts.propTypes=Object.assign(Object.assign({},te.eventProps),{children:N.default.node,className:te.isClassName,error:ta,externalLinkRel:N.default.string,externalLinkTarget:N.default.oneOf(["_self","_blank","_parent","_top"]),file:te.isFile,imageResourcesPath:N.default.string,inputRef:te.isRef,loading:ta,noData:ta,onItemClick:N.default.func,onLoadError:N.default.func,onLoadProgress:N.default.func,onLoadSuccess:N.default.func,onPassword:N.default.func,onSourceError:N.default.func,onSourceSuccess:N.default.func,options:N.default.shape({canvasFactory:N.default.any,canvasMaxAreaInBytes:N.default.number,cMapPacked:N.default.bool,CMapReaderFactory:N.default.any,cMapUrl:N.default.string,disableAutoFetch:N.default.bool,disableFontFace:N.default.bool,disableRange:N.default.bool,disableStream:N.default.bool,docBaseUrl:N.default.string,enableXfa:N.default.bool,filterFactory:N.default.any,fontExtraProperties:N.default.bool,httpHeaders:N.default.object,isEvalSupported:N.default.bool,isOffscreenCanvasSupported:N.default.bool,length:N.default.number,maxImageSize:N.default.number,ownerDocument:N.default.any,password:N.default.string,pdfBug:N.default.bool,rangeChunkSize:N.default.number,StandardFontDataFactory:N.default.any,standardFontDataUrl:N.default.string,stopAtErrors:N.default.bool,useSystemFonts:N.default.bool,useWorkerFetch:N.default.bool,verbosity:N.default.number,withCredentials:N.default.bool,worker:N.default.any}),rotate:N.default.number}),S.default=ts},94118:function(A,S,T){"use strict";Object.defineProperty(S,"__esModule",{value:!0});let M=T(67294);S.default=(0,M.createContext)(null)},6270:function(A,S,T){"use strict";var M=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let R=M(T(26018)),O="noopener noreferrer nofollow";class I{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(A){this.pdfDocument=A}setViewer(A){this.pdfViewer=A}setExternalLinkRel(A){this.externalLinkRel=A}setExternalLinkTarget(A){this.externalLinkTarget=A}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return(0,R.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(A){(0,R.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=A}get rotation(){return 0}set rotation(A){}goToDestination(A){return new Promise(S=>{(0,R.default)(this.pdfDocument,"PDF document not loaded."),(0,R.default)(A,"Destination is not specified."),"string"==typeof A?this.pdfDocument.getDestination(A).then(S):Array.isArray(A)?S(A):A.then(S)}).then(A=>{(0,R.default)(Array.isArray(A),`"${A}" is not a valid destination array.`);let S=A[0];new Promise(A=>{(0,R.default)(this.pdfDocument,"PDF document not loaded."),S instanceof Object?this.pdfDocument.getPageIndex(S).then(S=>{A(S)}).catch(()=>{(0,R.default)(!1,`"${S}" is not a valid page reference.`)}):"number"==typeof S?A(S):(0,R.default)(!1,`"${S}" is not a valid destination reference.`)}).then(S=>{let T=S+1;(0,R.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,R.default)(T>=1&&T<=this.pagesCount,`"${T}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:A,pageIndex:S,pageNumber:T})})})}navigateTo(A){this.goToDestination(A)}goToPage(A){let S=A-1;(0,R.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,R.default)(A>=1&&A<=this.pagesCount,`"${A}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:S,pageNumber:A})}addLinkAttributes(A,S,T){A.href=S,A.rel=this.externalLinkRel||O,A.target=T?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}S.default=I},26808:function(A,S,T){"use strict";var M=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let R=M(T(67294));function O({children:A,type:S}){return R.default.createElement("div",{className:`react-pdf__message react-pdf__message--${S}`},A)}S.default=O},54533:function(A,S,T){"use strict";var M=this&&this.__createBinding||(Object.create?function(A,S,T,M){void 0===M&&(M=T);var R=Object.getOwnPropertyDescriptor(S,T);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(A,M,R)}:function(A,S,T,M){void 0===M&&(M=T),A[M]=S[T]}),R=this&&this.__setModuleDefault||(Object.create?function(A,S){Object.defineProperty(A,"default",{enumerable:!0,value:S})}:function(A,S){A.default=S}),O=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var S={};if(null!=A)for(var T in A)"default"!==T&&Object.prototype.hasOwnProperty.call(A,T)&&M(S,A,T);return R(S,A),S},I=this&&this.__rest||function(A,S){var T={};for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&0>S.indexOf(M)&&(T[M]=A[M]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols)for(var R=0,M=Object.getOwnPropertySymbols(A);R<M.length;R++)0>S.indexOf(M[R])&&Object.prototype.propertyIsEnumerable.call(A,M[R])&&(T[M[R]]=A[M[R]]);return T},F=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let D=O(T(67294)),L=F(T(45697)),N=F(T(88887)),B=F(T(68435)),$=F(T(57966)),z=F(T(26018)),H=F(T(42473)),V=F(T(70502)),W=F(T(44520)),X=T(61973),K=F(T(30529)),Y=F(T(5014)),J=T(49999),Q=function(A){let S=(0,K.default)(),T=Object.assign(Object.assign({},S),A),{className:M,inputRef:R,onItemClick:O,onLoadError:F,onLoadSuccess:L,pdf:J}=T,Q=I(T,["className","inputRef","onItemClick","onLoadError","onLoadSuccess","pdf"]);(0,z.default)(J,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");let[Z,tt]=(0,Y.default)(),{value:te,error:ti}=Z;function tr(){void 0!==te&&!1!==te&&L&&L(te)}function tn(){ti&&((0,H.default)(!1,ti.toString()),F&&F(ti))}function ts(){tt({type:"RESET"})}function ta(){if(!J)return;let A=(0,N.default)(J.getOutline()),S=A;return A.promise.then(A=>{tt({type:"RESOLVE",value:A})}).catch(A=>{tt({type:"REJECT",error:A})}),()=>(0,X.cancelRunningTask)(S)}(0,D.useEffect)(ts,[tt,J]),(0,D.useEffect)(ta,[tt,J]),(0,D.useEffect)(()=>{if(void 0!==te){if(!1===te){tn();return}tr()}},[te]);let tl=(0,D.useMemo)(()=>({onItemClick:O}),[O]),th=(0,D.useMemo)(()=>(0,B.default)(Q,()=>te),[Q,te]);if(!te)return null;function td(){return te?D.default.createElement("ul",null,te.map((A,S)=>D.default.createElement(W.default,{key:"string"==typeof A.dest?A.dest:S,item:A,pdf:J}))):null}return D.default.createElement("div",Object.assign({className:(0,$.default)("react-pdf__Outline",M),ref:R},th),D.default.createElement(V.default.Provider,{value:tl},td()))};Q.propTypes=Object.assign(Object.assign({},J.eventProps),{className:J.isClassName,inputRef:J.isRef,onItemClick:L.default.func,onLoadError:L.default.func,onLoadSuccess:L.default.func,pdf:J.isPdf}),S.default=Q},70502:function(A,S,T){"use strict";Object.defineProperty(S,"__esModule",{value:!0});let M=T(67294);S.default=(0,M.createContext)(null)},44520:function(A,S,T){"use strict";var M=this&&this.__awaiter||function(A,S,T,M){function R(A){return A instanceof T?A:new T(function(S){S(A)})}return new(T||(T=Promise))(function(T,O){function I(A){try{D(M.next(A))}catch(A){O(A)}}function F(A){try{D(M.throw(A))}catch(A){O(A)}}function D(A){A.done?T(A.value):R(A.value).then(I,F)}D((M=M.apply(A,S||[])).next())})},R=this&&this.__rest||function(A,S){var T={};for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&0>S.indexOf(M)&&(T[M]=A[M]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols)for(var R=0,M=Object.getOwnPropertySymbols(A);R<M.length;R++)0>S.indexOf(M[R])&&Object.prototype.propertyIsEnumerable.call(A,M[R])&&(T[M[R]]=A[M[R]]);return T},O=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let I=O(T(67294)),F=O(T(26018)),D=O(T(18642)),L=O(T(97322)),N=O(T(30529)),B=O(T(21902));function $(A){let S=(0,N.default)(),T=(0,B.default)();(0,F.default)(T,"Unable to find Outline context.");let O=Object.assign(Object.assign(Object.assign({},S),T),A),{item:z,linkService:H,onItemClick:V,pdf:W}=O,X=R(O,["item","linkService","onItemClick","pdf"]);(0,F.default)(W,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");let K=(0,L.default)(()=>"string"==typeof z.dest?W.getDestination(z.dest):z.dest),Y=(0,L.default)(()=>M(this,void 0,void 0,function*(){let A=yield K();if(!A)throw Error("Destination not found.");let[S]=A;return W.getPageIndex(new D.default(S))})),J=(0,L.default)(()=>M(this,void 0,void 0,function*(){let A=yield Y();return A+1}));function Q(A){A.preventDefault(),(0,F.default)(V||H,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),V?Promise.all([K(),Y(),J()]).then(([A,S,T])=>{V({dest:A,pageIndex:S,pageNumber:T})}):H&&H.goToDestination(z.dest)}function Z(){if(!z.items||!z.items.length)return null;let{items:A}=z;return I.default.createElement("ul",null,A.map((A,S)=>I.default.createElement($,Object.assign({key:"string"==typeof A.dest?A.dest:S,item:A,pdf:W},X))))}return I.default.createElement("li",null,I.default.createElement("a",{href:"#",onClick:Q},z.title),Z())}S.default=$},58160:function(A,S,T){"use strict";var M=this&&this.__createBinding||(Object.create?function(A,S,T,M){void 0===M&&(M=T);var R=Object.getOwnPropertyDescriptor(S,T);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(A,M,R)}:function(A,S,T,M){void 0===M&&(M=T),A[M]=S[T]}),R=this&&this.__setModuleDefault||(Object.create?function(A,S){Object.defineProperty(A,"default",{enumerable:!0,value:S})}:function(A,S){A.default=S}),O=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var S={};if(null!=A)for(var T in A)"default"!==T&&Object.prototype.hasOwnProperty.call(A,T)&&M(S,A,T);return R(S,A),S},I=this&&this.__rest||function(A,S){var T={};for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&0>S.indexOf(M)&&(T[M]=A[M]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols)for(var R=0,M=Object.getOwnPropertySymbols(A);R<M.length;R++)0>S.indexOf(M[R])&&Object.prototype.propertyIsEnumerable.call(A,M[R])&&(T[M[R]]=A[M[R]]);return T},F=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let D=O(T(67294)),L=F(T(45697)),N=F(T(88887)),B=F(T(68435)),$=F(T(57966)),z=F(T(27901)),H=F(T(26018)),V=F(T(42473)),W=F(T(54721)),X=F(T(26808)),K=F(T(67397)),Y=F(T(98102)),J=F(T(350)),Q=F(T(57292)),Z=T(61973),tt=F(T(30529)),te=F(T(5014)),ti=T(49999),tr=1,tn=function(A){let S=(0,tt.default)(),T=Object.assign(Object.assign({},S),A),{_className:M="react-pdf__Page",_enableRegisterUnregisterPage:R=!0,canvasBackground:O,canvasRef:F,children:L,className:ti,customRenderer:tn,customTextRenderer:ts,devicePixelRatio:ta,error:tl="Failed to load the page.",height:th,inputRef:td,loading:tu="Loading page…",noData:tc="No page specified.",onGetAnnotationsError:tp,onGetAnnotationsSuccess:tf,onGetStructTreeError:tg,onGetStructTreeSuccess:tm,onGetTextError:tb,onGetTextSuccess:tv,onLoadError:tA,onLoadSuccess:t_,onRenderAnnotationLayerError:tE,onRenderAnnotationLayerSuccess:tS,onRenderError:tw,onRenderSuccess:tC,onRenderTextLayerError:tT,onRenderTextLayerSuccess:tP,pageIndex:tM,pageNumber:tR,pdf:tk,registerPage:tO,renderAnnotationLayer:tI=!0,renderForms:tF=!1,renderMode:tD="canvas",renderTextLayer:tL=!0,rotate:tN,scale:tB=tr,unregisterPage:tj,width:tU}=T,t$=I(T,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[tz,tG]=(0,te.default)(),{value:tH,error:tV}=tz,tW=(0,D.useRef)(null);(0,H.default)(tk,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");let tq=(0,Z.isProvided)(tR)?tR-1:null!=tM?tM:null,tX=null!=tR?tR:(0,Z.isProvided)(tM)?tM+1:null,tK=null!=tN?tN:tH?tH.rotate:null,tY=(0,D.useMemo)(()=>{if(!tH)return null;let A=1,S=null!=tB?tB:tr;if(tU||th){let S=tH.getViewport({scale:1,rotation:tK});tU?A=tU/S.width:th&&(A=th/S.height)}return S*A},[th,tH,tK,tB,tU]);function tJ(){return()=>{(0,Z.isProvided)(tq)&&R&&tj&&tj(tq)}}function tQ(){if(t_){if(!tH||!tY)return;t_((0,Z.makePageCallback)(tH,tY))}if(R&&tO){if(!(0,Z.isProvided)(tq)||!tW.current)return;tO(tq,tW.current)}}function tZ(){tV&&((0,V.default)(!1,tV.toString()),tA&&tA(tV))}function t0(){tG({type:"RESET"})}function t3(){if(!tk||!tX)return;let A=(0,N.default)(tk.getPage(tX)),S=A;return A.promise.then(A=>{tG({type:"RESOLVE",value:A})}).catch(A=>{tG({type:"REJECT",error:A})}),()=>(0,Z.cancelRunningTask)(S)}(0,D.useEffect)(tJ,[R,tk,tq,tj]),(0,D.useEffect)(t0,[tG,tk,tq]),(0,D.useEffect)(t3,[tG,tk,tq,tX,tO]),(0,D.useEffect)(()=>{if(void 0!==tH){if(!1===tH){tZ();return}tQ()}},[tH,tY]);let t5=(0,D.useMemo)(()=>tH&&(0,Z.isProvided)(tq)&&tX&&(0,Z.isProvided)(tK)&&(0,Z.isProvided)(tY)?{_className:M,canvasBackground:O,customTextRenderer:ts,devicePixelRatio:ta,onGetAnnotationsError:tp,onGetAnnotationsSuccess:tf,onGetStructTreeError:tg,onGetStructTreeSuccess:tm,onGetTextError:tb,onGetTextSuccess:tv,onRenderAnnotationLayerError:tE,onRenderAnnotationLayerSuccess:tS,onRenderError:tw,onRenderSuccess:tC,onRenderTextLayerError:tT,onRenderTextLayerSuccess:tP,page:tH,pageIndex:tq,pageNumber:tX,renderForms:tF,renderTextLayer:tL,rotate:tK,scale:tY}:null,[M,O,ts,ta,tp,tf,tg,tm,tb,tv,tE,tS,tw,tC,tT,tP,tH,tq,tX,tF,tL,tK,tY]),t6=(0,D.useMemo)(()=>(0,B.default)(t$,()=>tH?tY?(0,Z.makePageCallback)(tH,tY):void 0:tH),[t$,tH,tY]),t8=`${tq}@${tY}/${tK}`,t4=`${tq}/${tK}`;function t7(){switch(tD){case"custom":return(0,H.default)(tn,'renderMode was set to "custom", but no customRenderer was passed.'),D.default.createElement(tn,{key:`${t8}_custom`});case"none":return null;case"svg":return D.default.createElement(Y.default,{key:`${t4}_svg`});default:return D.default.createElement(K.default,{key:`${t8}_canvas`,canvasRef:F})}}function t9(){return tL?D.default.createElement(J.default,{key:`${t8}_text`}):null}function et(){return tI?D.default.createElement(Q.default,{key:`${t8}_annotations`}):null}function ee(){return D.default.createElement(W.default.Provider,{value:t5},t7(),t9(),et(),L)}function ei(){return tX?null===tk||null==tH?D.default.createElement(X.default,{type:"loading"},"function"==typeof tu?tu():tu):!1===tk||!1===tH?D.default.createElement(X.default,{type:"error"},"function"==typeof tl?tl():tl):ee():D.default.createElement(X.default,{type:"no-data"},"function"==typeof tc?tc():tc)}return D.default.createElement("div",Object.assign({className:(0,$.default)(M,ti),"data-page-number":tX,ref:(0,z.default)(td,tW),style:{"--scale-factor":`${tY}`,backgroundColor:O||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},t6),ei())},ts=L.default.oneOfType([L.default.func,L.default.node]);tn.propTypes=Object.assign(Object.assign({},ti.eventProps),{canvasBackground:L.default.string,canvasRef:ti.isRef,children:L.default.node,className:ti.isClassName,customRenderer:L.default.func,customTextRenderer:L.default.func,devicePixelRatio:L.default.number,error:ts,height:L.default.number,imageResourcesPath:L.default.string,inputRef:ti.isRef,loading:ts,noData:ts,onGetTextError:L.default.func,onGetTextSuccess:L.default.func,onLoadError:L.default.func,onLoadSuccess:L.default.func,onRenderError:L.default.func,onRenderSuccess:L.default.func,onRenderTextLayerError:L.default.func,onRenderTextLayerSuccess:L.default.func,pageIndex:ti.isPageIndex,pageNumber:ti.isPageNumber,pdf:ti.isPdf,renderAnnotationLayer:L.default.bool,renderForms:L.default.bool,renderMode:ti.isRenderMode,renderTextLayer:L.default.bool,rotate:ti.isRotate,scale:L.default.number,width:L.default.number}),S.default=tn},57292:function(A,S,T){"use strict";var M=this&&this.__createBinding||(Object.create?function(A,S,T,M){void 0===M&&(M=T);var R=Object.getOwnPropertyDescriptor(S,T);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(A,M,R)}:function(A,S,T,M){void 0===M&&(M=T),A[M]=S[T]}),R=this&&this.__setModuleDefault||(Object.create?function(A,S){Object.defineProperty(A,"default",{enumerable:!0,value:S})}:function(A,S){A.default=S}),O=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var S={};if(null!=A)for(var T in A)"default"!==T&&Object.prototype.hasOwnProperty.call(A,T)&&M(S,A,T);return R(S,A),S},I=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let F=O(T(67294)),D=I(T(88887)),L=I(T(57966)),N=I(T(26018)),B=I(T(42473)),$=I(T(18628)),z=I(T(30529)),H=I(T(94602)),V=I(T(5014)),W=T(61973);function X(){let A=(0,z.default)(),S=(0,H.default)();(0,N.default)(S,"Unable to find Page context.");let T=Object.assign(Object.assign({},A),S),{imageResourcesPath:M,linkService:R,onGetAnnotationsError:O,onGetAnnotationsSuccess:I,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:K,page:Y,pdf:J,renderForms:Q,rotate:Z,scale:tt=1}=T;(0,N.default)(J,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),(0,N.default)(Y,"Attempted to load page annotations, but no page was specified."),(0,N.default)(R,"Attempted to load page annotations, but no linkService was specified.");let[te,ti]=(0,V.default)(),{value:tr,error:tn}=te,ts=(0,F.useRef)(null);function ta(){tr&&I&&I(tr)}function tl(){tn&&((0,B.default)(!1,tn.toString()),O&&O(tn))}function th(){ti({type:"RESET"})}function td(){if(!Y)return;let A=(0,D.default)(Y.getAnnotations()),S=A;return A.promise.then(A=>{ti({type:"RESOLVE",value:A})}).catch(A=>{ti({type:"REJECT",error:A})}),()=>{(0,W.cancelRunningTask)(S)}}function tu(){K&&K()}function tc(A){(0,B.default)(!1,`${A}`),X&&X(A)}(0,B.default)(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,F.useEffect)(th,[ti,Y]),(0,F.useEffect)(td,[ti,Y,Q]),(0,F.useEffect)(()=>{if(void 0!==tr){if(!1===tr){tl();return}ta()}},[tr]);let tp=(0,F.useMemo)(()=>Y.getViewport({scale:tt,rotation:Z}),[Y,Z,tt]);function tf(){if(!J||!Y||!R||!tr)return;let{current:A}=ts;if(!A)return;let S=tp.clone({dontFlip:!0}),T={accessibilityManager:null,annotationCanvasMap:null,div:A,l10n:null,page:Y,viewport:S},O={annotations:tr,annotationStorage:J.annotationStorage,div:A,downloadManager:null,imageResourcesPath:M,linkService:R,page:Y,renderForms:Q,viewport:S};A.innerHTML="";try{new $.default.AnnotationLayer(T).render(O),tu()}catch(A){tc(A)}return()=>{}}return(0,F.useEffect)(tf,[tr,M,R,Y,Q,tp]),F.default.createElement("div",{className:(0,L.default)("react-pdf__Page__annotations","annotationLayer"),ref:ts})}S.default=X},67397:function(A,S,T){"use strict";var M=this&&this.__createBinding||(Object.create?function(A,S,T,M){void 0===M&&(M=T);var R=Object.getOwnPropertyDescriptor(S,T);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(A,M,R)}:function(A,S,T,M){void 0===M&&(M=T),A[M]=S[T]}),R=this&&this.__setModuleDefault||(Object.create?function(A,S){Object.defineProperty(A,"default",{enumerable:!0,value:S})}:function(A,S){A.default=S}),O=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var S={};if(null!=A)for(var T in A)"default"!==T&&Object.prototype.hasOwnProperty.call(A,T)&&M(S,A,T);return R(S,A),S},I=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let F=O(T(67294)),D=I(T(27901)),L=I(T(26018)),N=I(T(42473)),B=I(T(18628)),$=I(T(45105)),z=I(T(94602)),H=T(61973),V=B.default.AnnotationMode;function W(A){let S=(0,z.default)();(0,L.default)(S,"Unable to find Page context.");let T=Object.assign(Object.assign({},S),A),{_className:M,canvasBackground:R,devicePixelRatio:O=(0,H.getDevicePixelRatio)(),onRenderError:I,onRenderSuccess:B,page:W,renderForms:X,renderTextLayer:K,rotate:Y,scale:J}=T,{canvasRef:Q}=A;(0,L.default)(W,"Attempted to render page canvas, but no page was specified.");let Z=(0,F.useRef)(null);function tt(){W&&B&&B((0,H.makePageCallback)(W,J))}function te(A){!(0,H.isCancelException)(A)&&((0,N.default)(!1,A.toString()),I&&I(A))}let ti=(0,F.useMemo)(()=>W.getViewport({scale:J*O,rotation:Y}),[O,W,Y,J]),tr=(0,F.useMemo)(()=>W.getViewport({scale:J,rotation:Y}),[W,Y,J]);function tn(){if(!W)return;W.cleanup();let{current:A}=Z;if(!A)return;A.width=ti.width,A.height=ti.height,A.style.width=`${Math.floor(tr.width)}px`,A.style.height=`${Math.floor(tr.height)}px`,A.style.visibility="hidden";let S={annotationMode:X?V.ENABLE_FORMS:V.ENABLE,canvasContext:A.getContext("2d",{alpha:!1}),viewport:ti};R&&(S.background=R);let T=W.render(S),M=T;return T.promise.then(()=>{A.style.visibility="",tt()}).catch(te),()=>(0,H.cancelRunningTask)(M)}(0,F.useEffect)(tn,[R,Z,O,W,X,ti,tr]);let ts=(0,F.useCallback)(()=>{let{current:A}=Z;A&&(A.width=0,A.height=0)},[Z]);return(0,F.useEffect)(()=>ts,[ts]),F.default.createElement("canvas",{className:`${M}__canvas`,dir:"ltr",ref:(0,D.default)(Q,Z),style:{display:"block",userSelect:"none"}},K?F.default.createElement($.default,null):null)}S.default=W},98102:function(A,S,T){"use strict";var M=this&&this.__createBinding||(Object.create?function(A,S,T,M){void 0===M&&(M=T);var R=Object.getOwnPropertyDescriptor(S,T);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(A,M,R)}:function(A,S,T,M){void 0===M&&(M=T),A[M]=S[T]}),R=this&&this.__setModuleDefault||(Object.create?function(A,S){Object.defineProperty(A,"default",{enumerable:!0,value:S})}:function(A,S){A.default=S}),O=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var S={};if(null!=A)for(var T in A)"default"!==T&&Object.prototype.hasOwnProperty.call(A,T)&&M(S,A,T);return R(S,A),S},I=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let F=O(T(67294)),D=I(T(88887)),L=I(T(26018)),N=I(T(42473)),B=I(T(18628)),$=I(T(94602)),z=I(T(5014)),H=T(61973);function V(){let A=(0,$.default)();(0,L.default)(A,"Unable to find Page context.");let{_className:S,onRenderSuccess:T,onRenderError:M,page:R,rotate:O,scale:I}=A;(0,L.default)(R,"Attempted to render page SVG, but no page was specified.");let[V,W]=(0,z.default)(),{value:X,error:K}=V;function Y(){R&&T&&T((0,H.makePageCallback)(R,I))}function J(){!(!K||(0,H.isCancelException)(K))&&((0,N.default)(!1,K.toString()),M&&M(K))}let Q=(0,F.useMemo)(()=>R.getViewport({scale:I,rotation:O}),[R,O,I]);function Z(){W({type:"RESET"})}function tt(){if(!R)return;let A=(0,D.default)(R.getOperatorList());return A.promise.then(A=>{let S=new B.default.SVGGraphics(R.commonObjs,R.objs);S.getSVG(A,Q).then(A=>{if(!(A instanceof SVGElement))throw Error("getSVG returned unexpected result.");W({type:"RESOLVE",value:A})}).catch(A=>{W({type:"REJECT",error:A})})}).catch(A=>{W({type:"REJECT",error:A})}),()=>(0,H.cancelRunningTask)(A)}function te(A){if(!A||!X)return;A.firstElementChild||A.appendChild(X);let{width:S,height:T}=Q;X.setAttribute("width",`${S}`),X.setAttribute("height",`${T}`)}(0,F.useEffect)(Z,[R,W,Q]),(0,F.useEffect)(tt,[R,W,Q]),(0,F.useEffect)(()=>{if(void 0!==X){if(!1===X){J();return}Y()}},[X]);let{width:ti,height:tr}=Q;return F.default.createElement("div",{className:`${S}__svg`,ref:A=>te(A),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:ti,height:tr,userSelect:"none"}})}S.default=V},350:function(A,S,T){"use strict";var M=this&&this.__createBinding||(Object.create?function(A,S,T,M){void 0===M&&(M=T);var R=Object.getOwnPropertyDescriptor(S,T);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(A,M,R)}:function(A,S,T,M){void 0===M&&(M=T),A[M]=S[T]}),R=this&&this.__setModuleDefault||(Object.create?function(A,S){Object.defineProperty(A,"default",{enumerable:!0,value:S})}:function(A,S){A.default=S}),O=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var S={};if(null!=A)for(var T in A)"default"!==T&&Object.prototype.hasOwnProperty.call(A,T)&&M(S,A,T);return R(S,A),S},I=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let F=O(T(67294)),D=I(T(88887)),L=I(T(57966)),N=I(T(26018)),B=I(T(42473)),$=I(T(18628)),z=I(T(94602)),H=I(T(5014)),V=T(61973);function W(A){return"str"in A}function X(){let A=(0,z.default)();(0,N.default)(A,"Unable to find Page context.");let{customTextRenderer:S,onGetTextError:T,onGetTextSuccess:M,onRenderTextLayerError:R,onRenderTextLayerSuccess:O,page:I,pageIndex:X,pageNumber:K,rotate:Y,scale:J}=A;(0,N.default)(I,"Attempted to load page text content, but no page was specified.");let[Q,Z]=(0,H.default)(),{value:tt,error:te}=Q,ti=(0,F.useRef)(null),tr=(0,F.useRef)();function tn(){tt&&M&&M(tt)}function ts(){te&&((0,B.default)(!1,te.toString()),T&&T(te))}function ta(){Z({type:"RESET"})}function tl(){if(!I)return;let A=(0,D.default)(I.getTextContent()),S=A;return A.promise.then(A=>{Z({type:"RESOLVE",value:A})}).catch(A=>{Z({type:"REJECT",error:A})}),()=>(0,V.cancelRunningTask)(S)}(0,B.default)(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,F.useEffect)(ta,[I,Z]),(0,F.useEffect)(tl,[I,Z]),(0,F.useEffect)(()=>{if(void 0!==tt){if(!1===tt){ts();return}tn()}},[tt]);let th=(0,F.useCallback)(()=>{O&&O()},[O]),td=(0,F.useCallback)(A=>{(0,B.default)(!1,A.toString()),R&&R(A)},[R]);function tu(){let A=tr.current;A&&A.classList.add("active")}function tc(){let A=tr.current;A&&A.classList.remove("active")}let tp=(0,F.useMemo)(()=>I.getViewport({scale:J,rotation:Y}),[I,Y,J]);function tf(){if(!I||!tt)return;let{current:A}=ti;if(!A)return;A.innerHTML="";let T=I.streamTextContent({includeMarkedContent:!0}),M={container:A,textContentSource:T,viewport:tp},R=$.default.renderTextLayer(M),O=R;return R.promise.then(()=>{let T=document.createElement("div");T.className="endOfContent",A.append(T),tr.current=T;let M=A.querySelectorAll('[role="presentation"]');if(S){let A=0;tt.items.forEach((T,R)=>{if(!W(T))return;let O=M[A];if(!O)return;let I=S(Object.assign({pageIndex:X,pageNumber:K,itemIndex:R},T));O.innerHTML=I,A+=T.str&&T.hasEOL?2:1})}th()}).catch(td),()=>(0,V.cancelRunningTask)(O)}return(0,F.useLayoutEffect)(tf,[S,td,th,I,X,K,tt,tp]),F.default.createElement("div",{className:(0,L.default)("react-pdf__Page__textContent","textLayer"),onMouseUp:tc,onMouseDown:tu,ref:ti})}S.default=X},54721:function(A,S,T){"use strict";Object.defineProperty(S,"__esModule",{value:!0});let M=T(67294);S.default=(0,M.createContext)(null)},62788:function(A,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});let T={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};S.default=T},18642:function(A,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});class T{constructor({num:A,gen:S}){this.num=A,this.gen=S}toString(){let A=`${this.num}R`;return 0!==this.gen&&(A+=this.gen),A}}S.default=T},45105:function(A,S,T){"use strict";var M=this&&this.__createBinding||(Object.create?function(A,S,T,M){void 0===M&&(M=T);var R=Object.getOwnPropertyDescriptor(S,T);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(A,M,R)}:function(A,S,T,M){void 0===M&&(M=T),A[M]=S[T]}),R=this&&this.__setModuleDefault||(Object.create?function(A,S){Object.defineProperty(A,"default",{enumerable:!0,value:S})}:function(A,S){A.default=S}),O=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var S={};if(null!=A)for(var T in A)"default"!==T&&Object.prototype.hasOwnProperty.call(A,T)&&M(S,A,T);return R(S,A),S},I=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let F=O(T(67294)),D=I(T(88887)),L=I(T(26018)),N=I(T(42473)),B=I(T(97640)),$=I(T(94602)),z=I(T(5014)),H=T(61973);function V(){let A=(0,$.default)();(0,L.default)(A,"Unable to find Page context.");let{onGetStructTreeError:S,onGetStructTreeSuccess:T}=A,[M,R]=(0,z.default)(),{value:O,error:I}=M,{customTextRenderer:V,page:W}=A;function X(){O&&T&&T(O)}function K(){I&&((0,N.default)(!1,I.toString()),S&&S(I))}function Y(){R({type:"RESET"})}function J(){if(V||!W)return;let A=(0,D.default)(W.getStructTree()),S=A;return A.promise.then(A=>{R({type:"RESOLVE",value:A})}).catch(A=>{R({type:"REJECT",error:A})}),()=>(0,H.cancelRunningTask)(S)}return((0,F.useEffect)(Y,[R,W]),(0,F.useEffect)(J,[V,W,R]),(0,F.useEffect)(()=>{if(void 0!==O){if(!1===O){K();return}X()}},[O]),O)?F.default.createElement(B.default,{className:"react-pdf__Page__structTree structTree",node:O}):null}S.default=V},97640:function(A,S,T){"use strict";var M=this&&this.__createBinding||(Object.create?function(A,S,T,M){void 0===M&&(M=T);var R=Object.getOwnPropertyDescriptor(S,T);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(A,M,R)}:function(A,S,T,M){void 0===M&&(M=T),A[M]=S[T]}),R=this&&this.__setModuleDefault||(Object.create?function(A,S){Object.defineProperty(A,"default",{enumerable:!0,value:S})}:function(A,S){A.default=S}),O=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var S={};if(null!=A)for(var T in A)"default"!==T&&Object.prototype.hasOwnProperty.call(A,T)&&M(S,A,T);return R(S,A),S};Object.defineProperty(S,"__esModule",{value:!0});let I=O(T(67294)),F=T(47561);function D({className:A,node:S}){let T=(0,I.useMemo)(()=>(0,F.getAttributes)(S),[S]),M=(0,I.useMemo)(()=>!(0,F.isStructTreeNode)(S)||(0,F.isStructTreeNodeWithOnlyContentChild)(S)?null:S.children.map((A,S)=>I.default.createElement(D,{key:S,node:A})),[S]);return I.default.createElement("span",Object.assign({className:A},T),M)}S.default=D},61537:function(A,S,T){"use strict";var M=this&&this.__rest||function(A,S){var T={};for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&0>S.indexOf(M)&&(T[M]=A[M]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols)for(var R=0,M=Object.getOwnPropertySymbols(A);R<M.length;R++)0>S.indexOf(M[R])&&Object.prototype.propertyIsEnumerable.call(A,M[R])&&(T[M[R]]=A[M[R]]);return T},R=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let O=R(T(67294)),I=R(T(57966)),F=R(T(26018)),D=R(T(58160)),L=T(61973),N=R(T(30529)),B=function(A){let S=(0,N.default)(),T=Object.assign(Object.assign({},S),A),{className:R,linkService:B,onItemClick:$,pageIndex:z,pageNumber:H,pdf:V}=T;(0,F.default)(V,"Attempted to load a thumbnail, but no document was specified. Wrap <Thumbnail /> in a <Document /> or pass explicit `pdf` prop.");let W=(0,L.isProvided)(H)?H-1:null!=z?z:null,X=null!=H?H:(0,L.isProvided)(z)?z+1:null;function K(A){A.preventDefault(),(0,L.isProvided)(W)&&X&&((0,F.default)($||B,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),$?$({pageIndex:W,pageNumber:X}):B&&B.goToPage(X))}let{className:Y,onItemClick:J}=A,Q=M(A,["className","onItemClick"]);return O.default.createElement("a",{className:(0,I.default)("react-pdf__Thumbnail",R),href:X?"#":void 0,onClick:K},O.default.createElement(D.default,Object.assign({},Q,{_className:"react-pdf__Thumbnail__page",_enableRegisterUnregisterPage:!1,renderAnnotationLayer:!1,renderTextLayer:!1})))};S.default=B},31822:function(A,S,T){"use strict";var M=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0}),S.PasswordResponses=S.usePageContext=S.useOutlineContext=S.useDocumentContext=S.Thumbnail=S.Page=S.Outline=S.Document=S.pdfjs=void 0;let R=M(T(18628));S.pdfjs=R.default;let O=M(T(82087));S.Document=O.default;let I=M(T(54533));S.Outline=I.default;let F=M(T(58160));S.Page=F.default;let D=M(T(61537));S.Thumbnail=D.default;let L=M(T(30529));S.useDocumentContext=L.default;let N=M(T(21902));S.useOutlineContext=N.default;let B=M(T(94602));S.usePageContext=B.default;let $=M(T(62788));S.PasswordResponses=$.default;let z=T(61973);(0,z.displayWorkerWarning)(),R.default.GlobalWorkerOptions.workerSrc="pdf.worker.js"},18628:function(A,S,T){"use strict";var M=this&&this.__createBinding||(Object.create?function(A,S,T,M){void 0===M&&(M=T);var R=Object.getOwnPropertyDescriptor(S,T);(!R||("get"in R?!S.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(A,M,R)}:function(A,S,T,M){void 0===M&&(M=T),A[M]=S[T]}),R=this&&this.__setModuleDefault||(Object.create?function(A,S){Object.defineProperty(A,"default",{enumerable:!0,value:S})}:function(A,S){A.default=S}),O=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var S={};if(null!=A)for(var T in A)"default"!==T&&Object.prototype.hasOwnProperty.call(A,T)&&M(S,A,T);return R(S,A),S};Object.defineProperty(S,"__esModule",{value:!0});let I=O(T(99299)),F="default"in I?I.default:I;S.default=F},28554:function(A,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.HEADING_PATTERN=S.PDF_ROLE_TO_HTML_ROLE=void 0,S.PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},S.HEADING_PATTERN=/^H(\d+)$/},97322:function(A,S,T){"use strict";Object.defineProperty(S,"__esModule",{value:!0});let M=T(67294),R=T(61973);function O(A){let S=(0,M.useRef)(),T=S.current;return(0,R.isDefined)(T)?()=>T:()=>{let T=A();return S.current=T,T}}S.default=O},30529:function(A,S,T){"use strict";var M=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let R=T(67294),O=M(T(94118));function I(){return(0,R.useContext)(O.default)}S.default=I},21902:function(A,S,T){"use strict";var M=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let R=T(67294),O=M(T(70502));function I(){return(0,R.useContext)(O.default)}S.default=I},94602:function(A,S,T){"use strict";var M=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0});let R=T(67294),O=M(T(54721));function I(){return(0,R.useContext)(O.default)}S.default=I},5014:function(A,S,T){"use strict";Object.defineProperty(S,"__esModule",{value:!0});let M=T(67294);function R(A,S){switch(S.type){case"RESOLVE":return{value:S.value,error:void 0};case"REJECT":return{value:!1,error:S.error};case"RESET":return{value:void 0,error:void 0};default:return A}}function O(){return(0,M.useReducer)(R,{value:void 0,error:void 0})}S.default=O},49999:function(A,S,T){"use strict";var M=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0}),S.isRotate=S.isRenderMode=S.isRef=S.isPdf=S.isPageNumber=S.isPageIndex=S.isPage=S.isLinkTarget=S.isLinkService=S.isFile=S.isClassName=S.eventProps=void 0;let R=M(T(45697)),O=T(68435),I=M(T(18628)),F=T(61973),D=M(T(6270)),{PDFDataRangeTransport:L}=I.default;S.eventProps=(()=>{let A={};return O.allEvents.forEach(S=>{A[S]=R.default.func}),A})();let N=R.default.oneOfType([R.default.instanceOf(Int8Array),R.default.instanceOf(Uint8Array),R.default.instanceOf(Uint8ClampedArray),R.default.instanceOf(Int16Array),R.default.instanceOf(Uint16Array),R.default.instanceOf(Int32Array),R.default.instanceOf(Uint32Array),R.default.instanceOf(Float32Array),R.default.instanceOf(Float64Array)]),B=[R.default.string,R.default.instanceOf(ArrayBuffer),R.default.shape({data:R.default.oneOfType([R.default.string,R.default.instanceOf(ArrayBuffer),R.default.arrayOf(R.default.number.isRequired),N]).isRequired}),R.default.shape({range:R.default.instanceOf(L).isRequired}),R.default.shape({url:R.default.string.isRequired})];"undefined"!=typeof Blob&&B.push(R.default.instanceOf(Blob)),S.isClassName=R.default.oneOfType([R.default.string,R.default.arrayOf(R.default.string)]),S.isFile=R.default.oneOfType(B),S.isLinkService=R.default.instanceOf(D.default),S.isLinkTarget=R.default.oneOf(["_self","_blank","_parent","_top"]),S.isPage=R.default.shape({commonObjs:R.default.shape({}).isRequired,getAnnotations:R.default.func.isRequired,getTextContent:R.default.func.isRequired,getViewport:R.default.func.isRequired,render:R.default.func.isRequired});let $=function(A,S,T){let{[S]:M,pageNumber:R,pdf:O}=A;if(!(0,F.isDefined)(O))return null;if((0,F.isDefined)(M)){if("number"!=typeof M)return Error(`\`${S}\` of type \`${typeof M}\` supplied to \`${T}\`, expected \`number\`.`);if(M<0)return Error(`Expected \`${S}\` to be greater or equal to 0.`);let{numPages:A}=O;if(M+1>A)return Error(`Expected \`${S}\` to be less or equal to ${A-1}.`)}else if(!(0,F.isDefined)(R))return Error(`\`${S}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${T}\`.`);return null};S.isPageIndex=$;let z=function(A,S,T){let{[S]:M,pageIndex:R,pdf:O}=A;if(!(0,F.isDefined)(O))return null;if((0,F.isDefined)(M)){if("number"!=typeof M)return Error(`\`${S}\` of type \`${typeof M}\` supplied to \`${T}\`, expected \`number\`.`);if(M<1)return Error(`Expected \`${S}\` to be greater or equal to 1.`);let{numPages:A}=O;if(M>A)return Error(`Expected \`${S}\` to be less or equal to ${A}.`)}else if(!(0,F.isDefined)(R))return Error(`\`${S}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${T}\`.`);return null};S.isPageNumber=z,S.isPdf=R.default.oneOfType([R.default.any,R.default.oneOf([!1])]),S.isRef=R.default.oneOfType([R.default.func,R.default.exact({current:R.default.any})]),S.isRenderMode=R.default.oneOf(["canvas","custom","none","svg"]),S.isRotate=R.default.oneOf([0,90,180,270])},47561:function(A,S,T){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAttributes=S.getBaseAttributes=S.getRoleAttributes=S.isStructTreeNodeWithOnlyContentChild=S.isStructTreeNode=S.isPdfRole=void 0;let M=T(28554);function R(A){return A in M.PDF_ROLE_TO_HTML_ROLE}function O(A){return"children"in A}function I(A){return!!O(A)&&1===A.children.length&&0 in A.children&&"id"in A.children[0]}function F(A){let S={};if(O(A)){let{role:T}=A,O=T.match(M.HEADING_PATTERN);if(O)S.role="heading",S["aria-level"]=Number(O[1]);else if(R(T)){let A=M.PDF_ROLE_TO_HTML_ROLE[T];A&&(S.role=A)}}return S}function D(A){let S={};if(O(A)){if(void 0!==A.alt&&(S["aria-label"]=A.alt),void 0!==A.lang&&(S.lang=A.lang),I(A)){let[T]=A.children;if(T){let A=D(T);return Object.assign(Object.assign({},S),A)}}}else"id"in A&&(S["aria-owns"]=A.id);return S}function L(A){return A?Object.assign(Object.assign({},F(A)),D(A)):null}S.isPdfRole=R,S.isStructTreeNode=O,S.isStructTreeNodeWithOnlyContentChild=I,S.getRoleAttributes=F,S.getBaseAttributes=D,S.getAttributes=L},61973:function(A,S,T){"use strict";var M=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(S,"__esModule",{value:!0}),S.loadFromFile=S.isCancelException=S.makePageCallback=S.cancelRunningTask=S.displayWorkerWarning=S.displayCORSWarning=S.getDevicePixelRatio=S.dataURItoByteString=S.isDataURI=S.isBlob=S.isArrayBuffer=S.isString=S.isProvided=S.isDefined=S.isLocalFileSystem=S.isBrowser=void 0;let R=M(T(26018)),O=M(T(42473));function I(A){return void 0!==A}function F(A){return I(A)&&null!==A}function D(A){return"string"==typeof A}function L(A){return A instanceof ArrayBuffer}function N(A){return(0,R.default)(S.isBrowser,"isBlob can only be used in a browser environment"),A instanceof Blob}function B(A){return D(A)&&/^data:/.test(A)}function $(A){(0,R.default)(B(A),"Invalid data URI.");let[S="",T=""]=A.split(","),M=S.split(";");return -1!==M.indexOf("base64")?atob(T):unescape(T)}function z(){return S.isBrowser&&window.devicePixelRatio||1}S.isBrowser="undefined"!=typeof document,S.isLocalFileSystem=S.isBrowser&&"file:"===window.location.protocol,S.isDefined=I,S.isProvided=F,S.isString=D,S.isArrayBuffer=L,S.isBlob=N,S.isDataURI=B,S.dataURItoByteString=$,S.getDevicePixelRatio=z;let H="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function V(){(0,O.default)(!S.isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${H}`)}function W(){(0,O.default)(!S.isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${H}`)}function X(A){A&&A.cancel&&A.cancel()}function K(A,S){return Object.defineProperty(A,"width",{get(){return this.view[2]*S},configurable:!0}),Object.defineProperty(A,"height",{get(){return this.view[3]*S},configurable:!0}),Object.defineProperty(A,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(A,"originalHeight",{get(){return this.view[3]},configurable:!0}),A}function Y(A){return"RenderingCancelledException"===A.name}function J(A){return new Promise((S,T)=>{let M=new FileReader;M.onload=()=>{if(!M.result)return T(Error("Error while reading a file."));S(M.result)},M.onerror=A=>{if(!A.target)return T(Error("Error while reading a file."));let{error:S}=A.target;if(!S)return T(Error("Error while reading a file."));switch(S.code){case S.NOT_FOUND_ERR:return T(Error("Error while reading a file: File not found."));case S.SECURITY_ERR:return T(Error("Error while reading a file: Security error."));case S.ABORT_ERR:return T(Error("Error while reading a file: Aborted."));default:return T(Error("Error while reading a file."))}},M.readAsArrayBuffer(A)})}S.displayCORSWarning=V,S.displayWorkerWarning=W,S.cancelRunningTask=X,S.makePageCallback=K,S.isCancelException=Y,S.loadFromFile=J}},function(A){var S=function(S){return A(A.s=S)};A.O(0,[774,179],function(){return S(91118),S(96885)}),_N_E=A.O()}]);